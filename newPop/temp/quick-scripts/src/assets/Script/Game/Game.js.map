{"version":3,"sources":["assets/Script/Game/Game.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import AssetsBundle from \"./AssetsBundle\";\nimport Cash from \"../Component/Cash\";\nconst { ccclass, property } = cc._decorator;\nvar self: any = null;\n@ccclass\nexport default class Game extends cc.Component {\n    public static Instance: Game = null;\n    private wrap: cc.Node = null;\n    private layer: cc.Node = null;\n    private pop: cc.Node = null;\n    private delete_num: number = 0;\n    private click_pos: cc.Vec3 = null;\n    private a = [];\n    private b = [];\n    private difficulty: number = 2;\n    private _count: number = 0;\n    private level_add_cash = 0;\n    private is_over_game: boolean = false;\n    private delete_pos_arr = [];\n    protected onLoad(): void {\n        if (Game.Instance === null) {\n            Game.Instance = this;\n        } else {\n            this.destroy();\n            return;\n        }\n        //初始化的用户数据\n        self = this;\n        cc.Tools.screenAdapter();\n        //注册一些事件\n        cc.Tools.Event.on(\"cash\", this.showCashType, this);\n        this.wrap = this.node.getChildByName(\"wrap\");\n        this.layer = this.node.getChildByName(\"layer\");\n        this.pop = this.node.getChildByName(\"pop\");\n        this.getReqInfo(\"UserInfo\", \"GET\", {}, this.initUserInfo)\n    }\n    private InitGame(): void {\n        let content: cc.Node = this.wrap.getChildByName(\"content\");\n        content.on(cc.Node.EventType.TOUCH_START, this.touchGround, this);\n        this.level_add_cash = 0;\n        this.setLevelAddCash();\n        content.destroyAllChildren();\n        for (let i = 0; i < 10; i++) {\n            this.a[i] = []\n            this.b[i] = []\n            for (let j = 0; j < 10; j++) {\n                this.a[i][j] = Math.ceil(Math.random() * this.difficulty)\n                let node = null;\n                switch (this.a[i][j]) {\n                    case 1:\n                        let red = AssetsBundle.Instance.getAsset(\"Game\", \"Prefab/red\")\n                        node = cc.instantiate(red)\n                        node.parent = content\n                        node.setPosition(this.ToXY(i, j))\n                        break;\n                    case 2:\n                        let green = AssetsBundle.Instance.getAsset(\"Game\", \"Prefab/green\")\n                        node = cc.instantiate(green)\n                        node.parent = content\n                        node.setPosition(this.ToXY(i, j))\n                        break;\n                    case 3:\n                        let yellow = AssetsBundle.Instance.getAsset(\"Game\", \"Prefab/yellow\")\n                        node = cc.instantiate(yellow)\n                        node.parent = content\n                        node.setPosition(this.ToXY(i, j))\n                        break;\n                    case 4:\n                        let blue = AssetsBundle.Instance.getAsset(\"Game\", \"Prefab/blue\")\n                        node = cc.instantiate(blue)\n                        node.parent = content\n                        node.setPosition(this.ToXY(i, j))\n                        break;\n                    case 5:\n                        let pink = AssetsBundle.Instance.getAsset(\"Game\", \"Prefab/pink\")\n                        node = cc.instantiate(pink)\n                        node.parent = content\n                        node.setPosition(this.ToXY(i, j))\n\n                }\n                this.b[i][j] = node;\n            }\n        }\n    }\n    //用户首次进来弹窗\n    private firstEnterGame():void{\n        // let first:string = cc.sys.localStorage.getItem(\"first\");\n        // if(!first){\n            cc.sys.localStorage.setItem(\"first\",true);\n            let first:cc.Prefab = AssetsBundle.Instance.getAsset(\"Game\", \"Prefab/first_pop\");\n            first.addRef();\n            let node = cc.instantiate(first);\n            node.parent = this.node;\n        // }\n    }\n    //写一个接口返回请求的数据\n    private getReqInfo(api: string, reqType: string, sendData: any, callback: Function): void {\n        cc.Tools.sendRequest(api, reqType, sendData).then(res => {\n            callback(res.data);\n        })\n        // .catch(err => {\n        //     console.log(`请求${api}失败，错误返回${err}`);\n        // })\n    }\n    private initUserInfo(data: any): void {\n        cc.Tools.userInfo = data;\n        let levelLbl: cc.Label = self.wrap.getChildByName(\"level\").getChildByName(\"lbl\").getComponent(cc.Label);\n        levelLbl.string = `第${cc.Tools.userInfo.level}关`\n        self.registerEvent();\n        self.InitGame();\n        self.firstEnterGame();\n    }\n    private registerEvent():void{\n        let bottom:cc.Node = this.wrap.getChildByName(\"bottom\");\n        let top:cc.Node = this.wrap.getChildByName(\"top\");\n        let eventFunc = [\"showTurntable\",\"showAward\",\"showCash2\"];\n        for(let i=1;i<=3;i++){\n            let btn = bottom.getChildByName(\"btn_\"+i);\n            btn.on(cc.Node.EventType.TOUCH_END,this[eventFunc[i-1]],this)\n        }\n        let avatar = top.getChildByName(\"avatar\");\n        avatar.on(cc.Node.EventType.TOUCH_END,this.showCash1,this)\n    }\n    private removeEvent() :void{\n        let bottom:cc.Node = this.wrap.getChildByName(\"bottom\");\n        let top:cc.Node = this.wrap.getChildByName(\"top\");\n        let eventFunc = [\"showTurntable\",\"showAward\",\"showCash2\"];\n        for(let i=1;i<=3;i++){\n            let btn = bottom.getChildByName(\"btn_\"+i);\n            btn.off(cc.Node.EventType.TOUCH_END,this[eventFunc[i-1]],this)\n        }\n        let avatar = top.getChildByName(\"avatar\");\n        avatar.off(cc.Node.EventType.TOUCH_END,this.showCash1,this)\n    }\n    public showTurntable():void{\n        let turntable = this.layer.getChildByName(\"turntable_layer\");\n        if(turntable){\n            turntable.active = true;\n        }else{\n            let turntable = AssetsBundle.Instance.getAsset(\"Game\", \"Prefab/turntable_layer\")\n            let node = cc.instantiate(turntable);\n            node.parent = self.layer;\n        }\n    }\n    public showAward():void{\n        // let cash = this.layer.getChildByName(\"cash_layer\");\n        // if(cash){\n        //     cash.active = true;\n        // }else{\n        //     let cash = AssetsBundle.Instance.getAsset(\"Game\", \"Prefab/cash_layer\")\n        //     let node = cc.instantiate(cash);\n        //     node.parent = self.layer;\n        // }\n    }\n    private showCash2():void{\n        cc.Tools.emitEvent(\"cash\",2)\n    }\n    private showCash1():void{\n        cc.Tools.emitEvent(\"cash\",1);\n    }\n    public showCashType(type:number):void{\n        this.showCash();\n        Cash.Instance[\"showTypeLayer\"+type]();\n    }\n    public showCash():void{\n        let cash = this.layer.getChildByName(\"cash_layer\");\n        if(cash){\n            cash.active = true;\n        }else{\n            let cash = AssetsBundle.Instance.getAsset(\"Game\", \"Prefab/cash_layer\")\n            let node = cc.instantiate(cash);\n            node.parent = self.layer;\n        }\n        // // if()\n        // Cash.Instance.showTypeLayer1()\n    }\n    private touchGround(e: cc.Event.EventTouch) {\n        let content: cc.Node = this.wrap.getChildByName(\"content\");\n        let pos = content.convertToNodeSpaceAR(e.getLocation())\n        let x = pos.x\n        let y = pos.y\n        this.delete_num = 0\n        this.click_pos = cc.v3(x, y);\n        // console.log(x, y);\n        console.log(this.ToIJ(x, y));\n        let i = this.ToIJ(x, y).x\n        let j = this.ToIJ(x, y).y\n        this.delete_num = 0;\n        this.delete_pos_arr = [];\n        let color = this.a[i][j];\n        this.Touch_block(i, j, this.a[i][j]);\n        // todo\n        if (this.delete_num === 1) {\n            this.a[i][j] = color;\n            return\n        } else {\n            this.handleDeleteBlock(false);\n        }\n    }\n    private ToIJ(i: number, j: number) {\n        let content: cc.Node = this.wrap.getChildByName(\"content\");\n        let val = content.width / 2;\n        i = Math.floor((i + val) / 100);\n        j = 9 - Math.floor((j + val) / 100);\n        return {\n            x: j,\n            y: i\n        }\n    }\n    private ToXY(x: number, y: number) {\n        return cc.v2(-450 + 100 * y, 450 - 100 * x);\n    }\n    private Touch_block(i: number, j: number, k: number): void {\n        if (this.a[i][j] == k && k > 0) {\n            this.a[i][j] = 0\n            this.delete_num++\n            let obj = {\n                \"i\": i,\n                \"j\": j,\n                \"k\": k\n            }\n            //delete\n            let arr = [];\n            arr.push(obj);\n            this.splitToArr(arr);\n        }\n    }\n    private splitToArr(arr): void {\n        let _arr = [];\n        if (arr.length > 0) {\n            this.delete_pos_arr.push(arr);\n            for (let t = 0; t < arr.length; t++) {\n                let data = arr[t];\n                let i = data.i;\n                let j = data.j;\n                let k = data.k;\n                if (i != 0) {\n                    if (this.a[i - 1][j] == k && k > 0) {\n                        this.a[i - 1][j] = 0;\n                        this.delete_num++;\n                        let obj = {\n                            \"i\": i - 1,\n                            \"j\": j,\n                            \"k\": k\n                        }\n                        _arr.push(obj);\n                    }\n                }\n                if (i != 9) {\n                    if (this.a[i + 1][j] == k && k > 0) {\n                        this.a[i + 1][j] = 0;\n                        this.delete_num++;\n                        let obj = {\n                            \"i\": i + 1,\n                            \"j\": j,\n                            \"k\": k\n                        }\n                        _arr.push(obj);\n                    }\n                }\n                if (j != 0) {\n                    if (this.a[i][j - 1] == k && k > 0) {\n                        this.a[i][j - 1] = 0;\n                        this.delete_num++;\n                        let obj = {\n                            \"i\": i,\n                            \"j\": j - 1,\n                            \"k\": k\n                        }\n                        _arr.push(obj);\n                    }\n                }\n                if (j != 9) {\n                    if (this.a[i][j + 1] == k && k > 0) {\n                        this.a[i][j + 1] = 0;\n                        this.delete_num++;\n                        let obj = {\n                            \"i\": i,\n                            \"j\": j + 1,\n                            \"k\": k\n                        }\n                        _arr.push(obj);\n                    }\n                }\n            }\n            this.splitToArr(_arr);\n        }\n    }\n    // 将要delete的数据进行处理\n    private handleDeleteBlock(isOver: boolean): void {\n        if (!this.delete_pos_arr.length) {\n            return;\n        }\n        this._count = 0;\n        this.is_over_game = isOver;\n        this.schedule(this.deleteBlockCb, 0.032, this.delete_pos_arr.length - 1);\n        if(!isOver){\n            this.setLevelAddCash();\n        }\n    }\n    private deleteBlockCb(): void {\n        let arr = this.delete_pos_arr[this._count];\n        for (let t = 0; t < arr.length; t++) {\n            let data = arr[t];\n            let i = data.i;\n            let j = data.j;\n            let k = data.k;\n            //spine特效\n            let content: cc.Node = this.wrap.getChildByName(\"content\");\n            let spine: cc.Prefab = AssetsBundle.Instance.getAsset(\"Game\", \"Prefab/effect\")\n            let node = cc.instantiate(spine)\n            node.parent = content;\n            node.setPosition(this.ToXY(i, j))\n            let _spine: sp.Skeleton = node.getChildByName(\"spine\").getComponent(\"sp.Skeleton\");\n            let rdm = Math.floor(Math.random() * 3 + 1);\n            _spine.setAnimation(0, \"STYLE_\" + rdm, false);\n\n            this.b[i][j].destroy()\n            this.b[i][j] = null\n        }\n        if (this._count === this.delete_pos_arr.length - 1) {\n            this.afterDeleteBlock()\n        }\n        this._count++;\n    }\n    private afterDeleteBlock(): void {\n        this.deleteBlock();\n        this.unschedule(this.deleteBlockCb);\n    }\n    private deleteBlock(): void {\n        for (let j = 0; j < 10; j++) {\n            let num = 0\n            for (let i = 9; i >= 0; i--) {\n                if (this.a[i][j] > 0 && num > 0) {\n                    let action = cc.moveBy(0.3, 0, -num * 100)\n                    this.b[i][j].runAction(action)\n                    this.a[i + num][j] = this.a[i][j]\n                    this.a[i][j] = 0\n                    this.b[i + num][j] = this.b[i][j]\n                    this.b[i][j] = null\n                    continue\n                }\n                if (this.a[i][j] == 0) {\n                    num = num + 1\n                }\n            }\n        }\n        let _count = 0\n        for (let j = 0; j < 10; j++) {\n            if (this.a[9][j] > 0 && _count > 0) {\n                for (let i = 0; i < 10; i++) {\n                    if (this.a[i][j] > 0) {\n                        var action = cc.moveBy(0.3, -_count * 100, 0)\n                        this.b[i][j].runAction(action)\n                        this.a[i][j - _count] = this.a[i][j]\n                        this.a[i][j] = 0\n                        this.b[i][j - _count] = this.b[i][j]\n                        this.b[i][j] = null\n                    }\n\n                }\n                continue\n            }\n            if (this.a[9][j] == 0) {\n                _count++\n            }\n        }\n    }\n    /**\n     * 每消除一个方块的基础得分为0.01元钱，一次消除10个以上获得1.1倍率，一次消除20个以上获得1.2倍率，一次消除30个以上获得1.5倍率，最大为1.5倍率。最终得到金额向下取整\n    */\n    private setLevelAddCash(): void {\n        //level_add_cash\n        let cash: cc.Label = this.wrap.getChildByName(\"money\").getChildByName(\"layout\").getChildByName(\"cash\").getComponent(cc.Label);\n        if (this.delete_num !== 0) {\n            if(this.delete_num<10){\n                //没有倍率\n                this.level_add_cash+=this.delete_num\n            }else if(this.delete_num>=10&&this.delete_num<20){\n                //10个以上1.1\n                this.level_add_cash+=Math.floor(this.delete_num*1.1);\n            }else if(this.delete_num>=20&&this.delete_num<30){\n                //20个以上1.2\n                this.level_add_cash+=Math.floor(this.delete_num*1.2)\n            }else{\n                //大于30个1.5\n                this.level_add_cash+=Math.floor(this.delete_num*1.5)\n            }\n        }\n        cash.string = this.level_add_cash/100 + \"\";\n    }\n}"]}