{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/fight/base/skill/SkillTimePush.ts"],"names":["_decorator","SkillControl","ccclass","property","SkillTimePush","skills","info","clear","length","setAbsInfo","_info","addSkill","skill","push","check","index","isInCD","attrData","ins","useSkillAndBullet","abs"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AAGAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OAGH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;AAE9B;AACA;;+BAEaI,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb,CAC2B;AAAA;AAAA,eAEvBC,MAFuB,GAEF,EAFE;AAAA,eAGvBC,IAHuB,GAGH,IAHG;AAAA;;AAIvBC,QAAAA,KAAK,GAAG;AACJ,eAAKF,MAAL,CAAYG,MAAZ,GAAqB,CAArB;AACH;;AAEDC,QAAAA,UAAU,CAACC,KAAD,EAAqB;AAC3B,eAAKJ,IAAL,GAAYI,KAAZ;AACH;;AAEDC,QAAAA,QAAQ,CAACC,KAAD,EAAkB;AACtB,eAAKP,MAAL,CAAYQ,IAAZ,CAAiBD,KAAjB;AACH;;AAEDE,QAAAA,KAAK,GAAG;AACJ,cAAI,KAAKT,MAAL,CAAYG,MAAZ,IAAsB,CAAtB,IAA2B,KAAKF,IAAL,IAAa,IAA5C,EAAkD;AAC9C;AACH;;AAED,eAAK,IAAIS,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKV,MAAL,CAAYG,MAAxC,EAAgDO,KAAK,EAArD,EAAyD;AACrD,gBAAMH,KAAK,GAAG,KAAKP,MAAL,CAAYU,KAAZ,CAAd;;AACA,gBAAIH,KAAK,CAACI,MAAN,CAAa,KAAKV,IAAL,CAAUW,QAAvB,CAAJ,EAAsC;AAClC;AACH;;AACD;AAAA;AAAA,8CAAaC,GAAb,CAAiBC,iBAAjB,CAAmCP,KAAnC,EAA0C,KAAKN,IAAL,CAAUc,GAApD;AACH;AACJ;;AA5BsB,O","sourcesContent":["import { _decorator, Component } from \"cc\";\nimport { SkillTab } from \"../../power/powerTab/SkillTab\";\nimport { AbsRoleInfo } from \"../obj/role/AbsRoleInfo\";\nimport { SkillControl } from \"./SkillControl\";\n\n\nconst { ccclass, property } = _decorator;\n\n/** 技能时间释放 \n*/\n@ccclass('SkillTimePush')\nexport class SkillTimePush {\n\n    skills: SkillTab[] = [];\n    info: AbsRoleInfo = null\n    clear() {\n        this.skills.length = 0\n    }\n\n    setAbsInfo(_info: AbsRoleInfo) {\n        this.info = _info\n    }\n\n    addSkill(skill: SkillTab) {\n        this.skills.push(skill)\n    }\n\n    check() {\n        if (this.skills.length == 0 || this.info == null) {\n            return\n        }\n\n        for (let index = 0; index < this.skills.length; index++) {\n            const skill = this.skills[index];\n            if (skill.isInCD(this.info.attrData)) {\n                continue\n            }\n            SkillControl.ins.useSkillAndBullet(skill, this.info.abs)\n        }\n    }\n}"]}