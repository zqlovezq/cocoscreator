{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/rareBook/RareBookGroupAttributeITitleItem.ts"],"names":["_decorator","Color","Component","instantiate","Label","Node","Prefab","tab","LangMgr","ccclass","property","RareBookGroupAttributeITitleItem","initData","table","curNum","totoal","titleLab","string","getCombineString","Level","numLab","attributeNode","removeAllChildren","Skill","length","key","SkillShow","item","attrItemPrefab","parent","lab","getChildByName","getComponent","getLab","AttrType","type","value","AttrValue","attTable","getData","HeroAttrClientTableByType","getValue","vStr","ShowPercent","cStr","GetKeyValue_ConfigTable","InterfaceTxtGreen","InterfaceTxtRed","color","fromHEX","updateView"],"mappings":"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","sourcesContent":["import { _decorator, Color, Component, instantiate, Label, Node, Prefab } from 'cc';\r\nimport { tab } from '../../../Table/table_gen';\r\nimport { LangMgr } from '../../mgr/LangMgr';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * \r\n * RareBookGroupAttributeITitleItem\r\n * zhudingchao\r\n * Mon May 27 2024 17:18:11 GMT+0800 (中国标准时间)\r\n * db://assets/scripts/logic/model/rareBook/RareBookGroupAttributeITitleItem.ts\r\n *\r\n */\r\n\r\n@ccclass('RareBookGroupAttributeITitleItem')\r\nexport class RareBookGroupAttributeITitleItem extends Component {\r\n    @property(Label)\r\n    titleLab:Label=null;\r\n    @property(Label)\r\n    numLab:Label=null;\r\n    @property(Node)\r\n    attributeNode:Node=null;\r\n    @property(Prefab)\r\n    attrItemPrefab:Prefab=null;\r\n\r\n    initData(table:tab.BookSeriesTable,curNum:number,totoal:number){\r\n        //this.titleLab.string=table.Level+\"星融汇效果\";\r\n        this.titleLab.string = LangMgr.getCombineString(\"ui_rarebook_25\",[table.Level]);\r\n        this.numLab.string=curNum+\"/\"+totoal;\r\n        this.attributeNode.removeAllChildren();\r\n        if(table.Skill&&table.Skill.length>0){\r\n            for(let key in table.SkillShow ){\r\n          \r\n                let item=instantiate(this.attrItemPrefab);\r\n                item.parent=this.attributeNode;\r\n                let lab=item.getChildByName(\"attr_label\").getComponent(Label);\r\n                lab.string=LangMgr.getLab(table.SkillShow[key]);\r\n            }\r\n        }\r\n        for(let key in table.AttrType ){\r\n            let type=table.AttrType[key];\r\n            let value=table.AttrValue[key];\r\n            let attTable=tab.getData().HeroAttrClientTableByType.getValue(type);\r\n            let item=instantiate(this.attrItemPrefab);\r\n            item.parent=this.attributeNode;\r\n            let lab=item.getChildByName(\"attr_label\").getComponent(Label);\r\n            let vStr=attTable&&attTable.ShowPercent?(value/100)+\"%\":value+\"\"\r\n            lab.string=LangMgr.getLab(tab.AttrType[type])+\"+\"+vStr;\r\n        }\r\n        let cStr=\"\"\r\n        if(curNum>=totoal){\r\n            cStr=tab.getData().GetKeyValue_ConfigTable().InterfaceTxtGreen;\r\n            \r\n        }else{\r\n            cStr=tab.getData().GetKeyValue_ConfigTable().InterfaceTxtRed;\r\n        }\r\n        this.numLab.color=new Color().fromHEX(cStr);\r\n    }\r\n\r\n    updateView(curNum:number,totoal:number){\r\n        this.numLab.string=curNum+\"/\"+totoal;\r\n        let cStr=\"\"\r\n        if(curNum>=totoal){\r\n            cStr=tab.getData().GetKeyValue_ConfigTable().InterfaceTxtGreen;\r\n            \r\n        }else{\r\n            cStr=tab.getData().GetKeyValue_ConfigTable().InterfaceTxtRed;\r\n        }\r\n        this.numLab.color=new Color().fromHEX(cStr);\r\n    }\r\n}"]}