{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/fight/data/HeroFightInfo.ts"],"names":["HeroFightInfo","_decorator","ccclass","property","id","itemId","star","noFightLevel","attrList","skillList","level","intoIndex","setServerData","dd","concat","isIntoFight"],"mappings":";;;2FAUaA,a;;;;;;;;;;;;;;;AAVJC,MAAAA,U,OAAAA,U;;;;;;;;;OAOH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBF,U;AAE9B;;+BACaD,a,GAAN,MAAMA,aAAN,CAAoB;AAAA;AACvB;AADuB,eAEvBI,EAFuB;AAAA,eAGvBC,MAHuB;AAAA,eAIvBC,IAJuB;AAAA,eAKvBC,YALuB;AAAA,eAMvBC,QANuB,GAMW,EANX;AAAA,eAOvBC,SAPuB,GAOD,EAPC;AASvB;AATuB,eAUvBC,KAVuB,GAUP,CAVO;AAUL;AAVK,eAWvBC,SAXuB,GAWH,CAXG;AAAA;;AAavBC,QAAAA,aAAa,CAACC,EAAD,EAA2B;AACpC,eAAKT,EAAL,GAAUS,EAAE,CAACT,EAAb;AACA,eAAKC,MAAL,GAAcQ,EAAE,CAACR,MAAjB;AACA,eAAKE,YAAL,GAAoBM,EAAE,CAACH,KAAvB;AACA,eAAKJ,IAAL,GAAYO,EAAE,CAACP,IAAf;AACA,eAAKE,QAAL,GAAgBK,EAAE,CAACL,QAAnB;AACA,eAAKC,SAAL,GAAiB,GAAGK,MAAH,CAAUD,EAAE,CAACJ,SAAb,CAAjB,CANoC,CAQpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAKC,KAAL,GAAa,CAAb;AACA,eAAKC,SAAL,GAAiB,CAAjB;AACH;;AAGDI,QAAAA,WAAW,GAAG;AACV,iBAAO,KAAKJ,SAAL,GAAiB,CAAxB;AACH;;AA1CsB,O","sourcesContent":["import { _decorator } from \"cc\";\nimport { IClear } from \"../../../framework/base/IAbs\";\nimport { HeroInfo } from \"../../model/hero/HeroInfo\";\nimport { proto } from \"client_protocol\";\nimport { tab } from \"../../../Table/table_gen\";\nimport { Func } from \"../../utils/Func\";\n\nconst { ccclass, property } = _decorator;\n\n/** 战斗角色数据 */\nexport class HeroFightInfo {\n    //-----------服务器字段-------------\n    id: number\n    itemId: number\n    star: number\n    noFightLevel: number\n    attrList: proto.FightAttrData[] = []\n    skillList: number[] = []\n\n    //-----------客户端字段-------------\n    level: number = 0;//战斗内等级\n    intoIndex: number = 0\n\n    setServerData(dd: proto.IHeroFightData) {\n        this.id = dd.id\n        this.itemId = dd.itemId\n        this.noFightLevel = dd.level\n        this.star = dd.star\n        this.attrList = dd.attrList as proto.FightAttrData[]\n        this.skillList = [].concat(dd.skillList)\n\n        // let heroTab = tab.getData().HeroTableById.getValue(this.itemId)\n        // let heroStarTab: tab.HeroStarUpTable\n        // //添加表内的被动技能\n        // for (let index = heroTab.DefaultStar; index <= this.star; index++) {\n        //     heroStarTab = Func.forBy2(tab.getData().HeroStarUpTable, \"HeroId\", this.itemId, \"HeroStar\", index) as tab.HeroStarUpTable\n        //     if (heroStarTab) {\n        //         for (let j = 0; j < heroStarTab.SkillId.length; j++) {\n        //             if (this.skillList.indexOf(heroStarTab.SkillId[j]) == -1) {\n        //                 this.skillList.push(heroStarTab.SkillId[j])\n        //             }\n        //         }\n        //     }\n        // }\n\n        this.level = 0\n        this.intoIndex = 0\n    }\n\n\n    isIntoFight() {\n        return this.intoIndex > 0\n    }\n}"]}