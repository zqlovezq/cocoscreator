{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/home/PowerDifficultyTag.ts"],"names":["_decorator","Node","Component","RoleData","tab","ccclass","property","PowerDifficultyTag","stageId","setPower","power","recommendPower","a","idx","getData","GetKeyValue_ConfigTable","PveStageDifficultyTag","index","nodes","length","element","active","setStageId","ins","powerScore","PveStageTableByStageId","getValue","RecommendFight"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAyBC,MAAAA,I,OAAAA,I;AAA0BC,MAAAA,S,OAAAA,S;;AACnDC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,G,iBAAAA,G;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;oCAKjBO,kB,WADZF,OAAO,CAAC,oBAAD,C,UAGHC,QAAQ,CAAC,CAACL,IAAD,CAAD,C,2BAHb,MACaM,kBADb,SACwCL,SADxC,CACkD;AAAA;AAAA;;AAAA;;AAAA,eAK9CM,OAL8C,GAK5B,CAL4B;AAAA;;AAM9CC,QAAAA,QAAQ,CAACC,KAAD,EAAgBC,cAAhB,EAAwC;AAC5C,cAAIC,CAAC,GAAGF,KAAK,GAAGC,cAAhB,CAD4C,CAE5C;;AACA,cAAIE,GAAG,GAAG,CAAV;;AACA,cAAID,CAAC,IAAI;AAAA;AAAA,0BAAIE,OAAJ,GAAcC,uBAAd,GAAwCC,qBAAxC,CAA8D,CAA9D,CAAT,EAA2E;AACvEH,YAAAA,GAAG,GAAG,CAAN;AACH,WAFD,MAEO,IAAI;AAAA;AAAA,0BAAIC,OAAJ,GAAcC,uBAAd,GAAwCC,qBAAxC,CAA8D,CAA9D,IAAmEJ,CAAnE,IAAwEA,CAAC,GAAG;AAAA;AAAA,0BAAIE,OAAJ,GAAcC,uBAAd,GAAwCC,qBAAxC,CAA8D,CAA9D,CAAhF,EAAkJ;AACrJH,YAAAA,GAAG,GAAG,CAAN;AACH,WAFM,MAEA;AACHA,YAAAA,GAAG,GAAG,CAAN;AACH;;AACD,eAAK,IAAII,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKC,KAAL,CAAWC,MAAvC,EAA+CF,KAAK,EAApD,EAAwD;AACpD,gBAAMG,OAAO,GAAG,KAAKF,KAAL,CAAWD,KAAX,CAAhB;AACAG,YAAAA,OAAO,CAACC,MAAR,GAAiBR,GAAG,IAAII,KAAxB;AACH;AACJ;;AAEDK,QAAAA,UAAU,CAACd,OAAD,EAAkB;AACxB,cAAI,KAAKA,OAAL,IAAgBA,OAApB,EAA6B;AACzB;AACH;;AACD,eAAKA,OAAL,GAAeA,OAAf;AACA,eAAKC,QAAL,CAAc;AAAA;AAAA,oCAASc,GAAT,CAAaC,UAA3B,EAAuC;AAAA;AAAA,0BAAIV,OAAJ,GAAcW,sBAAd,CAAqCC,QAArC,CAA8C,KAAKlB,OAAnD,EAA4DmB,cAAnG;AACH;;AA7B6C,O;;;;;iBAG9B,E","sourcesContent":["import { _decorator, Tween, Vec3, Node, tween, v3, CCFloat, Component } from 'cc';\nimport { RoleData } from '../role/RoleData';\nimport { tab } from '../../../Table/table_gen';\nconst { ccclass, property } = _decorator;\n\n\n\n@ccclass('PowerDifficultyTag')\nexport class PowerDifficultyTag extends Component {\n\n    @property([Node])\n    nodes: Node[] = []\n\n    stageId: number = 0\n    setPower(power: number, recommendPower: number) {\n        let a = power / recommendPower\n        // console.log(power, recommendPower, a)\n        let idx = 0\n        if (a >= tab.getData().GetKeyValue_ConfigTable().PveStageDifficultyTag[0]) {\n            idx = 0\n        } else if (tab.getData().GetKeyValue_ConfigTable().PveStageDifficultyTag[1] < a && a < tab.getData().GetKeyValue_ConfigTable().PveStageDifficultyTag[0]) {\n            idx = 1\n        } else {\n            idx = 2\n        }\n        for (let index = 0; index < this.nodes.length; index++) {\n            const element = this.nodes[index];\n            element.active = idx == index\n        }\n    }\n\n    setStageId(stageId: number) {\n        if (this.stageId == stageId) {\n            return\n        }\n        this.stageId = stageId\n        this.setPower(RoleData.ins.powerScore, tab.getData().PveStageTableByStageId.getValue(this.stageId).RecommendFight)\n    }\n}\n"]}