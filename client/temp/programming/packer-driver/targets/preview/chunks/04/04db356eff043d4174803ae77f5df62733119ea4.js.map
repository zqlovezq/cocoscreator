{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/home/CommunityPop.ts"],"names":["_decorator","Node","ViewPop","ChannelMgr","LoginData","RoleData","ccclass","property","CommunityPop","currType","register","onShow","onClickToggle","event","type","Number","shareNode","active","taskNode","onClickFaceBook","console","log","channelTab","openURL","FaceBookUrl","onClickDiscord","onClickShare","t_obj","roleID","ins","id","serverID","default_area","url","share","retData","JSON","stringify","code"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,I,OAAAA,I;;AACvBC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,Q,iBAAAA,Q;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;8BAGaQ,Y,WADZF,OAAO,CAAC,cAAD,C,UAEHC,QAAQ,CAACN,IAAD,C,UAERM,QAAQ,CAACN,IAAD,C,2BAJb,MACaO,YADb;AAAA;AAAA,8BAC0C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAK9BC,QAL8B,GAKd,CALc;AAAA;;AAMtCC,QAAAA,QAAQ,GAAS,CAEhB;;AACDC,QAAAA,MAAM,GAAS,CAEd;;AACDC,QAAAA,aAAa,CAACC,KAAD,EAAOC,IAAP,EAAgB;AACzBA,UAAAA,IAAI,GAACC,MAAM,CAACD,IAAD,CAAX;;AACA,cAAG,KAAKL,QAAL,IAAeK,IAAlB,EAAuB;AACnB,iBAAKL,QAAL,GAAcK,IAAd;AACA,iBAAKE,SAAL,CAAeC,MAAf,GAAsB,KAAKR,QAAL,IAAe,CAArC;AACA,iBAAKS,QAAL,CAAcD,MAAd,GAAqB,KAAKR,QAAL,IAAe,CAApC;AACH;AACJ;;AACDU,QAAAA,eAAe,GAAE;AACbC,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;;AACA,cAAG;AAAA;AAAA,wCAAWC,UAAd,EAAyB;AACrB;AAAA;AAAA,0CAAWC,OAAX,CAAmB;AAAA;AAAA,0CAAWD,UAAX,CAAsBE,WAAzC;AACH,WAFD,MAEK;AACD;AAAA;AAAA,0CAAWD,OAAX,CAAmB,sCAAnB;AACH;AAEJ;;AACDE,QAAAA,cAAc,GAAE,CAEf;;AACDC,QAAAA,YAAY,GAAE;AACVN,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,cAAIM,KAAS,GAAG,EAAhB;AACAA,UAAAA,KAAK,CAACC,MAAN,GAAe;AAAA;AAAA,oCAASC,GAAT,CAAaC,EAA5B;AACAH,UAAAA,KAAK,CAACI,QAAN,GAAiB;AAAA;AAAA,sCAAUF,GAAV,CAAcG,YAA/B,CAJU,CAIkC;;AAC5CL,UAAAA,KAAK,CAACM,GAAN,GAAY,EAAZ;AAEA;AAAA;AAAA,wCAAWC,KAAX,CAAiBP,KAAjB,EAAyBQ,OAAD,IAAa;AAClCf,YAAAA,OAAO,CAACC,GAAR,CAAY,4BAA4Be,IAAI,CAACC,SAAL,CAAeF,OAAf,CAAxC;;AACC,gBAAIA,OAAO,CAACG,IAAR,IAAgB,CAApB,EAAuB,CACnB;AACH;AACJ,WALD;AAMH;;AA7CqC,O;;;;;iBAEpB,I;;;;;;;iBAEJ,I","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nimport { ViewPop } from '../../../framework/base/ViewPop';\r\nimport { ChannelMgr } from '../../../channel/ChannelMgr';\r\nimport { LoginData } from '../login/LoginData';\r\nimport { RoleData } from '../role/RoleData';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * \r\n * CommunityPop\r\n * zhudingchao\r\n * Thu Aug 15 2024 14:11:25 GMT+0800 (中国标准时间)\r\n * db://assets/scripts/logic/model/home/CommunityPop.ts\r\n *\r\n */\r\n\r\n@ccclass('CommunityPop')\r\nexport class CommunityPop extends ViewPop {\r\n    @property(Node)\r\n    shareNode: Node = null;\r\n    @property(Node)\r\n    taskNode:Node=null;\r\n    private currType:number=1;\r\n    register(): void {\r\n\r\n    }\r\n    onShow(): void {\r\n\r\n    }\r\n    onClickToggle(event,type:any){\r\n        type=Number(type);\r\n        if(this.currType!=type){\r\n            this.currType=type;\r\n            this.shareNode.active=this.currType==2;\r\n            this.taskNode.active=this.currType==1;\r\n        }\r\n    }\r\n    onClickFaceBook(){\r\n        console.log(\"js调用打开网页\")\r\n        if(ChannelMgr.channelTab){\r\n            ChannelMgr.openURL(ChannelMgr.channelTab.FaceBookUrl);\r\n        }else{\r\n            ChannelMgr.openURL(\"https://www.facebook.com/cjxd.re.tw/\")\r\n        }\r\n       \r\n    }\r\n    onClickDiscord(){\r\n\r\n    }\r\n    onClickShare(){\r\n        console.log(\"js调用分享\")\r\n        let t_obj:any = {}\r\n        t_obj.roleID = RoleData.ins.id\r\n        t_obj.serverID = LoginData.ins.default_area //sdk需要是逻辑服id\r\n        t_obj.url = \"\"\r\n\r\n        ChannelMgr.share(t_obj, (retData) => {\r\n           console.log(\"################ share \" + JSON.stringify(retData));\r\n            if (retData.code == 0) {\r\n                // this.testLoopTask();\r\n            }\r\n        });\r\n    }\r\n}"]}