{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/equip/EquipAttrInfo.ts"],"names":["_decorator","tab","ccclass","property","EquipAttrInfo","attrId","_attrTable","_heroPowerScore","initAttrId","id","attrTable","getData","EquipAttrTableById","getValue","getAddValueByLevel","level","value","Math","floor","Base","Growth","heroPowerScore","tabs","HeroPowerScore","find","a","Type","AttrType"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,G,iBAAAA,G;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;;+BAGjBI,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb,CAC2B;AAAA;AAAA,eAChBC,MADgB;AAAA,eAEfC,UAFe;AAAA,eAGfC,eAHe;AAAA;;AAKhBC,QAAAA,UAAU,CAACC,EAAD,EAAa;AAC1B,eAAKJ,MAAL,GAAcI,EAAd;AACH;;AACY,YAATC,SAAS,GAAE;AACX,cAAG,CAAC,KAAKJ,UAAT,EAAoB;AAChB,iBAAKA,UAAL,GAAgB;AAAA;AAAA,4BAAIK,OAAJ,GAAcC,kBAAd,CAAiCC,QAAjC,CAA0C,KAAKR,MAA/C,CAAhB;AACH;;AACD,iBAAO,KAAKC,UAAZ;AACH;AACD;AACJ;AACA;AACA;;;AACIQ,QAAAA,kBAAkB,CAACC,KAAD,EAAc;AAC7B,cAAIC,KAAK,GAAEC,IAAI,CAACC,KAAL,CAAYH,KAAK,GAAC,KAAKL,SAAL,CAAeS,IAArB,GAA0B,KAAKT,SAAL,CAAeU,MAA1C,GAAkD,KAA7D,CAAX;AACA,iBAAOJ,KAAP;AACF;;AACiB,YAAdK,cAAc,GAAE;AAChB,cAAG,CAAC,KAAKd,eAAT,EAAyB;AACpB,gBAAIe,IAAI,GAAC;AAAA;AAAA,4BAAIX,OAAJ,GAAcY,cAAvB;AACA,iBAAKhB,eAAL,GAAqBe,IAAI,CAACE,IAAL,CAAUC,CAAC,IAAEA,CAAC,CAACC,IAAF,IAAQ,KAAKhB,SAAL,CAAeiB,QAApC,CAArB,CAFoB,CAIrB;AACH;;AACD,iBAAO,KAAKpB,eAAZ;AACH;;AA9BsB,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nimport { tab } from '../../../Table/table_gen';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('EquipAttrInfo')\r\nexport class EquipAttrInfo {\r\n    public attrId: number;\r\n    private _attrTable:tab.EquipAttrTable;\r\n    private _heroPowerScore:tab.HeroPowerScore;\r\n    \r\n    public initAttrId(id: number) {\r\n        this.attrId = id;\r\n    }\r\n    get attrTable(){\r\n        if(!this._attrTable){\r\n            this._attrTable=tab.getData().EquipAttrTableById.getValue(this.attrId);\r\n        }\r\n        return this._attrTable;\r\n    }\r\n    /**\r\n     * 获得属性增加值根据成长等级\r\n     * @param level \r\n     */\r\n    getAddValueByLevel(level:number){\r\n       let value =Math.floor((level*this.attrTable.Base*this.attrTable.Growth)/10000);\r\n       return value;\r\n    }\r\n    get heroPowerScore(){\r\n        if(!this._heroPowerScore){\r\n             let tabs=tab.getData().HeroPowerScore;\r\n             this._heroPowerScore=tabs.find(a=>a.Type==this.attrTable.AttrType)\r\n            \r\n            // this._heroPowerScore=tab.getData().HeroPowerScoreById.getValue(this.attrTable.AttrType);\r\n        }\r\n        return this._heroPowerScore;\r\n    }\r\n}\r\n\r\n\r\n"]}