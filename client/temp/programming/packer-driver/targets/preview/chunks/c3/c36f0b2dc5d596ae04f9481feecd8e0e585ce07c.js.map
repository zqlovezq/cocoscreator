{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/activity/combine/CombineStarUpItem.ts"],"names":["_decorator","Component","instantiate","Prefab","InfiniteList","ActivityData","CombineStarUpCellItem","ccclass","property","CombineStarUpItem","_heroGrowData","_listData","onShow","activityId","ins","getHeroGrowData","getHeroGrowTabs","heroItemId","list_view","Init","getCellNumber","getCellCount","bind","getCellSize","getCellHeight","getCellIdentifer","getCellView","getCellData","GetCellData","length","idx","identifer","pfb_item","getComponent","tab","id","refreshView","Refresh"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAmBC,MAAAA,M,OAAAA,M;;AAC5CC,MAAAA,Y;;AAEEC,MAAAA,Y,iBAAAA,Y;;AAEAC,MAAAA,qB,iBAAAA,qB;;;;;;;;;OAIH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;mCAGjBS,iB,WADZF,OAAO,CAAC,mBAAD,C,UAEHC,QAAQ;AAAA;AAAA,uC,UAERA,QAAQ,CAACL,MAAD,C,2BAJb,MACaM,iBADb,SACuCR,SADvC,CACiD;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAKrCS,aALqC,GAKN,IALM;AAAA,eAMrCC,SANqC,GAMG,EANH;AAAA;;AAO7CC,QAAAA,MAAM,CAACC,UAAD,EAAmB;AACrB,eAAKH,aAAL,GAAqB;AAAA;AAAA,4CAAaI,GAAb,CAAiBC,eAAjB,CAAiCF,UAAjC,CAArB;AACA,eAAKF,SAAL,GAAiB;AAAA;AAAA,4CAAaG,GAAb,CAAiBE,eAAjB,CAAiCH,UAAjC,EAA4C,KAAKH,aAAL,CAAmBO,UAA/D,CAAjB,CAFqB,CAGrB;;AACA,eAAKC,SAAL,CAAeC,IAAf,CAAoB;AAChBC,YAAAA,aAAa,EAAE,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CADC;AAEhBC,YAAAA,WAAW,EAAE,KAAKC,aAAL,CAAmBF,IAAnB,CAAwB,IAAxB,CAFG;AAGhBG,YAAAA,gBAAgB,EAAE,KAAKA,gBAAL,CAAsBH,IAAtB,CAA2B,IAA3B,CAHF;AAIhBI,YAAAA,WAAW,EAAE,KAAKA,WAAL,CAAiBJ,IAAjB,CAAsB,IAAtB,CAJG;AAKhBK,YAAAA,WAAW,EAAE,KAAKC,WAAL,CAAiBN,IAAjB,CAAsB,IAAtB;AALG,WAApB;AAOH;;AACDD,QAAAA,YAAY,GAAG;AACX,iBAAO,KAAKV,SAAL,CAAekB,MAAtB;AACH;;AACDL,QAAAA,aAAa,CAACM,GAAD,EAAc;AACvB,iBAAO,GAAP;AACH;;AACDL,QAAAA,gBAAgB,CAACK,GAAD,EAAc;AAC1B,iBAAO,uBAAP;AACH;;AACDJ,QAAAA,WAAW,CAACI,GAAD,EAAcC,SAAd,EAAiC;AACxC,iBAAO7B,WAAW,CAAC,KAAK8B,QAAN,CAAX,CAA2BC,YAA3B;AAAA;AAAA,6DAAP;AACH;;AACDL,QAAAA,WAAW,CAACE,GAAD,EAAc;AACrB,iBAAO;AAACI,YAAAA,GAAG,EAAC,KAAKvB,SAAL,CAAemB,GAAf,CAAL;AAAyBK,YAAAA,EAAE,EAAC,KAAKzB,aAAL,CAAmBG;AAA/C,WAAP;AACH,SAjC4C,CAkC7C;;;AACAuB,QAAAA,WAAW,GAAE;AACT,eAAKlB,SAAL,CAAemB,OAAf;AACH;;AArC4C,O;;;;;iBAEnB,I;;;;;;;iBAEP,I","sourcesContent":["import { _decorator, Component, instantiate, Node, Prefab } from 'cc';\r\nimport InfiniteList from '../../../../Common/InfiniteList/InfiniteList';\r\nimport { proto } from 'client_protocol';\r\nimport { ActivityData } from '../ActivityData';\r\nimport { tab } from '../../../../Table/table_gen';\r\nimport { CombineStarUpCellItem } from './CombineStarUpCellItem';\r\nimport { EventMgr } from '../../../mgr/EventMgr';\r\nimport { UIMgr } from '../../../mgr/UIMgr';\r\nimport { ViewName } from '../../../define/ViewDefine';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CombineStarUpItem')\r\nexport class CombineStarUpItem extends Component {\r\n    @property(InfiniteList)\r\n    list_view: InfiniteList = null;\r\n    @property(Prefab)\r\n    pfb_item: Prefab = null;\r\n    private _heroGrowData:proto.HeroGrow = null;\r\n    private _listData:tab.ActivityHeroGrowTable[] = [];\r\n    onShow(activityId:number){\r\n        this._heroGrowData = ActivityData.ins.getHeroGrowData(activityId);\r\n        this._listData = ActivityData.ins.getHeroGrowTabs(activityId,this._heroGrowData.heroItemId);\r\n        // 创建列表\r\n        this.list_view.Init({\r\n            getCellNumber: this.getCellCount.bind(this),\r\n            getCellSize: this.getCellHeight.bind(this),\r\n            getCellIdentifer: this.getCellIdentifer.bind(this),\r\n            getCellView: this.getCellView.bind(this),\r\n            getCellData: this.GetCellData.bind(this),\r\n        });\r\n    }\r\n    getCellCount() {\r\n        return this._listData.length;\r\n    }\r\n    getCellHeight(idx: number) {\r\n        return 200;\r\n    }\r\n    getCellIdentifer(idx: number) {\r\n        return \"CombineStarUpCellItem\"\r\n    }\r\n    getCellView(idx: number, identifer: string) {\r\n        return instantiate(this.pfb_item).getComponent(CombineStarUpCellItem);\r\n    }\r\n    GetCellData(idx: number) {\r\n        return {tab:this._listData[idx],id:this._heroGrowData.activityId}\r\n    }\r\n    // 领取奖励之后刷新list\r\n    refreshView(){\r\n        this.list_view.Refresh();\r\n    }\r\n}\r\n\r\n\r\n"]}