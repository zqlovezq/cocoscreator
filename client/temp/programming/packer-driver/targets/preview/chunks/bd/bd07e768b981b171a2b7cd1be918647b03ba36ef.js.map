{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/activity/ActivityOpenInfo.ts"],"names":["_decorator","proto","tab","RoleData","ccclass","property","ActivityOpenInfo","Activity","_actTable","merge","info","key","activityTable","getData","ActivityTableByActivityId","getValue","TabId","isOpen","timer","ins","getServerUtcTime","startTime","endTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,K,oBAAAA,K;;AACAC,MAAAA,G,iBAAAA,G;;AACAC,MAAAA,Q,iBAAAA,Q;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;kCAGaM,gB,WADZF,OAAO,CAAC,kBAAD,C,gBAAR,MACaE,gBADb,SACsC;AAAA;AAAA,0BAAMC,QAD5C,CACqD;AAAA;AAAA;AAAA,eACzCC,SADyC;AAAA;;AAEjDC,QAAAA,KAAK,CAACC,IAAD,EAAuB;AACxB,eAAK,IAAMC,GAAX,IAAkBD,IAAlB,EAAwB;AACpB,iBAAKC,GAAL,IAAYD,IAAI,CAACC,GAAD,CAAhB;AACH;AACJ;;AACgB,YAAbC,aAAa,GAAG;AAChB,cAAI,CAAC,KAAKJ,SAAV,EAAqB;AACjB,iBAAKA,SAAL,GAAiB;AAAA;AAAA,4BAAIK,OAAJ,GAAcC,yBAAd,CAAwCC,QAAxC,CAAiD,KAAKC,KAAtD,CAAjB;AACH;;AACD,iBAAO,KAAKR,SAAZ;AACH;;AAEDS,QAAAA,MAAM,GAAG;AACL,cAAIC,KAAK,GAAG;AAAA;AAAA,oCAASC,GAAT,CAAaC,gBAAb,EAAZ;AACA,iBAAOF,KAAK,IAAI,KAAKG,SAAd,IAA2BH,KAAK,GAAG,KAAKI,OAA/C;AAEH;;AAlBgD,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nimport { proto } from 'client_protocol';\r\nimport { tab } from '../../../Table/table_gen';\r\nimport { RoleData } from '../role/RoleData';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * \r\n * ActivtityOpenInfo\r\n * zhudingchao\r\n * Fri Jul 26 2024 11:24:34 GMT+0800 (中国标准时间)\r\n * db://assets/scripts/logic/model/activity/ActivtityOpenInfo.ts\r\n *\r\n */\r\n\r\n@ccclass('ActivityOpenInfo')\r\nexport class ActivityOpenInfo extends proto.Activity {\r\n    private _actTable: tab.ActivityTable;\r\n    merge(info: proto.Activity) {\r\n        for (const key in info) {\r\n            this[key] = info[key]\r\n        }\r\n    }\r\n    get activityTable() {\r\n        if (!this._actTable) {\r\n            this._actTable = tab.getData().ActivityTableByActivityId.getValue(this.TabId);\r\n        }\r\n        return this._actTable;\r\n    }\r\n\r\n    isOpen() {\r\n        let timer = RoleData.ins.getServerUtcTime()\r\n        return timer >= this.startTime && timer < this.endTime;\r\n\r\n    }\r\n}"]}