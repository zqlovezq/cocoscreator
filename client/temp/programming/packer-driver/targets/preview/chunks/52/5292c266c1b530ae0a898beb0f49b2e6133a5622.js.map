{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/fight/view/rogue/RogueBaseItem.ts"],"names":["_decorator","Component","Animation","ccclass","property","RogueBaseItem","owner","rogueInfo","setOwner","_owner","setData","info","onClick","onItemClick","setStar","star","recommend_node","node","getChildByName","active","layout","hideNode","midNode","lowNode","showChoose","anim","children","getComponent","play","defaultClip","name","weaponAnim"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAA8BC,MAAAA,S,OAAAA,S;;;;;;;;;OAQ7C;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;+BAIjBK,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb,SACmCJ,SADnC,CAC6C;AAAA;AAAA;AAAA,eACzCK,KADyC;AAAA,eAEzCC,SAFyC;AAAA;;AAIzCC,QAAAA,QAAQ,CAACC,MAAD,EAAS;AACb,eAAKH,KAAL,GAAaG,MAAb;AACH;;AAEDC,QAAAA,OAAO,CAACC,IAAD,EAAkB;AACrB,eAAKJ,SAAL,GAAiBI,IAAjB;AACH;;AAEDC,QAAAA,OAAO,GAAG;AACN,eAAKN,KAAL,IAAc,KAAKA,KAAL,CAAWO,WAAX,CAAuB,KAAKN,SAA5B,CAAd;AACH;;AACDO,QAAAA,OAAO,CAACC,IAAD,EAAe;AAClB,cAAMC,cAAc,GAAG,KAAKC,IAAL,CAAUC,cAAV,CAAyB,gBAAzB,CAAvB;;AACA,cAAI,CAACF,cAAL,EAAqB;AACjB;AACH;;AACDA,UAAAA,cAAc,CAACG,MAAf,GAAwB,IAAxB;AACA,cAAMC,MAAM,GAAGJ,cAAc,CAACE,cAAf,CAA8B,QAA9B,CAAf;AACA,cAAMG,QAAQ,GAAGD,MAAM,CAACF,cAAP,CAAsB,WAAtB,CAAjB;AACA,cAAMI,OAAO,GAAGF,MAAM,CAACF,cAAP,CAAsB,UAAtB,CAAhB;AACA,cAAMK,OAAO,GAAGH,MAAM,CAACF,cAAP,CAAsB,UAAtB,CAAhB;AACAG,UAAAA,QAAQ,CAACF,MAAT,GAAkBJ,IAAI,KAAK,CAA3B;AACAO,UAAAA,OAAO,CAACH,MAAR,GAAiBJ,IAAI,KAAK,CAA1B;AACAQ,UAAAA,OAAO,CAACJ,MAAR,GAAiBJ,IAAI,KAAK,CAA1B;AACH;;AACDS,QAAAA,UAAU,GAAG;AACT,cAAMC,IAAI,GAAG,KAAKR,IAAL,CAAUS,QAAV,CAAmB,CAAnB,EAAsBC,YAAtB,CAAmCzB,SAAnC,CAAb;;AACA,cAAIuB,IAAJ,EAAU;AACNA,YAAAA,IAAI,CAACG,IAAL,CAAUH,IAAI,CAACI,WAAL,CAAiBC,IAA3B;AACH,WAFD,MAEO;AACH,gBAAI,KAAKb,IAAL,CAAUS,QAAV,CAAmB,CAAnB,KAAyB,KAAKT,IAAL,CAAUS,QAAV,CAAmB,CAAnB,EAAsBA,QAAtB,CAA+B,CAA/B,CAA7B,EAAgE;AAC5D,kBAAMK,UAAU,GAAG,KAAKd,IAAL,CAAUS,QAAV,CAAmB,CAAnB,EAAsBA,QAAtB,CAA+B,CAA/B,EAAkCA,QAAlC,CAA2C,CAA3C,EAA8CC,YAA9C,CAA2DzB,SAA3D,CAAnB;;AACA,kBAAI6B,UAAJ,EAAgB;AACZA,gBAAAA,UAAU,CAACH,IAAX,CAAgBG,UAAU,CAACF,WAAX,CAAuBC,IAAvC;AACH;AACJ;AACJ;AACJ;;AAzCwC,O","sourcesContent":["import { _decorator, Component, Label, sp, Sprite, Animation } from \"cc\";\nimport { RogueInfo } from \"./RogueInfo\";\nimport { tab } from \"../../../../Table/table_gen\";\nimport { ResMgr } from \"../../../mgr/ResMgr\";\nimport { LangMgr } from \"../../../mgr/LangMgr\";\nimport { RoguePop } from \"./RoguePop\";\nimport { PlayerControl } from \"../../base/obj/role/role/PlayerControl\";\n\nconst { ccclass, property } = _decorator;\n\n\n@ccclass('RogueBaseItem')\nexport class RogueBaseItem extends Component {\n    owner: RoguePop\n    rogueInfo: RogueInfo\n\n    setOwner(_owner) {\n        this.owner = _owner\n    }\n\n    setData(info: RogueInfo) {\n        this.rogueInfo = info\n    }\n\n    onClick() {\n        this.owner && this.owner.onItemClick(this.rogueInfo)\n    }\n    setStar(star: number) {\n        const recommend_node = this.node.getChildByName(\"recommend_node\");\n        if (!recommend_node) {\n            return;\n        }\n        recommend_node.active = true;\n        const layout = recommend_node.getChildByName(\"layout\");\n        const hideNode = layout.getChildByName(\"high_node\");\n        const midNode = layout.getChildByName(\"mid_node\");\n        const lowNode = layout.getChildByName(\"low_node\");\n        hideNode.active = star === 3;\n        midNode.active = star === 2;\n        lowNode.active = star === 1;\n    }\n    showChoose() {\n        const anim = this.node.children[0].getComponent(Animation);\n        if (anim) {\n            anim.play(anim.defaultClip.name);\n        } else {\n            if (this.node.children[0] && this.node.children[0].children[0]) {\n                const weaponAnim = this.node.children[0].children[0].children[0].getComponent(Animation);\n                if (weaponAnim) {\n                    weaponAnim.play(weaponAnim.defaultClip.name);\n                }\n            }\n        }\n    }\n}"]}