{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/jianghu/climbingTower/ClimbingTowerRewardItem.ts"],"names":["_decorator","Component","Label","Node","tab","ItemInfo","ItemPoolMgr","LangMgr","GameplayControl","ccclass","property","ClimbingTowerRewardItem","state","table","initView","key","ClearRewardItemIds","info","initItemData","ClearRewardItemNum","ins","createRewadItem","rewardNode","pveTab","getData","ClimbTowerTableByStageId","getValue","StageId","titleLab","string","getCombineString","Floor","updateView","getBtnNode","active","notBtnNode","gotNode","onClickGetBtn","requestReceiveClimbTowerClearStageRewardsReq"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AAC9BC,MAAAA,G,iBAAAA,G;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,e,iBAAAA,e;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;yCAGaW,uB,WADZF,OAAO,CAAC,yBAAD,C,UAEHC,QAAQ,CAACR,KAAD,C,UAERQ,QAAQ,CAACP,IAAD,C,UAERO,QAAQ,CAACP,IAAD,C,UAERO,QAAQ,CAACP,IAAD,C,UAERO,QAAQ,CAACP,IAAD,C,2BAVb,MACaQ,uBADb,SAC6CV,SAD7C,CACuD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAWnDW,KAXmD;AAAA,eAYnDC,KAZmD;AAAA;;AAanDC,QAAAA,QAAQ,CAACD,KAAD,EAAgCD,KAAhC,EAA+C;AACnD,eAAKC,KAAL,GAAWA,KAAX;;AACA,eAAK,IAAIE,GAAT,IAAgBF,KAAK,CAACG,kBAAtB,EAA0C;AACtC,gBAAGH,KAAK,CAACG,kBAAN,CAAyBD,GAAzB,CAAH,EAAiC;AAC7B,kBAAIE,IAAI,GAAG;AAAA;AAAA,yCAAX;AACAA,cAAAA,IAAI,CAACC,YAAL,CAAkBL,KAAK,CAACG,kBAAN,CAAyBD,GAAzB,CAAlB,EAAiDF,KAAK,CAACM,kBAAN,CAAyBJ,GAAzB,CAAjD;AACA;AAAA;AAAA,8CAAYK,GAAZ,CAAgBC,eAAhB,CAAgCJ,IAAhC,EAAsC,KAAKK,UAA3C;AACH;AAGJ,WAVkD,CAWnD;AACA;AACA;AACA;;;AACA,cAAIC,MAAM,GAAG;AAAA;AAAA,0BAAIC,OAAJ,GAAcC,wBAAd,CAAuCC,QAAvC,CAAgDb,KAAK,CAACc,OAAtD,CAAb;;AACA,cAAGJ,MAAH,EAAU;AACN,iBAAKK,QAAL,CAAcC,MAAd,GAAuB;AAAA;AAAA,oCAAQC,gBAAR,CAAyB,qBAAzB,EAAgD,CAACP,MAAM,CAACQ,KAAR,CAAhD,CAAvB;AACH;;AACD,eAAKC,UAAL,CAAgBpB,KAAhB;AAGH;;AACDoB,QAAAA,UAAU,CAACpB,KAAD,EAAc;AACpB,eAAKA,KAAL,GAAWA,KAAX;AACA,eAAKqB,UAAL,CAAgBC,MAAhB,GAAuBtB,KAAK,IAAE,CAA9B;AACA,eAAKuB,UAAL,CAAgBD,MAAhB,GAAuBtB,KAAK,IAAE,CAA9B;AACA,eAAKwB,OAAL,CAAaF,MAAb,GAAoBtB,KAAK,IAAE,CAA3B;AACH;;AACDyB,QAAAA,aAAa,GAAE;AACX,cAAG,KAAKzB,KAAL,IAAY,CAAf,EAAiB;AACb;AAAA;AAAA,oDAAgBQ,GAAhB,CAAoBkB,4CAApB,CAAiE,KAAKzB,KAAL,CAAWc,OAA5E;AACH;AACJ;;AA9CkD,O;;;;;iBAEjC,I;;;;;;;iBAEC,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEH,I","sourcesContent":["import { _decorator, Component, Label, Node } from 'cc';\r\nimport { tab } from '../../../../Table/table_gen';\r\nimport { ItemInfo } from '../../item/ItemInfo';\r\nimport { ItemPoolMgr } from '../../item/ItemPoolMgr';\r\nimport { LangMgr } from '../../../mgr/LangMgr';\r\nimport { GameplayControl } from '../GameplayControl';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * \r\n * ClimbingTowerRewardItem\r\n * zhudingchao\r\n * Fri Jul 12 2024 17:18:55 GMT+0800 (中国标准时间)\r\n * db://assets/scripts/logic/model/jianghu/climbingTower/ClimbingTowerRewardItem.ts\r\n *\r\n */\r\n\r\n@ccclass('ClimbingTowerRewardItem')\r\nexport class ClimbingTowerRewardItem extends Component {\r\n    @property(Label)\r\n    titleLab: Label = null;\r\n    @property(Node)\r\n    rewardNode: Node = null;\r\n    @property(Node)\r\n    getBtnNode: Node = null;\r\n    @property(Node)\r\n    notBtnNode: Node = null;\r\n    @property(Node)\r\n    gotNode: Node = null;\r\n    state:number;\r\n    table:tab.PveClearStageTable;\r\n    initView(table: tab.PveClearStageTable, state: number) {\r\n        this.table=table;\r\n        for (let key in table.ClearRewardItemIds) {\r\n            if(table.ClearRewardItemIds[key]){\r\n                let info = new ItemInfo();\r\n                info.initItemData(table.ClearRewardItemIds[key], table.ClearRewardItemNum[key]);\r\n                ItemPoolMgr.ins.createRewadItem(info, this.rewardNode);\r\n            }\r\n         \r\n\r\n        }\r\n        // let pveTab = tab.getData().PveStageTableByStageId.getValue(table.StageId);\r\n        // if (pveTab) {\r\n        //     this.titleLab.string = LangMgr.getLab(pveTab.StageName);\r\n        // }\r\n        let pveTab = tab.getData().ClimbTowerTableByStageId.getValue(table.StageId);\r\n        if(pveTab){\r\n            this.titleLab.string = LangMgr.getCombineString(\"ui_climbingtower_10\", [pveTab.Floor]);\r\n        }\r\n        this.updateView(state);\r\n      \r\n\r\n    }\r\n    updateView(state:number){\r\n        this.state=state;\r\n        this.getBtnNode.active=state==1;\r\n        this.notBtnNode.active=state==0;\r\n        this.gotNode.active=state==2;\r\n    }\r\n    onClickGetBtn(){\r\n        if(this.state==1){\r\n            GameplayControl.ins.requestReceiveClimbTowerClearStageRewardsReq(this.table.StageId)\r\n        }\r\n    }\r\n\r\n}"]}