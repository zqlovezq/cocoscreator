{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/shop/MallLayoutCell.ts"],"names":["_decorator","instantiate","Prefab","Node","Vec3","Layout","InfiniteCell","MallCommodityItem","tab","DiamondBuyItem","CycleGiftItem","NewHandGiftItem","ccclass","property","MallLayoutCell","UpdateContent","listData","node_content","removeAllChildren","i","data","length","node","itemTs","layout","getComponent","pos","getPosition","spacingX","view","MallTab","MallTab_Tab5","pfb_diamond_item","parent","initData","viewName","setPosition","x","y","MallTab_SpecialGiftTab1","pfb_gift_item","MallTab_NewPlayerMall","MallTab_NewPlayerMall2","pfb_NewPlayerMall_item","pfb_cell_item"],"mappings":"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","sourcesContent":["import { _decorator, instantiate, Prefab, Node, Vec3, Layout } from 'cc';\r\nimport InfiniteCell from '../../../Common/InfiniteList/InfiniteCell';\r\nimport { MallCommodityItem } from './MallCommodityItem';\r\nimport { tab } from '../../../Table/table_gen';\r\nimport { DiamondBuyItem } from '../common/DiamondBuyItem';\r\nimport { CycleGiftItem } from '../activity/wonderfulActivity/CycleGiftItem';\r\nimport { NewHandGiftItem } from '../activity/wonderfulActivity/NewHandGiftItem';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('MallLayoutCell')\r\nexport class MallLayoutCell extends InfiniteCell {\r\n    @property(Prefab)\r\n    pfb_cell_item: Prefab = null;\r\n    @property(Prefab)\r\n    pfb_diamond_item:Prefab = null;\r\n    @property(Prefab)\r\n    pfb_gift_item:Prefab = null;\r\n    @property(Prefab)\r\n    pfb_NewPlayerMall_item:Prefab = null;\r\n    @property(Node)\r\n    node_content: Node = null;\r\n    UpdateContent(listData: any) {\r\n        this.node_content.removeAllChildren();\r\n        for (let i = 0; i < listData.data.length; i++) {\r\n            let node = null;\r\n            let itemTs = null;\r\n            const layout = this.node_content.getComponent(Layout);\r\n            const pos = this.node_content.getPosition();\r\n            layout.spacingX = 20;\r\n            if(listData.view===tab.MallTab.MallTab_Tab5){\r\n                node = instantiate(this.pfb_diamond_item);\r\n                node.parent = this.node_content;\r\n                itemTs = node.getComponent(DiamondBuyItem);\r\n                itemTs.initData(listData.data[i]);\r\n                if(listData.viewName){\r\n                    layout.spacingX = 50;\r\n                    this.node_content.setPosition(new Vec3(pos.x+20,pos.y,0))\r\n                }\r\n            }else if(listData.view===tab.MallTab.MallTab_SpecialGiftTab1){\r\n                node = instantiate(this.pfb_gift_item);\r\n                node.parent = this.node_content;\r\n                itemTs = node.getComponent(CycleGiftItem);\r\n                itemTs.initData(listData.data[i],listData.viewName);\r\n                layout.spacingX = 0;\r\n            }else if(listData.view===tab.MallTab.MallTab_NewPlayerMall||listData.view===tab.MallTab.MallTab_NewPlayerMall2){\r\n                node = instantiate(this.pfb_NewPlayerMall_item);\r\n                node.parent = this.node_content;\r\n                itemTs = node.getComponent(NewHandGiftItem);\r\n                itemTs.initData(listData.data[i],listData.viewName);\r\n                layout.spacingX = 0;\r\n            }else{\r\n                node = instantiate(this.pfb_cell_item);\r\n                node.parent = this.node_content;\r\n                itemTs = node.getComponent(MallCommodityItem);\r\n                itemTs.initData(listData.data[i],listData.view,listData.viewName);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}