{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/rareBook/RareBookRewardPreviewPop.ts"],"names":["_decorator","instantiate","Node","Prefab","ViewPop","RareBookData","RareBookRewardPreviewPopItem","ccclass","property","RareBookRewardPreviewPop","register","onShow","initView","alls","ins","getBookInfos","list","i","push","key","index","bookTable","Aptitude","len","length","sort","a","b","itemId","item","itemPrefab","parent","contentNode","getComponent","initData"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;;AAC1CC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,Y,iBAAAA,Y;;AAEAC,MAAAA,4B,iBAAAA,4B;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;0CAGaS,wB,WADZF,OAAO,CAAC,0BAAD,C,UAEHC,QAAQ,CAACN,IAAD,C,UAERM,QAAQ,CAACL,MAAD,C,2BAJb,MACaM,wBADb;AAAA;AAAA,8BACsD;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAKlDC,QAAAA,QAAQ,GAAS,CAEhB;;AACDC,QAAAA,MAAM,GAAS;AACX,eAAKC,QAAL;AACH;;AACDA,QAAAA,QAAQ,GAAG;AACP,cAAIC,IAAI,GAAG;AAAA;AAAA,4CAAaC,GAAb,CAAiBC,YAAjB,EAAX;AACA,cAAIC,IAAgC,GAAG,EAAvC;;AACA,eAAK,IAAIC,CAAS,GAAG,CAArB,EAAwBA,CAAC,GAAG,CAA5B,EAA+BA,CAAC,EAAhC,EAAoC;AAChCD,YAAAA,IAAI,CAACE,IAAL,CAAU,EAAV;AACH;;AACD,eAAK,IAAIC,GAAT,IAAgBN,IAAhB,EAAsB;AAClB,gBAAIO,KAAK,GAAGP,IAAI,CAACM,GAAD,CAAJ,CAAUE,SAAV,CAAoBC,QAApB,GAA+B,CAA3C;AACAN,YAAAA,IAAI,CAACI,KAAD,CAAJ,CAAYF,IAAZ,CAAiBL,IAAI,CAACM,GAAD,CAArB;AACH;;AACD,cAAII,GAAG,GAACP,IAAI,CAACQ,MAAL,GAAY,CAApB;;AACA,eAAI,IAAIP,EAAC,GAACM,GAAV,EAAeN,EAAC,IAAE,CAAlB,EAAoBA,EAAC,EAArB,EAAwB;AACpBD,YAAAA,IAAI,CAACC,EAAD,CAAJ,CAAQQ,IAAR,CAAa,CAACC,CAAD,EAAGC,CAAH,KAAO;AAChB,qBAAOD,CAAC,CAACE,MAAF,GAASD,CAAC,CAACC,MAAlB;AACH,aAFD;;AAGA,gBAAIC,IAAI,GAAC5B,WAAW,CAAC,KAAK6B,UAAN,CAApB;AACAD,YAAAA,IAAI,CAACE,MAAL,GAAY,KAAKC,WAAjB;AACAH,YAAAA,IAAI,CAACI,YAAL;AAAA;AAAA,8EAAgDC,QAAhD,CAAyDjB,EAAC,GAAC,CAA3D,EAA6DD,IAAI,CAACC,EAAD,CAAjE;AACH;AAEJ;;AA/BiD,O;;;;;iBAE9B,I;;;;;;;iBAEC,I","sourcesContent":["import { _decorator, Component, instantiate, Node, Prefab } from 'cc';\r\nimport { ViewPop } from '../../../framework/base/ViewPop';\r\nimport { RareBookData } from './RareBookData';\r\nimport { RareBookInfo } from './RareBookInfo';\r\nimport { RareBookRewardPreviewPopItem } from './RareBookRewardPreviewPopItem';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * \r\n * RareBookRewardPreviewPop\r\n * zhudingchao\r\n * Mon May 27 2024 21:00:59 GMT+0800 (中国标准时间)\r\n * db://assets/scripts/logic/model/rareBook/RareBookRewardPreviewPop.ts\r\n *\r\n */\r\n\r\n@ccclass('RareBookRewardPreviewPop')\r\nexport class RareBookRewardPreviewPop extends ViewPop {\r\n    @property(Node)\r\n    contentNode: Node = null;\r\n    @property(Prefab)\r\n    itemPrefab: Prefab = null;\r\n    register(): void {\r\n\r\n    }\r\n    onShow(): void {\r\n        this.initView();\r\n    }\r\n    initView() {\r\n        let alls = RareBookData.ins.getBookInfos();\r\n        let list: Array<Array<RareBookInfo>> = [];\r\n        for (let i: number = 0; i < 3; i++) {\r\n            list.push([]);\r\n        }\r\n        for (let key in alls) {\r\n            let index = alls[key].bookTable.Aptitude - 1;\r\n            list[index].push(alls[key]);\r\n        }\r\n        let len=list.length-1;\r\n        for(let i=len ;i>=0;i--){\r\n            list[i].sort((a,b)=>{\r\n                return a.itemId-b.itemId;\r\n            })\r\n            let item=instantiate(this.itemPrefab);\r\n            item.parent=this.contentNode;\r\n            item.getComponent(RareBookRewardPreviewPopItem).initData(i+1,list[i]);\r\n        }\r\n\r\n    }\r\n}"]}