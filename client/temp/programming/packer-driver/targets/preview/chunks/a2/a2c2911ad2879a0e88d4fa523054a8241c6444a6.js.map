{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/hero/herobag/HeroAttrItem.ts"],"names":["_decorator","Component","Label","Sprite","tab","LangMgr","UIMgr","ViewName","GameUtil","ccclass","property","HeroAttrItem","type","AttrType","AttrType_Attack","initView","value","iconPath","lbl_attr_name","string","getLab","lbl_value","convertNumber","attrTab","getData","HeroAttrClientTableByType","getValue","Icon","ShowPercent","icon","setTexture","clickBtn","event","node","currentTarget","ins","show","viewName","CommonBlackTipsPop","data","worldPosition"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAuBC,MAAAA,K,OAAAA,K;AAAaC,MAAAA,M,OAAAA,M;;AAChDC,MAAAA,G,iBAAAA,G;;AACAC,MAAAA,O,iBAAAA,O;;AACDC,MAAAA,K,iBAAAA,K;;AACCC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,Q,iBAAAA,Q;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;8BAGjBW,Y,WADZF,OAAO,CAAC,cAAD,C,UAEHC,QAAQ,CAACR,KAAD,C,UAERQ,QAAQ,CAACR,KAAD,C,UAERQ,QAAQ,CAACP,MAAD,C,2BANb,MACaQ,YADb,SACkCV,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAOhCW,IAPgC,GAOb;AAAA;AAAA,0BAAIC,QAAJ,CAAaC,eAPA;AAAA;;AAQxCC,QAAAA,QAAQ,CAACH,IAAD,EAAmBI,KAAnB,EAAgCC,QAAhC,EAA4C;AAAA,cAAZA,QAAY;AAAZA,YAAAA,QAAY,GAAH,EAAG;AAAA;;AAChD,eAAKL,IAAL,GAAYA,IAAZ;AACC,eAAKM,aAAL,CAAmBC,MAAnB,GAA0B;AAAA;AAAA,kCAAQC,MAAR,CAAe;AAAA;AAAA,0BAAIP,QAAJ,CAAaD,IAAb,CAAf,CAA1B;AACA,eAAKS,SAAL,CAAeF,MAAf,GAAsB;AAAA;AAAA,oCAASG,aAAT,CAAuBN,KAAvB,IAA8B,EAApD;AACA,cAAMO,OAAO,GAAG;AAAA;AAAA,0BAAIC,OAAJ,GAAcC,yBAAd,CAAwCC,QAAxC,CAAiDd,IAAjD,CAAhB;;AACA,cAAGK,QAAQ,IAAE,EAAb,EAAgB;AACbA,YAAAA,QAAQ,GAACM,OAAO,CAACI,IAAjB;AACF;;AACD,cAAGJ,OAAO,CAACK,WAAX,EAAuB;AACpB,iBAAKP,SAAL,CAAeF,MAAf,GAAsBH,KAAK,GAAC,GAAN,GAAU,GAAhC;AACF;;AACF,eAAKa,IAAL,CAAUC,UAAV,CAAqBb,QAArB;AACH;;AACDc,QAAAA,QAAQ,CAACC,KAAD,EAAkB;AACtB,cAAIC,IAAS,GAACD,KAAK,CAACE,aAApB;AACA;AAAA;AAAA,8BAAMC,GAAN,CAAUC,IAAV,CAAe;AAAEC,YAAAA,QAAQ,EAAE;AAAA;AAAA,sCAASC,kBAArB;AAAwCC,YAAAA,IAAI,EAAC;AAAC,0BAAWN,IAAI,CAACO,aAAjB;AAA+B,8BAAe;AAAA;AAAA,8BAAI3B,QAAJ,CAAa,KAAKD,IAAlB;AAA9C;AAA7C,WAAf;AACH;;AAxBuC,O;;;;;iBAEtB,I;;;;;;;iBAEI,I;;;;;;;iBAEV,I","sourcesContent":["import { _decorator, Component, EventTouch, Label, Node, Sprite } from 'cc';\r\nimport { tab } from '../../../../Table/table_gen';\r\nimport { LangMgr } from '../../../mgr/LangMgr';\r\nimport {UIMgr } from '../../../mgr/UIMgr';\r\nimport { ViewName } from '../../../define/ViewDefine';\r\nimport { GameUtil } from '../../../utils/GameUtil';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('HeroAttrItem')\r\nexport class HeroAttrItem extends Component {\r\n    @property(Label)\r\n    lbl_value:Label = null;\r\n    @property(Label)\r\n    lbl_attr_name:Label = null;\r\n    @property(Sprite)\r\n    icon:Sprite=null;\r\n    private type:tab.AttrType =tab.AttrType.AttrType_Attack\r\n    initView(type:tab.AttrType,value:number,iconPath=\"\"){\r\n        this.type = type;\r\n         this.lbl_attr_name.string=LangMgr.getLab(tab.AttrType[type]);\r\n         this.lbl_value.string=GameUtil.convertNumber(value)+\"\";\r\n         const attrTab = tab.getData().HeroAttrClientTableByType.getValue(type);\r\n         if(iconPath==\"\"){\r\n            iconPath=attrTab.Icon;\r\n         }\r\n         if(attrTab.ShowPercent){\r\n            this.lbl_value.string=value/100+\"%\";\r\n         }\r\n        this.icon.setTexture(iconPath);\r\n    }\r\n    clickBtn(event:EventTouch){\r\n        let node:Node=event.currentTarget;\r\n        UIMgr.ins.show({ viewName: ViewName.CommonBlackTipsPop,data:{\"worldPos\":node.worldPosition,\"WordTableKey\":tab.AttrType[this.type] }});\r\n    }\r\n}\r\n\r\n\r\n"]}