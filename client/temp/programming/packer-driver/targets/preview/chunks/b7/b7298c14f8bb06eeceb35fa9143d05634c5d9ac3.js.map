{"version":3,"sources":["file:///C:/chickenStarClient/client/node_modules/protobufjs/src/service.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","url","define","exports","require","module","__filename","__dirname","Service","Namespace","prototype","Object","create","constructor","className","Method","util","rpc","name","options","call","methods","_methodsArray","fromJSON","json","service","names","keys","i","length","add","nested","addJSON","comment","toJSON","toJSONOptions","inherited","keepComments","Boolean","toObject","undefined","arrayToJSON","methodsArray","defineProperty","get","toArray","clearCache","resolveAll","resolve","object","Error","parent","remove","rpcImpl","requestDelimited","responseDelimited","rpcService","method","methodName","lcFirst","replace","codegen","isReserved","m","q","resolvedRequestType","ctor","s","resolvedResponseType","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from './namespace';\nimport { __cjsMetaURL as _req0} from './method';\nimport { __cjsMetaURL as _req1} from './util';\nimport { __cjsMetaURL as _req2} from './rpc';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n module.exports = Service;\n\n // extends Namespace\n var Namespace = require(\"./namespace\");\n ((Service.prototype = Object.create(Namespace.prototype)).constructor = Service).className = \"Service\";\n\n var Method = require(\"./method\"),\n     util   = require(\"./util\"),\n     rpc    = require(\"./rpc\");\n\n /**\n  * Constructs a new service instance.\n  * @classdesc Reflected service.\n  * @extends NamespaceBase\n  * @constructor\n  * @param {string} name Service name\n  * @param {Object.<string,*>} [options] Service options\n  * @throws {TypeError} If arguments are invalid\n  */\n function Service(name, options) {\n     Namespace.call(this, name, options);\n\n     /**\n      * Service methods.\n      * @type {Object.<string,Method>}\n      */\n     this.methods = {}; // toJSON, marker\n\n     /**\n      * Cached methods as an array.\n      * @type {Method[]|null}\n      * @private\n      */\n     this._methodsArray = null;\n }\n\n /**\n  * Service descriptor.\n  * @interface IService\n  * @extends INamespace\n  * @property {Object.<string,IMethod>} methods Method descriptors\n  */\n\n /**\n  * Constructs a service from a service descriptor.\n  * @param {string} name Service name\n  * @param {IService} json Service descriptor\n  * @returns {Service} Created service\n  * @throws {TypeError} If arguments are invalid\n  */\n Service.fromJSON = function fromJSON(name, json) {\n     var service = new Service(name, json.options);\n     /* istanbul ignore else */\n     if (json.methods)\n         for (var names = Object.keys(json.methods), i = 0; i < names.length; ++i)\n             service.add(Method.fromJSON(names[i], json.methods[names[i]]));\n     if (json.nested)\n         service.addJSON(json.nested);\n     service.comment = json.comment;\n     return service;\n };\n\n /**\n  * Converts this service to a service descriptor.\n  * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\n  * @returns {IService} Service descriptor\n  */\n Service.prototype.toJSON = function toJSON(toJSONOptions) {\n     var inherited = Namespace.prototype.toJSON.call(this, toJSONOptions);\n     var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\n     return util.toObject([\n         \"options\" , inherited && inherited.options || undefined,\n         \"methods\" , Namespace.arrayToJSON(this.methodsArray, toJSONOptions) || /* istanbul ignore next */ {},\n         \"nested\"  , inherited && inherited.nested || undefined,\n         \"comment\" , keepComments ? this.comment : undefined\n     ]);\n };\n\n /**\n  * Methods of this service as an array for iteration.\n  * @name Service#methodsArray\n  * @type {Method[]}\n  * @readonly\n  */\n Object.defineProperty(Service.prototype, \"methodsArray\", {\n     get: function() {\n         return this._methodsArray || (this._methodsArray = util.toArray(this.methods));\n     }\n });\n\n function clearCache(service) {\n     service._methodsArray = null;\n     return service;\n }\n\n /**\n  * @override\n  */\n Service.prototype.get = function get(name) {\n     return this.methods[name]\n         || Namespace.prototype.get.call(this, name);\n };\n\n /**\n  * @override\n  */\n Service.prototype.resolveAll = function resolveAll() {\n     var methods = this.methodsArray;\n     for (var i = 0; i < methods.length; ++i)\n         methods[i].resolve();\n     return Namespace.prototype.resolve.call(this);\n };\n\n /**\n  * @override\n  */\n Service.prototype.add = function add(object) {\n\n     /* istanbul ignore if */\n     if (this.get(object.name))\n         throw Error(\"duplicate name '\" + object.name + \"' in \" + this);\n\n     if (object instanceof Method) {\n         this.methods[object.name] = object;\n         object.parent = this;\n         return clearCache(this);\n     }\n     return Namespace.prototype.add.call(this, object);\n };\n\n /**\n  * @override\n  */\n Service.prototype.remove = function remove(object) {\n     if (object instanceof Method) {\n\n         /* istanbul ignore if */\n         if (this.methods[object.name] !== object)\n             throw Error(object + \" is not a member of \" + this);\n\n         delete this.methods[object.name];\n         object.parent = null;\n         return clearCache(this);\n     }\n     return Namespace.prototype.remove.call(this, object);\n };\n\n /**\n  * Creates a runtime service using the specified rpc implementation.\n  * @param {RPCImpl} rpcImpl RPC implementation\n  * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\n  * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\n  * @returns {rpc.Service} RPC service. Useful where requests and/or responses are streamed.\n  */\n Service.prototype.create = function create(rpcImpl, requestDelimited, responseDelimited) {\n     var rpcService = new rpc.Service(rpcImpl, requestDelimited, responseDelimited);\n     for (var i = 0, method; i < /* initializes */ this.methodsArray.length; ++i) {\n         var methodName = util.lcFirst((method = this._methodsArray[i]).resolve().name).replace(/[^$\\w_]/g, \"\");\n         rpcService[methodName] = util.codegen([\"r\",\"c\"], util.isReserved(methodName) ? methodName + \"_\" : methodName)(\"return this.rpcCall(m,q,s,r,c)\")({\n             m: method,\n             q: method.resolvedRequestType.ctor,\n             s: method.resolvedResponseType.ctor\n         });\n     }\n     return rpcService;\n };\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  './namespace': _req,\n  './method': _req0,\n  './util': _req1,\n  './rpc': _req2,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}