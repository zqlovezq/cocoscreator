{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/association/AssociationAttrPop.ts"],"names":["_decorator","instantiate","Node","Prefab","ViewPop","tab","AssociationAttrPopItem","ccclass","property","AssociationAttrPop","attrMap","onShow","openData","initView","onDestroy","register","unRegister","forEach","value","key","AttrType","AttrType_Attack","AttrType_Defence","AttrType_Hp","item","pfb_item","parent","node_content_normal","itemTs","getComponent","initData","node_content_special"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;;AAC1CC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,G,iBAAAA,G;;AACAC,MAAAA,sB,iBAAAA,sB;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;oCAGjBS,kB,WADZF,OAAO,CAAC,oBAAD,C,UAEHC,QAAQ,CAACL,MAAD,C,UAERK,QAAQ,CAACN,IAAD,C,UAERM,QAAQ,CAACN,IAAD,C,2BANb,MACaO,kBADb;AAAA;AAAA,8BACgD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAOpCC,OAPoC;AAAA;;AAQ5CC,QAAAA,MAAM,GAAS;AACX,eAAKD,OAAL,GAAe,KAAKE,QAAL,CAAc,SAAd,CAAf;AACA,eAAKC,QAAL;AACH;;AACSC,QAAAA,SAAS,GAAS;AACxB,gBAAMA,SAAN;AACH;;AACDC,QAAAA,QAAQ,GAAS,CAEhB;;AACDC,QAAAA,UAAU,GAAS;AACf,gBAAMA,UAAN;AACH;;AACDH,QAAAA,QAAQ,GAAE;AACN,cAAI,CAAC,KAAKH,OAAV,EAAmB;AACf;AACH;;AACD,eAAKA,OAAL,CAAaO,OAAb,CAAqB,CAACC,KAAD,EAAOC,GAAP,KAAa;AAC9B,gBAAIA,GAAG,KAAK;AAAA;AAAA,4BAAIC,QAAJ,CAAaC,eAArB,IAAsCF,GAAG,IAAI;AAAA;AAAA,4BAAIC,QAAJ,CAAaE,gBAA1D,IAA4EH,GAAG,IAAI;AAAA;AAAA,4BAAIC,QAAJ,CAAaG,WAApG,EAAiH;AAC7G,kBAAMC,IAAI,GAAGvB,WAAW,CAAC,KAAKwB,QAAN,CAAxB;AACAD,cAAAA,IAAI,CAACE,MAAL,GAAc,KAAKC,mBAAnB;AACA,kBAAMC,MAAM,GAAGJ,IAAI,CAACK,YAAL;AAAA;AAAA,mEAAf;AACAD,cAAAA,MAAM,CAACE,QAAP,CAAgBX,GAAhB,EAAoBD,KAApB;AACH,aALD,MAKK;AACD,kBAAMM,KAAI,GAAGvB,WAAW,CAAC,KAAKwB,QAAN,CAAxB;;AACAD,cAAAA,KAAI,CAACE,MAAL,GAAc,KAAKK,oBAAnB;;AACA,kBAAMH,OAAM,GAAGJ,KAAI,CAACK,YAAL;AAAA;AAAA,mEAAf;;AACAD,cAAAA,OAAM,CAACE,QAAP,CAAgBX,GAAhB,EAAoBD,KAApB;AACH;AACJ,WAZD;AAaH;;AAtC2C,O;;;;;iBAE1B,I;;;;;;;iBAES,I;;;;;;;iBAEC,I","sourcesContent":["import { _decorator, Component, instantiate, Node, Prefab } from 'cc';\r\nimport { ViewPop } from '../../../framework/base/ViewPop';\r\nimport { tab } from '../../../Table/table_gen';\r\nimport { AssociationAttrPopItem } from './AssociationAttrPopItem';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('AssociationAttrPop')\r\nexport class AssociationAttrPop extends ViewPop {\r\n    @property(Prefab)\r\n    pfb_item:Prefab = null;\r\n    @property(Node)\r\n    node_content_normal:Node = null;\r\n    @property(Node)\r\n    node_content_special:Node = null;\r\n    private attrMap: Map<tab.AttrType, number>\r\n    onShow(): void {\r\n        this.attrMap = this.openData[\"attrMap\"];\r\n        this.initView();\r\n    }\r\n    protected onDestroy(): void {\r\n        super.onDestroy();\r\n    }\r\n    register(): void {\r\n       \r\n    }\r\n    unRegister(): void {\r\n        super.unRegister();\r\n    }\r\n    initView(){\r\n        if (!this.attrMap) {\r\n            return;\r\n        }\r\n        this.attrMap.forEach((value,key)=>{\r\n            if (key === tab.AttrType.AttrType_Attack||key == tab.AttrType.AttrType_Defence||key == tab.AttrType.AttrType_Hp) {\r\n                const item = instantiate(this.pfb_item);\r\n                item.parent = this.node_content_normal;\r\n                const itemTs = item.getComponent(AssociationAttrPopItem);\r\n                itemTs.initData(key,value);\r\n            }else{\r\n                const item = instantiate(this.pfb_item);\r\n                item.parent = this.node_content_special;\r\n                const itemTs = item.getComponent(AssociationAttrPopItem);\r\n                itemTs.initData(key,value);\r\n            }\r\n        }) \r\n    }\r\n}\r\n\r\n\r\n"]}