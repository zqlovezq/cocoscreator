{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/DynamicAtlas.ts"],"names":["_decorator","DynamicAtlasManager","Layers","Node","ScrollView","Sprite","SpriteFrame","UITransform","v3","ViewPop","ccclass","property","DynamicAtlas","register","onEnable","scrollview","content","destroyAllChildren","showDebug","isshow","_atlases","instance","length","index","touchNode","addComponent","anchorY","layer","Enum","UI_2D","spr","sizeMode","SizeMode","TRIMMED","addChild","sprFra","texture","_texture","spriteFrame","scale"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAwCC,MAAAA,mB,OAAAA,mB;AAAkCC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,I,OAAAA,I;AAAgCC,MAAAA,U,OAAAA,U;AAAqBC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,E,OAAAA,E;;AACzKC,MAAAA,O,iBAAAA,O;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBX,U;;8BAGjBY,Y,WADZF,OAAO,CAAC,cAAD,C,UAEHC,QAAQ,CAACP,UAAD,C,2BAFb,MACaQ,YADb;AAAA;AAAA,8BAC0C;AAAA;AAAA;;AAAA;AAAA;;AAItCC,QAAAA,QAAQ,GAAS,CAEhB;;AAEDC,QAAAA,QAAQ,GAAE;AACN,eAAKC,UAAL,CAAgBC,OAAhB,CAAwBC,kBAAxB;AACA,eAAKC,SAAL,CAAe,IAAf;AACH;;AAEDA,QAAAA,SAAS,CAACC,MAAD,EAAS;AACd;AACA,cAAIC,QAAQ,GAAGnB,mBAAmB,CAACoB,QAApB,CAA6BD,QAA5C;AACA,cAAIE,MAAM,GAAGF,QAAQ,CAACE,MAAtB;;AACA,eAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,MAA5B,EAAoCC,KAAK,EAAzC,EAA6C;AACzC,gBAAIC,SAAS,GAAG,IAAIrB,IAAJ,EAAhB;AACAqB,YAAAA,SAAS,CAACC,YAAV,CAAuBlB,WAAvB,EAAoCmB,OAApC,GAA8C,CAA9C;AACAF,YAAAA,SAAS,CAACG,KAAV,GAAkBzB,MAAM,CAAC0B,IAAP,CAAYC,KAA9B;AACA,gBAAIC,GAAG,GAAGN,SAAS,CAACC,YAAV,CAAuBpB,MAAvB,CAAV;AACAyB,YAAAA,GAAG,CAACC,QAAJ,GAAe1B,MAAM,CAAC2B,QAAP,CAAgBC,OAA/B;AACA,iBAAKlB,UAAL,CAAgBC,OAAhB,CAAwBkB,QAAxB,CAAiCV,SAAjC;AAEA,gBAAIW,MAAM,GAAG,IAAI7B,WAAJ,EAAb;AACA6B,YAAAA,MAAM,CAACC,OAAP,GAAiBhB,QAAQ,CAACG,KAAD,CAAR,CAAgBc,QAAjC;AACAP,YAAAA,GAAG,CAACQ,WAAJ,GAAkBH,MAAlB;AACAX,YAAAA,SAAS,CAACe,KAAV,GAAkB/B,EAAE,CAAC,GAAD,EAAK,GAAL,EAAS,GAAT,CAApB;AACH;AAGJ;;AAhCqC,O;;;;;iBAEd,I","sourcesContent":["import { _decorator, Color, Component, director, DynamicAtlasManager, instantiate, Layers, Node, Prefab, ResolutionPolicy, ScrollView, Sorting, Sprite, SpriteFrame, UITransform, v3, view } from 'cc';\nimport { ViewPop } from '../../framework/base/ViewPop';\nconst { ccclass, property } = _decorator;\n\n@ccclass('DynamicAtlas')\nexport class DynamicAtlas extends ViewPop {\n    @property(ScrollView)\n    scrollview:ScrollView = null\n\n    register(): void {\n        \n    }\n\n    onEnable(){\n        this.scrollview.content.destroyAllChildren()\n        this.showDebug(true)\n    }\n\n    showDebug(isshow) {\n        //@ts-ignore\n        let _atlases = DynamicAtlasManager.instance._atlases;\n        let length = _atlases.length\n        for (let index = 0; index < length; index++) {\n            let touchNode = new Node()\n            touchNode.addComponent(UITransform).anchorY = 1\n            touchNode.layer = Layers.Enum.UI_2D\n            let spr = touchNode.addComponent(Sprite)\n            spr.sizeMode = Sprite.SizeMode.TRIMMED\n            this.scrollview.content.addChild(touchNode);\n\n            let sprFra = new SpriteFrame();\n            sprFra.texture = _atlases[index]._texture\n            spr.spriteFrame = sprFra;\n            touchNode.scale = v3(0.5,0.5,0.5)\n        }\n\n\n    }\n}\n\n"]}