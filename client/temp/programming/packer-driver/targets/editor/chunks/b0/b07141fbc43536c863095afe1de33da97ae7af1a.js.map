{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/activity/wonderfulActivity/ChapterGiftItem.ts"],"names":["_decorator","Component","Label","Node","tab","LangMgr","EventMgr","LocalEvent","Func","ccclass","property","ChapterGiftItem","_mallId","initData","mallId","chapterId","chapterData","getData","MainChapterTableById","getValue","lbl_name","string","getLab","Name","node_red","active","Boolean","getItem","clickItem","emitLocal","Chapter_Gift_Change"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AAC9BC,MAAAA,G,iBAAAA,G;;AACAC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,I,iBAAAA,I;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;iCAGjBW,e,WADZF,OAAO,CAAC,iBAAD,C,UAEHC,QAAQ,CAACR,KAAD,C,UAERQ,QAAQ,CAACP,IAAD,C,2BAJb,MACaQ,eADb,SACqCV,SADrC,CAC+C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAKnCW,OALmC,GAKlB,CALkB;AAAA;;AAM3CC,QAAAA,QAAQ,CAACC,MAAD,EAAeC,SAAf,EAAiC;AACrC,eAAKH,OAAL,GAAeE,MAAf;AACA,gBAAME,WAAW,GAAG;AAAA;AAAA,0BAAIC,OAAJ,GAAcC,oBAAd,CAAmCC,QAAnC,CAA4CJ,SAA5C,CAApB;AACA,eAAKK,QAAL,CAAcC,MAAd,GAAuB;AAAA;AAAA,kCAAQC,MAAR,CAAeN,WAAW,CAACO,IAA3B,CAAvB;AACA,eAAKC,QAAL,CAAcC,MAAd,GAAuB,CAACC,OAAO,CAAC;AAAA;AAAA,4BAAKC,OAAL,CAAa,kBAAgB,KAAKf,OAAlC,CAAD,CAA/B;AACH,SAX0C,CAY3C;;;AACAgB,QAAAA,SAAS,GAAE;AACP,eAAKJ,QAAL,CAAcC,MAAd,GAAuB,KAAvB;AACA;AAAA;AAAA,oCAASI,SAAT,CAAmB;AAAA;AAAA,wCAAWC,mBAA9B,EAAmD,KAAKlB,OAAxD;AACH;;AAhB0C,O;;;;;iBAE1B,I;;;;;;;iBAED,I","sourcesContent":["import { _decorator, Component, Label, Node } from 'cc';\r\nimport { tab } from '../../../../Table/table_gen';\r\nimport { LangMgr } from '../../../mgr/LangMgr';\r\nimport { EventMgr } from '../../../mgr/EventMgr';\r\nimport { LocalEvent } from '../../../define/LocalEvent';\r\nimport { Func } from '../../../utils/Func';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ChapterGiftItem')\r\nexport class ChapterGiftItem extends Component {\r\n    @property(Label)\r\n    lbl_name:Label = null;\r\n    @property(Node)\r\n    node_red:Node = null;\r\n    private _mallId:number = 0;\r\n    initData(mallId:number,chapterId:number) { \r\n        this._mallId = mallId;\r\n        const chapterData = tab.getData().MainChapterTableById.getValue(chapterId);\r\n        this.lbl_name.string = LangMgr.getLab(chapterData.Name);\r\n        this.node_red.active = !Boolean(Func.getItem(\"chapter_gift_\"+this._mallId));\r\n    }\r\n    // 点击toggle\r\n    clickItem(){\r\n        this.node_red.active = false;\r\n        EventMgr.emitLocal(LocalEvent.Chapter_Gift_Change, this._mallId);\r\n    }\r\n}\r\n\r\n\r\n"]}