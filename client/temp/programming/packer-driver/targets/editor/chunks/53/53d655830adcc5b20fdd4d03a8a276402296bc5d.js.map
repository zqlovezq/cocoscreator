{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/activity/signIn/SignInRewardItem.ts"],"names":["_decorator","Component","Label","Node","LangMgr","ItemPoolMgr","ItemInfo","ccclass","property","SignInRewardItem","table","touchCallBack","state","initView","dayLab","string","getCombineString","Index","item","initItemData","ItemId","ItemCount","comNode","ins","createRewadItem","rewardNode","updateState","rewardbgNode","active","signedNode","ordinarybgNode","lockNode","claimNode","onClickItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AAE9BC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,Q,iBAAAA,Q;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;kCAGaS,gB,WADZF,OAAO,CAAC,kBAAD,C,UAEHC,QAAQ,CAACL,IAAD,C,UAERK,QAAQ,CAACL,IAAD,C,UAERK,QAAQ,CAACN,KAAD,C,UAERM,QAAQ,CAACL,IAAD,C,UAERK,QAAQ,CAACL,IAAD,C,UAERK,QAAQ,CAACL,IAAD,C,UAERK,QAAQ,CAACL,IAAD,C,2BAdb,MACaM,gBADb,SACsCR,SADtC,CACgD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAepCS,KAfoC;AAAA,eAgBpCC,aAhBoC;AAAA,eAiBpCC,KAjBoC;AAAA;;AAoB5CC,QAAAA,QAAQ,CAACH,KAAD,EAAgCE,KAAhC,EAA6CD,aAA7C,EAAoE;AACxE,cAAG,KAAKG,MAAR,EAAe;AACX,iBAAKA,MAAL,CAAYC,MAAZ,GAAmB;AAAA;AAAA,oCAAQC,gBAAR,CAAyB,kBAAzB,EAA4C,CAACN,KAAK,CAACO,KAAP,CAA5C,CAAnB;AACH;;AACD,eAAKP,KAAL,GAAWA,KAAX;AACA,cAAIQ,IAAI,GAAC;AAAA;AAAA,qCAAT;AACAA,UAAAA,IAAI,CAACC,YAAL,CAAkBT,KAAK,CAACU,MAAxB,EAA+BV,KAAK,CAACW,SAArC;AACA,cAAIC,OAAO,GAAC;AAAA;AAAA,0CAAYC,GAAZ,CAAgBC,eAAhB,CAAgCN,IAAhC,EAAqC,KAAKO,UAA1C,CAAZ;AACA,eAAKC,WAAL,CAAiBd,KAAjB;AACA,eAAKD,aAAL,GAAmBA,aAAnB;AACA,eAAKe,WAAL,CAAiBd,KAAjB;AAEH;;AACDc,QAAAA,WAAW,CAACd,KAAD,EAAc;AACrB,eAAKA,KAAL,GAAWA,KAAX;AACA,eAAKe,YAAL,CAAkBC,MAAlB,GAAyBhB,KAAK,IAAE,CAAhC;AACA,eAAKiB,UAAL,CAAgBD,MAAhB,GAAuBhB,KAAK,IAAE,CAA9B;AACA,eAAKkB,cAAL,CAAoBF,MAApB,GAA2BhB,KAAK,IAAE,CAAP,IAAUA,KAAK,IAAE,CAA5C;AACA,eAAKmB,QAAL,CAAcH,MAAd,GAAqBhB,KAAK,IAAE,CAA5B;AACA,eAAKoB,SAAL,CAAeJ,MAAf,GAAsBhB,KAAK,IAAE,CAA7B;AAEH;;AACDqB,QAAAA,WAAW,GAAE;AACT,cAAG,KAAKtB,aAAL,IAAoB,KAAKC,KAAL,IAAY,CAAnC,EAAqC;AACjC,iBAAKD,aAAL,CAAmB,KAAKD,KAAL,CAAWO,KAA9B;AACH;AAEJ;;AA/C2C,O;;;;;iBAEvB,I;;;;;;;iBAEE,I;;;;;;;iBAEV,I;;;;;;;iBAEC,I;;;;;;;iBAEC,I;;;;;;;iBAEC,I;;;;;;;iBAEA,I","sourcesContent":["import { _decorator, Component, Label, Node } from 'cc';\r\nimport { tab } from '../../../../Table/table_gen';\r\nimport { LangMgr } from '../../../mgr/LangMgr';\r\nimport { ItemPoolMgr } from '../../item/ItemPoolMgr';\r\nimport { ItemInfo } from '../../item/ItemInfo';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * \r\n * SignInRewardItem\r\n * zhudingchao\r\n * Thu Jun 20 2024 17:43:05 GMT+0800 (中国标准时间)\r\n * db://assets/scripts/logic/model/activity/signIn/SignInRewardItem.ts\r\n *\r\n */\r\n\r\n@ccclass('SignInRewardItem')\r\nexport class SignInRewardItem extends Component {\r\n    @property(Node)\r\n    rewardbgNode: Node = null;\r\n    @property(Node)\r\n    ordinarybgNode: Node = null;\r\n    @property(Label)\r\n    dayLab:Label=null;\r\n    @property(Node)\r\n    lockNode:Node=null;\r\n    @property(Node)\r\n    claimNode:Node=null;\r\n    @property(Node)\r\n    rewardNode:Node=null;\r\n    @property(Node)\r\n    signedNode:Node=null;\r\n    private table:tab.DailyRewardItemTable;\r\n    private touchCallBack:Function;\r\n    private state:number;\r\n    \r\n    \r\n    initView(table:tab.DailyRewardItemTable,state:number,touchCallBack:Function){\r\n        if(this.dayLab){\r\n            this.dayLab.string=LangMgr.getCombineString(\"ui_commondesc_72\",[table.Index]);\r\n        }\r\n        this.table=table;\r\n        let item=new ItemInfo();\r\n        item.initItemData(table.ItemId,table.ItemCount);\r\n        let comNode=ItemPoolMgr.ins.createRewadItem(item,this.rewardNode);\r\n        this.updateState(state);\r\n        this.touchCallBack=touchCallBack;\r\n        this.updateState(state);\r\n       \r\n    }\r\n    updateState(state:number){\r\n        this.state=state;\r\n        this.rewardbgNode.active=state==2;\r\n        this.signedNode.active=state==2;\r\n        this.ordinarybgNode.active=state==0||state==1;\r\n        this.lockNode.active=state==0;\r\n        this.claimNode.active=state==1;\r\n     \r\n    }\r\n    onClickItem(){\r\n        if(this.touchCallBack&&this.state==1){\r\n            this.touchCallBack(this.table.Index)\r\n        }\r\n\r\n    }\r\n  \r\n\r\n}"]}