{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/rank/RankPop.ts"],"names":["_decorator","instantiate","Node","Prefab","ViewPop","InfiniteList","proto","Net","EventMgr","RankBottomItem","RankTopItem","RankToggleItem","LocalEvent","RANKING_TYPE","RoleData","HeroTeamControl","BattleMainDataControl","AssociationControl","AssociationData","ViewName","UIMgr","ccclass","property","RankPop","top_rank_list","rank_hero_list","rank_player_list","top_player_list","rank_guild_list","top_guild_list","_rank_type","NONE","_rankId","_ranking","_selfSimple","onShow","node_toggle_content","destroyAllChildren","createToggleItem","register","onMsg","Ptl","GetRankRsp","on_s2c_GetRankRsp","GetHeroRankRsp","on_s2c_GetHeroRankRsp","GetGuildRankRsp","on_s2c_GetGuildRankRsp","onLocal","Rank_Change","changeRank","GetSimpleRankRsp","on_s2c_GetSimpleRankRsp","rankId","HERO","msg","Msg_GetHeroRankReq","Send","GetHeroRankReq","GUILD","ins","reqGetGuildRank","Fight","Msg_GetSimpleRankReq","pageIndex","pageSize","GetSimpleRankReq","Msg_GetRankReq","GetRankReq","error","code","CommonErrorCode","Succeed","ranking","i","rankList","length","push","initStaticView","createTopItem","selfSimple","canInit","list_view","stopAutoScroll","node","parent","active","Init","getCellNumber","getCellCount","bind","getCellSize","getCellHeight","getCellIdentifer","getCellView","getCellData","GetCellData","createMyRank","idx","identifer","pfb_rank_item","getComponent","rankData","index","rankType","onDestroy","parentNode","node_top_items","children","item","pfb_rank_top_item","itemTs","initHeroData","initGuildData","initHeroPlayerData","arr","_key","pfb_toggle_item","name","String","setData","openData","ts","getChildByName","onClickCheck","allRank","concat","CHAPTER","setMyRank","getAssocitionSimpleInfo","rankLevel","node_my_rank_item","UpdateContent","isSelf","setPlayerMyRank","createDataByRankId","data","SimpleHero","itemData","getHeroByClass","itemId","level","star","roleName","powerScore","SimpleRank","stageId","getCurFightStageId","time","getClearedStageAliveSecond","score","simple","SimpleRole","reputation","SimpleGuild","flagId","onClose","onClickGuild","id","show","viewName","AssociationMainPop"],"mappings":"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","sourcesContent":["/*\r\n * @Date: 2024-06-12 17:43:04\r\n * @LastEditors: wzq\r\n * @LastEditTime: 2024-11-01 16:06:00\r\n */\r\n\r\nimport { _decorator, Component, instantiate, log, Node, Prefab, Toggle, ToggleContainer } from 'cc';\r\nimport { ViewPop } from '../../../framework/base/ViewPop';\r\nimport InfiniteList from '../../../Common/InfiniteList/InfiniteList';\r\nimport { proto } from 'client_protocol';\r\nimport { Net } from '../../net/Net';\r\nimport { EventMgr } from '../../mgr/EventMgr';\r\nimport { RankBottomItem } from './RankBottomItem';\r\nimport { RankTopItem } from './RankTopItem';\r\nimport { RankToggleItem } from './RankToggleItem';\r\nimport { LocalEvent } from '../../define/LocalEvent';\r\nimport { RANKING_TYPE } from '../../../Common/script/EnumTypeMgr';\r\nimport { RoleData } from '../role/RoleData';\r\nimport { HeroTeamControl } from '../hero/HeroTeamControl';\r\nimport { BattleMainDataControl } from '../home/battle/BattleMainDataControl';\r\nimport { AssociationControl } from '../association/AssociationControl';\r\nimport { AssociationData } from '../association/AssociationData';\r\nimport { ViewName } from '../../define/ViewDefine';\r\nimport { UIMgr } from '../../mgr/UIMgr';\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('RankPop')\r\nexport class RankPop extends ViewPop {\r\n    @property(InfiniteList)\r\n    list_view: InfiniteList = null;\r\n    @property(Prefab)\r\n    pfb_rank_item: Prefab = null;\r\n    @property(Prefab)\r\n    pfb_rank_top_item: Prefab = null;\r\n    @property(Prefab)\r\n    pfb_toggle_item: Prefab = null;\r\n    @property(Node)\r\n    node_top_items: Node = null;\r\n    @property(Node)\r\n    node_toggle_content: Node = null;\r\n    @property(RankBottomItem)\r\n    node_my_rank_item: RankBottomItem = null;\r\n    private top_rank_list: proto.ISimpleHero[] = [];\r\n    private rank_hero_list: proto.ISimpleHero[] = [];\r\n    private rank_player_list: proto.ISimpleRank[] = [];\r\n    private top_player_list: proto.ISimpleRank[] = [];\r\n    private rank_guild_list: proto.ISimpleGuild[] = [];\r\n    private top_guild_list: proto.ISimpleGuild[] = [];\r\n    private _rank_type: RANKING_TYPE = RANKING_TYPE.NONE;\r\n    private _rankId: number = 0;\r\n    private _ranking: number = 0;\r\n    private _selfSimple = null;\r\n    onShow(): void {\r\n        this.node_toggle_content.destroyAllChildren();\r\n        this.createToggleItem();\r\n    }\r\n    register(): void {\r\n        EventMgr.onMsg(proto.Ptl.GetRankRsp, this.on_s2c_GetRankRsp, this);\r\n        EventMgr.onMsg(proto.Ptl.GetHeroRankRsp, this.on_s2c_GetHeroRankRsp, this);\r\n        // 切换排行榜\r\n        /* 监听设置公会排行榜 */\r\n        EventMgr.onMsg(proto.Ptl.GetGuildRankRsp, this.on_s2c_GetGuildRankRsp, this);\r\n        EventMgr.onLocal(LocalEvent.Rank_Change, this.changeRank, this);\r\n        EventMgr.onMsg(proto.Ptl.GetSimpleRankRsp, this.on_s2c_GetSimpleRankRsp, this);\r\n    }\r\n    changeRank(rankId: number) {\r\n        if (rankId <= 5) {\r\n            this._rank_type = RANKING_TYPE.HERO;\r\n            let msg = new proto.Msg_GetHeroRankReq();\r\n            msg.rankId = rankId;\r\n            Net.Send(proto.Ptl.GetHeroRankReq, msg);\r\n        } else {\r\n            if (this._rank_type === rankId) {\r\n                return;\r\n            }\r\n            this._rank_type = rankId;\r\n            if (rankId === RANKING_TYPE.GUILD) {\r\n                AssociationControl.ins.reqGetGuildRank(14)\r\n            } else if (rankId == RANKING_TYPE.Fight) {\r\n                let msg = new proto.Msg_GetSimpleRankReq();\r\n                msg.rankId = RANKING_TYPE.Fight;\r\n                msg.pageIndex = 0;\r\n                msg.pageSize = 30;\r\n                Net.Send(proto.Ptl.GetSimpleRankReq, msg)\r\n            } else {\r\n                let msg = new proto.Msg_GetRankReq();\r\n                msg.rankId = rankId;\r\n                Net.Send(proto.Ptl.GetRankReq, msg)\r\n            }\r\n        }\r\n    }\r\n    on_s2c_GetGuildRankRsp(msg: proto.Msg_GetGuildRankRsp) {\r\n        if (msg.error && msg.error.code != proto.CommonErrorCode.Succeed) return;\r\n        this._rankId = msg.rankId;\r\n        this._ranking = msg.ranking;\r\n        this.rank_guild_list = [];\r\n        this.top_guild_list = [];\r\n\r\n        // 处理一下rankList 有可能有的排行已经解散\r\n        // const list = [];\r\n        // for(let k=0;k<msg.rankList.length;k++){\r\n        //     const _rankList = msg.rankList[i]\r\n        //     if(_rankList)\r\n        // }\r\n\r\n        for (let i = 0; i < msg.rankList.length; i++) {\r\n            if (i < 3) {\r\n                this.top_guild_list.push(msg.rankList[i])\r\n            } else {\r\n                this.rank_guild_list.push(msg.rankList[i])\r\n            }\r\n        }\r\n\r\n        this.initStaticView();\r\n        this.createTopItem();\r\n    }\r\n    on_s2c_GetSimpleRankRsp(msg: proto.Msg_GetRankRsp){\r\n         /*排行榜数据返回 */\r\n         this._rankId = msg.rankId;\r\n         this._ranking = msg.ranking;\r\n         this._selfSimple = msg.selfSimple;\r\n         this.rank_player_list = [];\r\n         this.top_player_list = [];\r\n         for (let i = 0; i < msg.rankList.length; i++) {\r\n             if (i < 3) {\r\n                 this.top_player_list.push(msg.rankList[i])\r\n             } else {\r\n                 this.rank_player_list.push(msg.rankList[i])\r\n             }\r\n         }\r\n \r\n         this.initStaticView();\r\n         this.createTopItem();\r\n    }\r\n    on_s2c_GetRankRsp(msg: proto.Msg_GetRankRsp) {\r\n        if (msg.error && msg.error.code != proto.CommonErrorCode.Succeed) return;\r\n        /*排行榜数据返回 */\r\n        this._rankId = msg.rankId;\r\n        this._ranking = msg.ranking;\r\n        this._selfSimple = msg.selfSimple;\r\n        this.rank_player_list = [];\r\n        this.top_player_list = [];\r\n        for (let i = 0; i < msg.rankList.length; i++) {\r\n            if (i < 3) {\r\n                this.top_player_list.push(msg.rankList[i])\r\n            } else {\r\n                this.rank_player_list.push(msg.rankList[i])\r\n            }\r\n        }\r\n\r\n        this.initStaticView();\r\n        this.createTopItem();\r\n    }\r\n    on_s2c_GetHeroRankRsp(msg: proto.Msg_GetHeroRankRsp) {\r\n        if (msg.error && msg.error.code != proto.CommonErrorCode.Succeed) return;\r\n        /*英雄排行榜数据返回 */\r\n        // 前三名放在榜首位置\r\n        this._rankId = msg.rankId;\r\n        this._ranking = msg.ranking;\r\n        this._selfSimple = msg.selfSimple;\r\n        this.rank_hero_list = [];\r\n        this.top_rank_list = [];\r\n        for (let i = 0; i < msg.rankList.length; i++) {\r\n            if (i < 3) {\r\n                this.top_rank_list.push(msg.rankList[i])\r\n            } else {\r\n                this.rank_hero_list.push(msg.rankList[i])\r\n            }\r\n        }\r\n        this.initStaticView();\r\n        this.createTopItem();\r\n    }\r\n    initStaticView() {\r\n        let canInit = false;\r\n        if (this._rank_type === RANKING_TYPE.HERO && this.rank_hero_list.length > 0) {\r\n            canInit = true\r\n        }\r\n        if (this._rank_type !== RANKING_TYPE.HERO && this.rank_player_list.length > 0) {\r\n            canInit = true\r\n        }\r\n        if (this._rank_type === RANKING_TYPE.GUILD && this.rank_guild_list.length > 0) {\r\n            canInit = true\r\n        }\r\n        this.list_view.stopAutoScroll();\r\n        if (canInit) {\r\n            this.list_view.node.parent.active = true;\r\n            this.list_view.Init({\r\n                getCellNumber: this.getCellCount.bind(this),\r\n                getCellSize: this.getCellHeight.bind(this),\r\n                getCellIdentifer: this.getCellIdentifer.bind(this),\r\n                getCellView: this.getCellView.bind(this),\r\n                getCellData: this.GetCellData.bind(this),\r\n            });\r\n        } else {\r\n            this.list_view.node.parent.active = false;\r\n        }\r\n        this.createMyRank();\r\n    }\r\n    getCellCount() {\r\n        if (this._rank_type === RANKING_TYPE.HERO) {\r\n            return this.rank_hero_list.length;\r\n        } else if (this._rank_type === RANKING_TYPE.GUILD) {\r\n            return this.rank_guild_list.length;\r\n        } else {\r\n            return this.rank_player_list.length;\r\n        }\r\n    }\r\n    getCellHeight(idx: number) {\r\n        return 82;\r\n    }\r\n    getCellIdentifer(idx: number) {\r\n        return \"RankBottomItem\"\r\n    }\r\n    getCellView(idx: number, identifer: string) {\r\n        return instantiate(this.pfb_rank_item).getComponent(RankBottomItem);\r\n    }\r\n    GetCellData(idx: number) {\r\n        if (this._rank_type === RANKING_TYPE.HERO) {\r\n            return { rankData: this.rank_hero_list[idx], index: idx, rankType: this._rank_type };\r\n        } else if (this._rank_type === RANKING_TYPE.GUILD) {\r\n            return { rankData: this.rank_guild_list[idx], index: idx, rankType: this._rank_type };\r\n        } else {\r\n            return { rankData: this.rank_player_list[idx], index: idx, rankType: this._rank_type };\r\n        }\r\n    }\r\n    protected onDestroy(): void {\r\n        super.onDestroy()\r\n    }\r\n    /* 创建前三的数据 */\r\n    createTopItem() {\r\n        for (let i = 0; i < 3; i++) {\r\n            const parentNode = this.node_top_items.children[i];\r\n            let item = null;\r\n            if (!parentNode.children[0]) {\r\n                item = instantiate(this.pfb_rank_top_item);\r\n                item.parent = parentNode;\r\n            } else {\r\n                item = parentNode.children[0]\r\n            }\r\n            const itemTs: RankTopItem = item.getComponent(RankTopItem);\r\n            if (this._rank_type === RANKING_TYPE.HERO) {\r\n                itemTs.initHeroData(this.top_rank_list[i]);\r\n            } else if (this._rank_type === RANKING_TYPE.GUILD) {\r\n                itemTs.initGuildData(this.top_guild_list[i]);\r\n            } else {\r\n                itemTs.initHeroPlayerData(this.top_player_list[i], this._rank_type);\r\n            }\r\n        }\r\n    }\r\n    /* 创建toggle */\r\n    createToggleItem() {\r\n        const arr = [8, 6, 1, 7, 9, 14, 17];\r\n        for (let i = 0; i < arr.length; i++) {\r\n            const _key = arr[i];\r\n            let item = null;\r\n            let itemTs: RankToggleItem = null;\r\n            item = instantiate(this.pfb_toggle_item);\r\n            item.parent = this.node_toggle_content;\r\n            item.name = String(_key);\r\n            itemTs = item.getComponent(RankToggleItem);\r\n            itemTs.setData(_key);\r\n        }\r\n        if (this.openData) {\r\n            const ts = this.node_toggle_content.getChildByName(String(this.openData)).getComponent(RankToggleItem)\r\n            ts.onClickCheck(null, String(this.openData));\r\n        } else {\r\n            const ts = this.node_toggle_content.getChildByName(String(arr[0])).getComponent(RankToggleItem);\r\n            ts.onClickCheck(null, String(arr[0]));\r\n        }\r\n    }\r\n    // 创建自己的排行\r\n    createMyRank() {\r\n        let allRank = []\r\n        if (this._rank_type === RANKING_TYPE.HERO) {\r\n            allRank = this.top_rank_list.concat(this.rank_hero_list);\r\n        } else if (this._rank_type === RANKING_TYPE.GUILD) {\r\n            allRank = this.top_guild_list.concat(this.rank_guild_list);\r\n        } else {\r\n            allRank = this.top_player_list.concat(this.rank_player_list);\r\n        }\r\n        if (this._ranking >= 0) {\r\n            if (this._rankId < RANKING_TYPE.CHAPTER) {\r\n                // 英雄数据\r\n                const rankData = allRank[this._ranking] as proto.ISimpleHero;\r\n                this.setMyRank(rankData, this._ranking)\r\n            } else {\r\n                if (this._rankId === RANKING_TYPE.GUILD) {\r\n                    const rankData = allRank[this._ranking] as proto.ISimpleGuild;\r\n                    this.setMyRank(rankData, this._ranking)\r\n                } else {\r\n                    // 个人数据\r\n                    const rankData = allRank[this._ranking] as proto.ISimpleRank;\r\n                    this.setMyRank(rankData, this._ranking)\r\n                }\r\n            }\r\n        } else {\r\n            const rankData = AssociationData.ins.getAssocitionSimpleInfo();\r\n            this.setMyRank(rankData, -1)\r\n        }\r\n    }\r\n    setMyRank(rankData: proto.ISimpleRank | proto.ISimpleHero | proto.ISimpleGuild, rankLevel: number) {\r\n        this.node_my_rank_item.UpdateContent({ rankData: rankData, index: rankLevel + 1, rankType: this._rank_type, isSelf: true })\r\n        this.node_my_rank_item.setPlayerMyRank(rankLevel + 1);\r\n    }\r\n    // 通过玩家当前的排行榜创建数据\r\n    createDataByRankId() {\r\n        let data = null;\r\n        switch (this._rankId) {\r\n            case 1:\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n            case 5:\r\n                // 获取队伍中英雄的信息 = \r\n                data = new proto.SimpleHero();\r\n                const itemData = HeroTeamControl.ins.getHeroByClass(this._rankId);\r\n                data.itemId = itemData.itemId;\r\n                data.level = itemData.level;\r\n                data.star = itemData.star;\r\n                data.roleName = RoleData.ins.name;\r\n                data.powerScore = itemData.powerScore;\r\n                break;\r\n            case 6:\r\n            case 7:\r\n            case 8:\r\n            case 9:\r\n                data = new proto.SimpleRank();\r\n                // score := int64(stageId)*1000000 + int64(alive)%1000000\r\n                const stageId = BattleMainDataControl.ins.getCurFightStageId();\r\n                const time = BattleMainDataControl.ins.getClearedStageAliveSecond(stageId);\r\n                data.score = stageId * 1000000 + time % 1000000;\r\n                data.simple = new proto.SimpleRole();\r\n                data.simple.name = RoleData.ins.name;\r\n                data.simple.powerScore = RoleData.ins.powerScore;\r\n                data.simple.reputation = 0;\r\n                data.simple.level = RoleData.ins.level;\r\n                break;\r\n            case 14:\r\n                data = new proto.SimpleGuild();\r\n                data.flagId = 1;\r\n                data.name = \"\";\r\n                data.powerScore = 0;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return data;\r\n    }\r\n    onClose(): void {\r\n        this.list_view.stopAutoScroll();\r\n        super.onClose();\r\n    }\r\n    onClickGuild() {\r\n        const rankData = AssociationData.ins.getAssocitionSimpleInfo()\r\n        if (rankData.id) {\r\n            UIMgr.ins.show({ viewName: ViewName.AssociationMainPop, data: { \"rankData\": rankData } })\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}