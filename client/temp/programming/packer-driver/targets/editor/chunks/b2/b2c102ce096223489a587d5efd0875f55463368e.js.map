{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/fight/base/obj/role/monster/MonsterInfo.ts"],"names":["_decorator","AbsRoleInfo","tab","AbsObjType","WorldBossControll","FightData","Sound","ccclass","property","MonsterInfo","objType","enemy","configTab","speed","exp","drop","totalTackDamage","setConfigId","id","reset","setConfigTab","getData","MonsterTableById","getValue","_normalGroup","createSkillGroup","normalGroup","setMonsterSkillIds","SkillIds","attackRange","AttackRange","isBoss","MonsterType","MonsterType_BossMonster","isEliteMonster","MonsterType_EliteMonster","onHitDamage","data","isDamage","ins","isWorldAndGuildBoss","addWorldBossTackDamage","damage","checkDeak","attrData","hp","PlayHitEffect","MonsterDieSound"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,G,iBAAAA,G;;AACAC,MAAAA,U,iBAAAA,U;;AAMAC,MAAAA,iB,iBAAAA,iB;;AACAC,MAAAA,S,iBAAAA,S;;AACFC,MAAAA,K;;;;;;;;;OAED;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;6BAGjBS,W,WADZF,OAAO,CAAC,aAAD,C,gBAAR,MACaE,WADb;AAAA;AAAA,sCAC6C;AAAA;AAAA;AAAA,eACzCC,OADyC,GACnB;AAAA;AAAA,wCAAWC,KADQ;AAAA,eAGzCC,SAHyC;AAAA,eAKzCC,KALyC,GAKzB,CALyB;AAAA,eAMzCC,GANyC,GAM3B,CAN2B;AAAA,eAOzCC,IAPyC,GAO1B,CAP0B;;AAQzC;AARyC,eASzCC,eATyC,GASf,CATe;AAAA;;AAWzCC,QAAAA,WAAW,CAACC,EAAD,EAAa;AACpB,eAAKC,KAAL;AACA,gBAAMF,WAAN,CAAkBC,EAAlB;AACA,eAAKE,YAAL,CAAkB;AAAA;AAAA,0BAAIC,OAAJ,GAAcC,gBAAd,CAA+BC,QAA/B,CAAwCL,EAAxC,CAAlB;AAEA,eAAKM,YAAL,GAAoB,KAAKC,gBAAL,CAAsB,CAAtB,CAApB;AACA,eAAKC,WAAL,CAAiBC,kBAAjB,CAAoC,KAAKf,SAAL,CAAegB,QAAnD;AAEH;AAED;;;AACe,YAAXC,WAAW,GAAG;AACd,iBAAO,KAAKjB,SAAL,CAAekB,WAAtB;AACH;AAED;;;AACU,YAANC,MAAM,GAAG;AACT,iBAAO,KAAKnB,SAAL,CAAeoB,WAAf,IAA8B;AAAA;AAAA,0BAAIA,WAAJ,CAAgBC,uBAArD;AACH;AACD;;;AACkB,YAAdC,cAAc,GAAG;AACjB,iBAAO,KAAKtB,SAAL,CAAeoB,WAAf,IAA8B;AAAA;AAAA,0BAAIA,WAAJ,CAAgBG,wBAArD;AACH;AAED;;;AACAC,QAAAA,WAAW,CAACC,IAAD,EAAmB;AAC1B,gBAAMD,WAAN,CAAkBC,IAAlB;;AACA,cAAI,KAAKN,MAAL,IAAeM,IAAI,CAACC,QAAL,EAAnB,EAAoC;AAChC,gBAAI;AAAA;AAAA,wCAAUC,GAAV,CAAcC,mBAAd,EAAJ,EAAyC;AACrC;AAAA;AAAA,0DAAkBD,GAAlB,CAAsBE,sBAAtB,CAA6CJ,IAAI,CAACK,MAAlD;AACH;AACJ;AACJ;;AAEDC,QAAAA,SAAS,GAAG;AACR,cAAI,KAAKC,QAAL,CAAcC,EAAd,IAAoB,CAAxB,EAA2B;AACvB;AAAA;AAAA,gCAAMN,GAAN,CAAUO,aAAV,CAAwB,KAAKlC,SAAL,CAAemC,eAAvC;AACH;;AACD,gBAAMJ,SAAN;AACH;;AAlDwC,O","sourcesContent":["import { _decorator, Component } from \"cc\";\nimport { AbsRoleInfo } from \"../AbsRoleInfo\";\nimport { tab } from \"../../../../../../Table/table_gen\";\nimport { AbsObjType } from \"../../AbsObj\";\nimport { proto } from \"client_protocol\";\nimport { SkillGroupTab } from \"../../../../power/powerTab/SkillGroupTab\";\nimport { DamageData } from \"../../../damage/DamageData\";\nimport { DamageCalculation } from \"../../../damage/DamageCalculation\";\nimport { DamageStatisticsData } from \"../../../damage/DamageStatisticsData\";\nimport { WorldBossControll } from \"../../../../stage/WorldBossControll\";\nimport { FightData } from \"../../../../data/FightData\";\nimport Sound from \"../../../../../utils/Sound\";\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('MonsterInfo')\nexport class MonsterInfo extends AbsRoleInfo {\n    objType: AbsObjType = AbsObjType.enemy;\n\n    configTab: tab.MonsterTable\n\n    speed: number = 0\n    exp: number = 0\n    drop: number = 0\n    /** 总承受伤害 */\n    totalTackDamage: number = 0\n\n    setConfigId(id: number) {\n        this.reset()\n        super.setConfigId(id)\n        this.setConfigTab(tab.getData().MonsterTableById.getValue(id))\n\n        this._normalGroup = this.createSkillGroup(0) as SkillGroupTab\n        this.normalGroup.setMonsterSkillIds(this.configTab.SkillIds)\n\n    }\n\n    /** 攻击范围 */\n    get attackRange() {\n        return this.configTab.AttackRange\n    }\n\n    /** boss怪 */\n    get isBoss() {\n        return this.configTab.MonsterType == tab.MonsterType.MonsterType_BossMonster\n    }\n    /** 精英怪 */\n    get isEliteMonster() {\n        return this.configTab.MonsterType == tab.MonsterType.MonsterType_EliteMonster\n    }\n\n    /** 被命中 命中伤害 */\n    onHitDamage(data: DamageData) {\n        super.onHitDamage(data)\n        if (this.isBoss && data.isDamage()) {\n            if (FightData.ins.isWorldAndGuildBoss()) {\n                WorldBossControll.ins.addWorldBossTackDamage(data.damage)\n            }\n        }\n    }\n\n    checkDeak() {\n        if (this.attrData.hp <= 0) {\n            Sound.ins.PlayHitEffect(this.configTab.MonsterDieSound)\n        }\n        super.checkDeak()\n    }\n\n}"]}