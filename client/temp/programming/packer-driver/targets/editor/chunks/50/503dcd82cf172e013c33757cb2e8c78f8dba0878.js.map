{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/home/PlayerLvUpPop.ts"],"names":["_decorator","Label","Node","ViewPop","RoleData","ItemInfo","ItemPoolMgr","EventMgr","LocalEvent","ccclass","property","PlayerLvUpPop","onShow","lbl_level","string","openData","map","ins","getLevelUpAward","forEach","value","key","itemInfo","itemId","num","createItem","node_content","clear","onDestroy","emitLocal","checkOpenFuncPop","register","unRegister"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AAC9BC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;+BAGjBW,a,WADZF,OAAO,CAAC,eAAD,C,UAEHC,QAAQ,CAACT,KAAD,C,UAERS,QAAQ,CAACR,IAAD,C,2BAJb,MACaS,aADb;AAAA;AAAA,8BAC2C;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAKvCC,QAAAA,MAAM,GAAS;AACX,eAAKC,SAAL,CAAeC,MAAf,GAAwB,KAAKC,QAA7B;AACA,gBAAMC,GAAG,GAAG;AAAA;AAAA,oCAASC,GAAT,CAAaC,eAAb,EAAZ;;AACA,cAAGF,GAAH,EAAO;AACHA,YAAAA,GAAG,CAACG,OAAJ,CAAY,CAACC,KAAD,EAAOC,GAAP,KAAa;AACrB;AACA,oBAAMC,QAAQ,GAAG;AAAA;AAAA,yCAAjB;AACAA,cAAAA,QAAQ,CAACC,MAAT,GAAkBF,GAAlB;AACAC,cAAAA,QAAQ,CAACE,GAAT,GAAeJ,KAAf;AACA;AAAA;AAAA,8CAAYH,GAAZ,CAAgBQ,UAAhB,CAA2BH,QAA3B,EAAoC,KAAKI,YAAzC;AACH,aAND;AAOAV,YAAAA,GAAG,CAACW,KAAJ;AACH;AACJ;;AACSC,QAAAA,SAAS,GAAS;AACxB,gBAAMA,SAAN;AACA;AAAA;AAAA,oCAASC,SAAT,CAAmB;AAAA;AAAA,wCAAWC,gBAA9B;AACH;;AACDC,QAAAA,QAAQ,GAAS,CAEhB;;AACDC,QAAAA,UAAU,GAAS;AACf,gBAAMA,UAAN;AACH;;AA5BsC,O;;;;;iBAErB,I;;;;;;;iBAEE,I","sourcesContent":["import { _decorator, Component, Label, Node } from 'cc';\r\nimport { ViewPop } from '../../../framework/base/ViewPop';\r\nimport { RoleData } from '../role/RoleData';\r\nimport { ItemInfo } from '../item/ItemInfo';\r\nimport { ItemPoolMgr } from '../item/ItemPoolMgr';\r\nimport { EventMgr } from '../../mgr/EventMgr';\r\nimport { LocalEvent } from '../../define/LocalEvent';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PlayerLvUpPop')\r\nexport class PlayerLvUpPop extends ViewPop {\r\n    @property(Label)\r\n    lbl_level:Label = null;\r\n    @property(Node)\r\n    node_content:Node = null;\r\n    onShow(): void {\r\n        this.lbl_level.string = this.openData;\r\n        const map = RoleData.ins.getLevelUpAward();\r\n        if(map){\r\n            map.forEach((value,key)=>{\r\n                // 创建奖励\r\n                const itemInfo = new ItemInfo();\r\n                itemInfo.itemId = key;\r\n                itemInfo.num = value;\r\n                ItemPoolMgr.ins.createItem(itemInfo,this.node_content);\r\n            })\r\n            map.clear();\r\n        }\r\n    }\r\n    protected onDestroy(): void {\r\n        super.onDestroy();\r\n        EventMgr.emitLocal(LocalEvent.checkOpenFuncPop);\r\n    }\r\n    register(): void {\r\n        \r\n    }\r\n    unRegister(): void {\r\n        super.unRegister()\r\n    }\r\n}\r\n\r\n\r\n"]}