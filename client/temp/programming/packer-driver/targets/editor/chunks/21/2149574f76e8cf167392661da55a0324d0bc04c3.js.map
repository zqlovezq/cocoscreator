{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/home/HomeMainView.ts"],"names":["_decorator","Button","instantiate","Label","Node","ProgressBar","RichText","sp","Sprite","ViewScreen","UIMgr","ViewName","RoleData","EventMgr","LocalEvent","PlayerHeadItem","ResourceItem","BattleMainDataControl","tab","createAnimation","GameUtil","setTextTime","setTextTime_3","LangMgr","ItemData","proto","PrestigeData","ChatData","ActivityData","HeroData","HeroTeamControl","PayData","OpenFunctionMgr","PatrolDataMgr","Net","RedDotType","RedMgr","RookieTaskMgr","FengyunRankData","GuideController","DisableGuideController","EnableGuideController","ChannelMgr","Global","RoleControl","MallDataMgr","MALLNAME","DEVELOPTYPE","TRIALLAYER","BattlePassDataMgr","AssociationControl","RedComp","RedEventComp","ForceUpPop","SignInGiftData","ccclass","property","HomeMainView","PatrolTime","checkGuide","onLoad","event_scroll","active","isReview","register","onMsg","Ptl","ItemChangePush","on_s2c_ItemChangePush","RoleLevelUpPush","on_s2c_RoleLevelUpPush","UpdateRolePowerScore","on_s2c_UpdateRolePowerScore","UpdateHeroPowerScore","on_s2c_Msg_UpdateHeroPowerScore","GetBattlePassInfoMapRsp","on_s2c_GetBattlePassInfoMapRsp","onLocal","Prestige_Change","updatePrestige","ChatMessage_Change","updateChatMessage","LimitedBenefits_Change","updateLimitReward","FirstRecharge_Chang","updateFirstRecharge","BreakEgg_change","updateBreakEgg","VipLevel_Change","updateVip","hidePop","checkMainView","GetPatrolInfoRsp","on_s2c_GetPatrolInfoRsp","ReceivePatrolRewardRsp","on_s2c_ReceivePatrolRewardRsp","ChangeRoleNameRsp","on_s2c_ChangeRoleName","TrialRed","updateTrialRed","checkOpenFuncPop","LimitedRewardPush","SetTeamSlotRsp","on_s2c_SetTeamSlotRsp","ins","requestGetServerTime","BuyFixedShopCommodityRsp","on_s2c_BuyFixedShopCommodityRsp","AdvWatchDataPush","updateActivityRed","openFuncRed","msg","error","code","CommonErrorCode","Succeed","changeNameTimes","name","updatePlayerName","updateHeroSpine","Number","heroId","powerScore","show","viewName","data","power","addPower","updateForce","heroInfo","getById","oldLevel","level","updateLevel","refreshEvent","BooK_Equip","updatedItems","i","length","item","itemId","updateExpBar","lbl_revive_num","string","String","getCount","start","getStageClearIds","curClearStageId","showMonster","dropCount","node_jump","unLocal","JadeDrop","clearTask","IsGuideFinished","setGuideStep","emitLocal","CheckGuide","clearTimeout","setTimeOutCount","refresh7GiftPackBuyState","initView","updateNoticeRed","updateChapterData","updatePatrolData","updateTrial","jumpToChallenge","updateGiftBtn","refreshRed","showFinger","refreshActivityGroup","updateHonorRank","onClickFight","onClickMatch","onClickTest","AzheGmPop","updatePower","nameLab","updateHeadInfo","scheduleOnce","PlayerLvUpPop","roleLevelUp","sdkRole","lbl_level","playerLv","PlayerLvTab","getData","PlayerLvTableByPlayerLv","getValue","curExpMax","Exp","ExpCount","ExpBarMother","ExpBarChild","lasExpMax","expBar","progress","lbl_vip_level","vipLevel","lbl_power_score","convertNumber","curChapterId","getChapterId","chapterData","MainChapterTableById","lbl_chapter_icon","setTexture","Icon","lbl_max_alive_second","getCurMaxAliveSecond","lbl_chapter_name","getLab","Name","lbl_chapter_num","taskInfo","getHomeShowTaskInfo","prestigeNameLab","taskTable","Describe","prestigeTotalLab","FinishParam1","prestigeNowLab","info","newMessageInfo","chatNode","chatNotNode","type","getChanneTypeById","channelId","ChatChannelType","World","chatWorldNode","chatSystemNode","chatNameLab","sender","chatContentLab","normal","channelLab","chatSystemRichTxt","systemContent","limitBtnNode","checkFunctionIsOpen","OpenFunctionName","OpenFunctionName_LimitBenifit","onClickChat","ChatPop","onDestroy","getView","getComponent","onClose","unTarget","_heroInfo","_heroClass","heroTable","Class","_spine","node_spines","getChildByName","Skeleton","node","Idle","teamInfo","getTeam","spine","First_Recharge","firstRechargeBtnNode","isShowFirstRecharge","OpenFunctionName_FirstRecharge","table","getFirstRechargeTable","ButtonIcon","IconAnimationId","isOpenBreakEgg","OpenFunctionName_CrazyChicken","breakEggMsg","breakEggNode","BreakEggTableById","id","score","MaxScore","breakEggNumNode","breakEggNumLab","getBattleMap","size","node_battle_pass","onClickVipBtn","OpenFunctionName_Vip","WelfareActivityMainView","ChapterAward","Msg_GetPatrolInfoReq","Send","GetPatrolInfoReq","startPatrolData","Msg_GetPatrolInfoRsp","startPatrolTime","getServerUtcTime","lastReceiveBaseRewardsTimeMap","lastReceiveExtraRewardsTimeMap","canCheck","initData","node_patrol_red","GetKeyValue_ConfigTable","PatrolTipsTime","unschedule","updatePatrolTime","schedule","checkAutoPop","allTrial","node_rookie_task_btn","rookieTrial","advanceTrial","openName1","OpenFunctionName_ActivityNewPlayerTask","openName2","OpenFunctionName_ActivityNewPlayerTask2","data1","getTrialTask","data2","red_trialRed","red1","red_score_red","ROOKIE","red2","ELITE","node_red_trial","checkIsRed","jumpName","PveStageTableByStageId","StageType","PveStageType","PveStageType_FeedStage","PveStageType_GoldStage","InstanceZonesView","PveStageType_ClimbTower","ClimbingTowerMainView","PveStageType_WorldBoss","TopWarView","PveStageType_DailyChallenge","EveryDayChallengeView","PveStageType_GuildBoss","AssociationView","PveStageType_PVPBattle","FincaFightView","PveStageType_EliteChapter","BattleMainView","isOpen","OpenFunctionName_ActivityRank","honorRankNode","isOpenActivity","list","waitPopOpenName","shift","FunctionUnlockPop","Seven_Gift_Pack","nowDay","Math","floor","createTime","heroNode","node_day_gift_btn","weaponNode","Map","get7GiftPackBuyState","OpenFunctionName_Hero7GiftPack","get","HERO","BOOK","node_signing_gift","checkActivityEnd","clientData","failTimes","node_finger","console","log","uiNode","children","openFirstRecharge","Boolean","jumpLayer","Module","Module_FirstRechargePop","Feng_Yun_Rank","Guild_Skill","reqGetJoinGuildRequests","Guild_Sign","Guild_Activity","CongratulationPop","rewards","mallName","MallItemTabeById","commodityId","MallId","getFixedShopData","set","boughtCount","NewPlayerMall","NewPlayerMall2","dailyRed","isRed","GachaAds","weekRed","MonthRed","newBoughtCount","newBoughtCount2","mallItemTab","mallItemTab2","red_NewPlayerMall","LimitCount","getFixedShopExpireTime","red_NewPlayerMall2","node_activity_red","isGuiding","LocalMsg_QueueUI_check","groups","getAllActivityGroup","node_activity_group","content","parent","ch","removeFromParent","destroy","tabData","activityTable","btnNode","addChild","redDot","com","addComponent","redNode","evet1","event","Combine_Pass","child","TabId","types","push","evet2","Combine_Grow","evet3","Combine_Shop","evet4","Combine_Recharge","addRed","ButtonIconUrl","btn","on","EventType","CLICK","CombineActivityMainView","countDown","endTime","timeUpdate","gachaUpData","getAllUpData","upActInfo","gachaUpTab","GachaUpTableById","Param1","sp_activity_combine","IconUrl","onClickGachaBtn","GachaUpIsOpen","RecruitLimitView","Module_RecruitView"],"mappings":"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","sourcesContent":["import { _decorator, Button, instantiate, Label, Layers, log, Node, ProgressBar, RichText, Size, sp, Sprite, SpriteFrame, SpriteRenderer, Tween, tween, UITransform, Vec3, view } from 'cc';\nimport { ViewScreen } from '../../../framework/base/ViewScreen';\nimport { UIMgr } from '../../mgr/UIMgr';\nimport { ViewName } from '../../define/ViewDefine';\nimport { RoleData } from '../role/RoleData';\nimport { EventMgr } from '../../mgr/EventMgr';\nimport { LocalEvent } from '../../define/LocalEvent';\nimport { PlayerHeadItem } from '../common/PlayerHeadItem';\nimport { ResourceItem } from '../common/ResourceItem';\nimport { BattleMainDataControl } from './battle/BattleMainDataControl';\nimport { tab } from '../../../Table/table_gen';\nimport { createAnimation, GameUtil, setTextTime, setTextTime_3 } from '../../utils/GameUtil';\nimport { LangMgr } from '../../mgr/LangMgr';\nimport { ItemData } from '../item/ItemData';\nimport { proto } from 'client_protocol';\nimport { PrestigeData } from '../prestige/PrestigeData';\nimport { ChatData } from '../chat/ChatData';\nimport { ActivityData } from '../activity/ActivityData';\nimport { HeroData } from '../hero/HeroData';\nimport { HeroTeamControl } from '../hero/HeroTeamControl';\nimport { PayData } from '../pay/PayData';\nimport { OpenFunctionMgr } from '../../../Common/component/OpenFunctionMgr';\nimport { PatrolDataMgr } from './Patrol/PatrolDataMgr';\nimport { Net } from '../../net/Net';\nimport { RedDotType } from '../../red/RedDotType';\nimport { RedMgr } from '../../mgr/RedMgr';\nimport { RookieTaskMgr } from '../activity/rookieTask/RookieTaskMgr';\nimport { FengyunRankData } from '../fengyunRanking/FengyunRankData';\nimport { GuideController } from '../../guide/GuideController';\nimport { DisableGuideController, EnableGuideController } from '../../guide/GuideCommand';\nimport { ChannelMgr } from '../../../channel/ChannelMgr';\nimport { Global } from '../../../Global';\nimport { RoleControl } from '../role/RoleControl';\nimport { MallDataMgr } from '../shop/MallDataMgr';\nimport { MALLNAME, DEVELOPTYPE, TRIALLAYER } from '../../../Common/script/EnumTypeMgr';\nimport { BattlePassDataMgr } from '../activity/battlePass/BattlePassDataMgr';\nimport { AssociationControl } from '../association/AssociationControl';\nimport RedComp from '../../../Common/component/RedComp';\nimport RedEventComp from '../../../Common/component/RedEventComp';\nimport { ActivityOpenInfo } from '../activity/ActivityOpenInfo';\nimport { ForceUpPop } from '../item/ForceUpPop';\nimport { SignInGiftData } from '../activity/signGift/SignInGiftData';\nimport { FightData } from '../../fight/data/FightData';\nconst { ccclass, property } = _decorator;\n\n@ccclass('HomeMainView')\nexport class HomeMainView extends ViewScreen {\n\n    @property(Label)\n    forceLab: Label = null;\n\n    @property(Label)\n    nameLab: Label = null;\n\n    @property(Label)\n    titleImg: Label = null;\n    @property(Label)\n    vipImg: Label = null;\n    @property(Label)\n    lbl_level: Label = null;\n    @property(Label)\n    lbl_vip_level: Label = null;\n    @property(Label)\n    lbl_power_score: Label = null;\n    @property(Label)\n    lbl_chapter_name: Label = null;\n    @property(Label)\n    lbl_max_alive_second: Label = null;\n    @property(Sprite)\n    lbl_chapter_icon: Sprite = null;\n    @property(Label)\n    lbl_chapter_num: Label = null;\n    @property(Label)\n    lbl_revive_num: Label = null;\n\n    @property(ProgressBar)\n    expBar: ProgressBar = null;\n    @property(PlayerHeadItem)\n    palyerHeadItem: PlayerHeadItem = null;\n    @property(ResourceItem)\n    resourceItem: ResourceItem = null;\n\n    @property(Label)\n    prestigeNameLab: Label = null;\n    @property(Label)\n    prestigeTotalLab: Label = null;\n    @property(Label)\n    prestigeNowLab: Label = null\n\n    @property(Node)\n    chatNode: Node = null;\n    @property(Label)\n    channelLab: Label = null;\n    @property(Node)\n    chatWorldNode: Node = null;\n    @property(Node)\n    chatNotNode: Node = null;\n    @property(Label)\n    chatNameLab: Label = null;\n    @property(Label)\n    chatContentLab: Label = null\n    @property(Node)\n    chatSystemNode: Node = null;\n    @property(RichText)\n    chatSystemRichTxt: RichText = null;\n\n    @property(Node)\n    limitBtnNode: Node = null;\n    @property(Node)\n    node_spines: Node = null;\n    @property(Node)\n    firstRechargeBtnNode: Node = null;\n\n    @property(Node)\n    breakEggNode: Node = null;\n    @property(Label)\n    breakEggNumLab: Label = null;\n    @property(Node)\n    breakEggNumNode: Node = null;\n\n    @property(Node)\n    node_battle_pass: Node = null;\n    @property(Node)\n    node_patrol_red: Node = null;\n    @property(Node)\n    node_rookie_task_btn: Node = null;\n    @property(Node)\n    node_red_trial: Node = null;\n    @property(Node)\n    honorRankNode: Node = null;\n    @property(Node)\n    node_day_gift_btn: Node = null;\n    @property(Node)\n    node_finger: Node = null;\n    @property(Node)\n    node_activity_red: Node = null;\n    @property(Node)\n    node_activity_group: Node = null;\n\n    @property(Sprite)\n    sp_activity_combine: Sprite = null;\n    @property(Node)\n    node_signing_gift: Node = null;\n\n    private PatrolTime: number = 0;\n    private checkGuide = true;\n\n    @property(Node)\n    event_scroll: Node = null\n\n    protected onLoad(): void {\n        super.onLoad()\n        this.event_scroll.active = !Global.isReview\n    }\n    register(): void {\n        EventMgr.onMsg(proto.Ptl.ItemChangePush, this.on_s2c_ItemChangePush, this)\n        EventMgr.onMsg(proto.Ptl.RoleLevelUpPush, this.on_s2c_RoleLevelUpPush, this);\n        EventMgr.onMsg(proto.Ptl.UpdateRolePowerScore, this.on_s2c_UpdateRolePowerScore, this);\n        EventMgr.onMsg(proto.Ptl.UpdateHeroPowerScore, this.on_s2c_Msg_UpdateHeroPowerScore, this);\n        EventMgr.onMsg(proto.Ptl.GetBattlePassInfoMapRsp, this.on_s2c_GetBattlePassInfoMapRsp, this);\n        EventMgr.onLocal(LocalEvent.Prestige_Change, this.updatePrestige, this)\n        EventMgr.onLocal(LocalEvent.ChatMessage_Change, this.updateChatMessage, this)\n        EventMgr.onLocal(LocalEvent.LimitedBenefits_Change, this.updateLimitReward, this)\n        EventMgr.onLocal(LocalEvent.FirstRecharge_Chang, this.updateFirstRecharge, this)\n        EventMgr.onLocal(LocalEvent.BreakEgg_change, this.updateBreakEgg, this)\n        EventMgr.onLocal(LocalEvent.VipLevel_Change, this.updateVip, this)\n        EventMgr.onLocal(LocalEvent.hidePop, this.checkMainView, this)\n        EventMgr.onMsg(proto.Ptl.GetPatrolInfoRsp, this.on_s2c_GetPatrolInfoRsp, this);\n        EventMgr.onMsg(proto.Ptl.ReceivePatrolRewardRsp, this.on_s2c_ReceivePatrolRewardRsp, this);\n        EventMgr.onMsg(proto.Ptl.ChangeRoleNameRsp, this.on_s2c_ChangeRoleName, this);\n\n        EventMgr.onLocal(LocalEvent.TrialRed, this.updateTrialRed, this)\n        EventMgr.onLocal(LocalEvent.checkOpenFuncPop, this.checkOpenFuncPop, this)\n        EventMgr.onMsg(proto.Ptl.LimitedRewardPush, this.updateLimitReward, this)\n        EventMgr.onMsg(proto.Ptl.SetTeamSlotRsp, this.on_s2c_SetTeamSlotRsp, this);\n        RoleControl.ins.requestGetServerTime();\n\n\n        // 精彩活动红点\n        EventMgr.onMsg(proto.Ptl.BuyFixedShopCommodityRsp, this.on_s2c_BuyFixedShopCommodityRsp, this);\n        EventMgr.onMsg(proto.Ptl.AdvWatchDataPush, this.updateActivityRed, this);\n        EventMgr.onLocal(LocalEvent.openFuncRed, this.updateActivityRed, this)\n    }\n    on_s2c_ChangeRoleName(msg: proto.Msg_ChangeRoleNameRsp) {\n        if (!msg.error || msg.error.code == proto.CommonErrorCode.Succeed) {\n            RoleData.ins.changeNameTimes++;\n            RoleData.ins.name = msg.name;\n            this.updatePlayerName();\n        }\n    }\n    /* 上阵英雄 */\n    on_s2c_SetTeamSlotRsp(msg: proto.Msg_SetTeamSlotRsp) {\n        if (msg.error && msg.error.code != proto.CommonErrorCode.Succeed) return;\n        this.updateHeroSpine(Number(msg.heroId));\n    }\n    on_s2c_UpdateRolePowerScore(msg: proto.Msg_UpdateRolePowerScore) {\n        // 战力提升\n        if (msg.powerScore > RoleData.ins.powerScore) {\n            UIMgr.ins.show({\n                viewName: ViewName.ForceUpPop, data: {\n                    power: RoleData.ins.powerScore,\n                    addPower: msg.powerScore - RoleData.ins.powerScore\n                }\n            })\n        }\n        RoleData.ins.powerScore = msg.powerScore;\n        this.updateForce();\n    }\n    on_s2c_Msg_UpdateHeroPowerScore(msg: proto.Msg_UpdateHeroPowerScore) {\n        const heroInfo = HeroData.ins.getById(msg.heroId);\n        if (heroInfo) {\n            heroInfo.powerScore = msg.powerScore;\n        }\n\n    }\n    on_s2c_RoleLevelUpPush(msg: proto.Msg_RoleLevelUpPush) {\n        RoleData.ins.oldLevel = msg.level;\n        // 播放小鸡升级动画\n        this.updateLevel();\n        //----武器装备槽位根据等级解锁 需要刷新红点-------\n        RedMgr.refreshEvent(RedDotType.BooK_Equip);\n    }\n    on_s2c_ItemChangePush(msg: proto.Msg_ItemChangePush) {\n        if (msg.updatedItems) {\n            for (let i = 0; i < msg.updatedItems.length; i++) {\n                const item = msg.updatedItems[i];\n                if (item.itemId === 3) {\n                    this.updateExpBar();\n                }\n                if (item.itemId === 202) {\n                    this.lbl_revive_num.string = String(ItemData.ins.getCount(202))\n                }\n            }\n        }\n    }\n    protected start(): void {\n        if (BattleMainDataControl.ins.getStageClearIds().length === 0 && RoleData.ins.curClearStageId === 101) {\n            EnableGuideController();\n            GuideController.ins.showMonster = false;\n            GuideController.ins.dropCount = 1;\n            GuideController.ins.node_jump.active = false;\n            EventMgr.unLocal(LocalEvent.JadeDrop);\n            GuideController.ins.clearTask();\n        }\n\n        if (!RoleData.ins.IsGuideFinished() && this.checkGuide) {\n            GuideController.ins.clearTask();\n            RoleData.ins.setGuideStep();\n            EventMgr.emitLocal(LocalEvent.CheckGuide);\n            this.checkGuide = false;\n        } else {\n            DisableGuideController();\n        }\n        clearTimeout(GuideController.ins.setTimeOutCount);\n        // 刷新一下武器礼包状态\n        ActivityData.ins.refresh7GiftPackBuyState();\n        this.initView();\n        RoleControl.ins.updateNoticeRed();\n    }\n    initView() {\n        this.updatePlayerName();\n        this.updateChapterData();\n        this.updateForce();\n        this.updateLevel();\n        this.updateVip();\n        this.updateExpBar();\n        this.updatePrestige();\n        this.updateChatMessage();\n        this.updateLimitReward();\n        this.updateHeroSpine();\n        this.updateFirstRecharge();\n        this.updateBreakEgg();\n        this.updatePatrolData();\n        this.updateTrial();\n        this.jumpToChallenge();\n        this.updateGiftBtn();\n        this.refreshRed();\n        this.updateActivityRed();\n        this.showFinger();\n        this.refreshActivityGroup();\n        // log(\"数字1000====\"+GameUtil.convertNumber(1000));\n        // log(\"数字10000====\"+GameUtil.convertNumber(10000));\n        // log(\"数字100003====\"+GameUtil.convertNumber(100003));\n        // log(\"数字101003====\"+GameUtil.convertNumber(101003)+\"======\",GameUtil.convertNumber(101003,true));\n        // log(\"数字101503====\"+GameUtil.convertNumber(101503)+\"======\",GameUtil.convertNumber(101503,true));\n        // log(\"数字10150333222====\"+GameUtil.convertNumber(10150333222)+\"======\",GameUtil.convertNumber(10150333222,true));\n        // log(\"数字18150333222====\"+GameUtil.convertNumber(18150333222)+\"======\",GameUtil.convertNumber(18150333222,true));\n        this.updateHonorRank();\n    }\n\n    onClickFight() {\n        // SceneMgr.ins.enterFight()\n    }\n\n    onClickMatch() {\n\n    }\n\n    onClickTest() {\n        UIMgr.ins.show({ viewName: ViewName.AzheGmPop })\n    }\n\n    /**刷新体力 */\n    updatePower() {\n\n    }\n\n\n    /**\n     * 刷新玩家名称\n     */\n    updatePlayerName() {\n        this.nameLab.string = RoleData.ins.name;\n    }\n    /**\n     * 刷新头像信息\n     */\n    updateHeadInfo() {\n\n    }\n    /**刷新玩家等级 */\n    updateLevel() {\n        if (RoleData.ins.oldLevel && RoleData.ins.oldLevel > RoleData.ins.level) {\n            RoleData.ins.level = RoleData.ins.oldLevel;\n            RoleData.ins.oldLevel = 0;\n            this.scheduleOnce(() => {\n                UIMgr.ins.show({ viewName: ViewName.PlayerLvUpPop, data: RoleData.ins.level })\n            })\n            ChannelMgr.roleLevelUp(RoleData.ins.sdkRole())\n        } else {\n            this.checkOpenFuncPop();\n        }\n        this.lbl_level.string = String(RoleData.ins.level);\n    }\n    /**刷新经验条 */\n    updateExpBar() {\n        // 当前等级\n        const playerLv = RoleData.ins.level;\n        const PlayerLvTab = tab.getData().PlayerLvTableByPlayerLv.getValue(playerLv);\n        const curExpMax = PlayerLvTab.Exp;\n        const ExpCount = ItemData.ins.getCount(3);\n        let ExpBarMother = 0;\n        let ExpBarChild = 0\n        if (playerLv > 1) {\n            const lasExpMax = tab.getData().PlayerLvTableByPlayerLv.getValue(playerLv - 1).Exp;\n            ExpBarMother = curExpMax - lasExpMax;\n            ExpBarChild = ExpCount - lasExpMax\n        } else {\n            ExpBarMother = curExpMax;\n            ExpBarChild = ExpCount\n        }\n        this.expBar.progress = ExpBarChild / ExpBarMother\n    }\n    updateVip() {\n        this.lbl_vip_level.string = String(RoleData.ins.vipLevel);\n    }\n    updateForce() {\n        this.lbl_power_score.string = GameUtil.convertNumber(RoleData.ins.powerScore);\n    }\n    /* 玩家章节信息 */\n    updateChapterData() {\n        const curChapterId = BattleMainDataControl.ins.getChapterId();\n        const chapterData = tab.getData().MainChapterTableById.getValue(curChapterId);\n        this.lbl_chapter_icon.setTexture(chapterData.Icon);\n        this.lbl_max_alive_second.string = setTextTime_3(BattleMainDataControl.ins.getCurMaxAliveSecond());\n        this.lbl_chapter_name.string = LangMgr.getLab(chapterData.Name);\n        this.lbl_chapter_num.string = String(curChapterId);\n        this.lbl_revive_num.string = String(ItemData.ins.getCount(202))\n    }\n    updatePrestige() {\n        let taskInfo = PrestigeData.ins.getHomeShowTaskInfo();\n        if (taskInfo) {\n            this.prestigeNameLab.string = LangMgr.getLab(taskInfo.taskTable.Describe);\n            this.prestigeTotalLab.string = taskInfo.taskTable.FinishParam1 + \"\";\n            this.prestigeNowLab.string = taskInfo.progress + \"\";\n        }\n    }\n    updateChatMessage() {\n        let info = ChatData.ins.newMessageInfo;\n        if (info) {\n            this.chatNode.active = true;\n            this.chatNotNode.active = false;\n            let type = ChatData.ins.getChanneTypeById(Number(info.channelId));\n\n            if (type == proto.ChatChannelType.World) {\n                this.chatWorldNode.active = true;\n                this.chatSystemNode.active = false;\n                this.chatNameLab.string = info.sender.name;\n                this.chatContentLab.string = info.normal;\n                //this.channelLab.string=\"世界\";\n                this.channelLab.string = LangMgr.getLab(\"ui_commondesc_74\");\n            } else {\n                this.chatWorldNode.active = false;\n                this.chatSystemNode.active = true;\n                this.chatSystemRichTxt.string = info.systemContent;\n                //this.channelLab.string=\"系统\";\n                this.channelLab.string = LangMgr.getLab(\"ui_commondesc_75\");\n            }\n        } else {\n            this.chatNode.active = false;\n            this.chatNotNode.active = true;\n        }\n    }\n    updateLimitReward() {\n        this.limitBtnNode.active = OpenFunctionMgr.ins.checkFunctionIsOpen(tab.OpenFunctionName.OpenFunctionName_LimitBenifit);\n    }\n    onClickChat() {\n        let info = ChatData.ins.newMessageInfo;\n        if (info) {\n            let type = ChatData.ins.getChanneTypeById(Number(info.channelId));\n            UIMgr.ins.show({ viewName: ViewName.ChatPop, data: { \"channelType\": type } })\n        } else {\n            UIMgr.ins.show({ viewName: ViewName.ChatPop })\n        }\n    }\n    protected onDestroy(): void {\n        if (UIMgr.ins.getView(\"ForceUpPop\")) {\n            UIMgr.ins.getView(\"ForceUpPop\").getComponent(ForceUpPop).onClose();\n        }\n        EventMgr.unTarget(this);\n    }\n    /* 更新队伍上阵 */\n    updateHeroSpine(heroId?: number) {\n        if (heroId) {\n            // 判断英雄职业 替换spine\n            const _heroInfo = HeroData.ins.getById(heroId);\n            const _heroClass = HeroData.ins.getById(heroId).heroTable.Class;\n            const _spine = this.node_spines.getChildByName(\"spine\" + _heroClass).getComponent(sp.Skeleton)\n            createAnimation(_spine.node, _heroInfo.heroTable.Idle)\n        } else {\n            const teamInfo = HeroTeamControl.ins.getTeam();\n            for (let i = 1; i <= teamInfo.length; i++) {\n                const heroId = teamInfo[i - 1].heroId;\n                const heroInfo = HeroData.ins.getById(heroId);\n                const spine = this.node_spines.getChildByName(\"spine\" + i).getComponent(sp.Skeleton);\n                createAnimation(spine.node, heroInfo.heroTable.Idle)\n            }\n        }\n    }\n\n    updateFirstRecharge() {\n        RedMgr.refreshEvent(RedDotType.First_Recharge);\n        this.firstRechargeBtnNode.active = PayData.ins.isShowFirstRecharge() && OpenFunctionMgr.ins.checkFunctionIsOpen(tab.OpenFunctionName.OpenFunctionName_FirstRecharge);\n        if (this.firstRechargeBtnNode.active) {\n            let table = PayData.ins.getFirstRechargeTable();\n            if (table) {\n                this.firstRechargeBtnNode.getComponent(Sprite).setTexture(table.ButtonIcon);\n                createAnimation(this.firstRechargeBtnNode.getChildByName(\"spine\"), table.IconAnimationId)\n            }\n        }\n    }\n    /**刷新砸金鸡活动 */\n    updateBreakEgg() {\n        if (ActivityData.ins.isOpenBreakEgg() && OpenFunctionMgr.ins.checkFunctionIsOpen(tab.OpenFunctionName.OpenFunctionName_CrazyChicken)) {\n            let msg = ActivityData.ins.breakEggMsg;\n            this.breakEggNode.active = true;\n            let table = tab.getData().BreakEggTableById.getValue(msg.id)\n            if (msg.score >= table.MaxScore) {\n                this.breakEggNumNode.active = true;\n                this.breakEggNumLab.string = table.MaxScore + \"\";\n            } else {\n                this.breakEggNumNode.active = false;\n            }\n\n        } else {\n            this.breakEggNode.active = false;\n        }\n\n    }\n    /* 战令信息 */\n    on_s2c_GetBattlePassInfoMapRsp(msg: proto.Msg_GetBattlePassInfoMapRsp) {\n        if (BattlePassDataMgr.ins.getBattleMap().size > 0) {\n            this.node_battle_pass.active = true;\n        } else {\n            this.node_battle_pass.active = false;\n        }\n    }\n    onClickVipBtn() {\n        if (OpenFunctionMgr.ins.checkFunctionIsOpen(tab.OpenFunctionName.OpenFunctionName_Vip)) {\n            UIMgr.ins.show({ viewName: ViewName.WelfareActivityMainView, data: { \"type\": tab.OpenFunctionName.OpenFunctionName_Vip } })\n        }\n    }\n    updatePatrolData() {\n        RedMgr.refreshEvent(RedDotType.ChapterAward);\n        let msg = new proto.Msg_GetPatrolInfoReq();\n        Net.Send(proto.Ptl.GetPatrolInfoReq, msg);\n    }\n    on_s2c_ReceivePatrolRewardRsp(msg: proto.Msg_ReceivePatrolRewardRsp) {\n        let startPatrolData: proto.Msg_GetPatrolInfoRsp = new proto.Msg_GetPatrolInfoRsp();\n        startPatrolData.startPatrolTime = RoleData.ins.getServerUtcTime()\n        startPatrolData.lastReceiveBaseRewardsTimeMap = msg.lastReceiveBaseRewardsTimeMap;\n        startPatrolData.lastReceiveExtraRewardsTimeMap = msg.lastReceiveExtraRewardsTimeMap;\n        this.on_s2c_GetPatrolInfoRsp(startPatrolData);\n    }\n    on_s2c_GetPatrolInfoRsp(msg: proto.Msg_GetPatrolInfoRsp) {\n        let canCheck = false\n        if (!PatrolDataMgr.ins.startPatrolData) {\n            canCheck = true;\n        }\n        PatrolDataMgr.ins.initData(msg);\n        this.PatrolTime = RoleData.ins.getServerUtcTime() - Number(msg.startPatrolTime);\n        this.node_patrol_red.active = this.PatrolTime >= tab.getData().GetKeyValue_ConfigTable().PatrolTipsTime;\n        this.unschedule(this.updatePatrolTime)\n        this.schedule(this.updatePatrolTime, 600);\n        if (canCheck) {\n            this.checkAutoPop();\n        }\n    }\n    updatePatrolTime() {\n        this.PatrolTime += 600;\n        this.node_patrol_red.active = this.PatrolTime >= tab.getData().GetKeyValue_ConfigTable().PatrolTipsTime;\n    }\n    updateTrial() {\n        const allTrial = this.node_rookie_task_btn.getChildByName(\"common_img\");\n        const rookieTrial = this.node_rookie_task_btn.getChildByName(\"newhand_img\");\n        const advanceTrial = this.node_rookie_task_btn.getChildByName(\"advanced_img\");\n        allTrial.active = false;\n        rookieTrial.active = false;\n        advanceTrial.active = false;\n        const openName1 = tab.OpenFunctionName.OpenFunctionName_ActivityNewPlayerTask;\n        const openName2 = tab.OpenFunctionName.OpenFunctionName_ActivityNewPlayerTask2;\n        const data1 = RookieTaskMgr.ins.getTrialTask(openName1);\n        const data2 = RookieTaskMgr.ins.getTrialTask(openName2);\n        if (data1 && data2) {\n            allTrial.active = true;\n        } else {\n            if (data1) {\n                rookieTrial.active = true;\n            }\n            if (data2) {\n                advanceTrial.active = true;\n            }\n        }\n        this.node_rookie_task_btn.active = rookieTrial.active || advanceTrial.active || allTrial.active\n        this.updateTrialRed();\n    }\n    // 刷新试炼红点\n    updateTrialRed() {\n        RookieTaskMgr.ins.red_trialRed();\n        const red1 = RookieTaskMgr.ins.red_score_red(TRIALLAYER.ROOKIE);\n        const red2 = RookieTaskMgr.ins.red_score_red(TRIALLAYER.ELITE);\n        this.node_red_trial.active = RookieTaskMgr.ins.checkIsRed(TRIALLAYER.ROOKIE) || RookieTaskMgr.ins.checkIsRed(TRIALLAYER.ELITE) || red1 || red2;\n    }\n    jumpToChallenge() {\n        if (RoleData.ins.curClearStageId&&RoleData.ins.IsGuideFinished()) {\n            const jumpName = tab.getData().PveStageTableByStageId.getValue(RoleData.ins.curClearStageId);\n            if (jumpName.StageType === tab.PveStageType.PveStageType_FeedStage || jumpName.StageType === tab.PveStageType.PveStageType_GoldStage) {\n                UIMgr.ins.show({ viewName: ViewName.InstanceZonesView, data: [jumpName.StageType] })\n            } else if (jumpName.StageType === tab.PveStageType.PveStageType_ClimbTower) {\n                UIMgr.ins.show({ viewName: ViewName.ClimbingTowerMainView })\n            } else if (jumpName.StageType === tab.PveStageType.PveStageType_WorldBoss) {\n                UIMgr.ins.show({ viewName: ViewName.TopWarView })\n            } else if (jumpName.StageType === tab.PveStageType.PveStageType_DailyChallenge) {\n                UIMgr.ins.show({ viewName: ViewName.EveryDayChallengeView })\n            } else if (jumpName.StageType === tab.PveStageType.PveStageType_GuildBoss) {\n                UIMgr.ins.show({ viewName: ViewName.AssociationView, data: jumpName.StageType })\n            } else if (jumpName.StageType === tab.PveStageType.PveStageType_PVPBattle) {\n                UIMgr.ins.show({ viewName: ViewName.FincaFightView })\n            } \n            // else if (jumpName.StageType === tab.PveStageType.PveStageType_MainChapter) {\n            //     if(BattleMainDataControl.ins.getStageClearIds().length>=4){\n            //         UIMgr.ins.show({ viewName: ViewName.BattleMainView, data: 1 })\n            //     }\n            // } \n            else if (jumpName.StageType === tab.PveStageType.PveStageType_EliteChapter) {\n                UIMgr.ins.show({ viewName: ViewName.BattleMainView, data: 2 })\n            }\n        }\n        // 是否显示漫画\n        RoleData.ins.curClearStageId = 0;\n    }\n    updateHonorRank() {\n        let isOpen = OpenFunctionMgr.ins.checkFunctionIsOpen(tab.OpenFunctionName.OpenFunctionName_ActivityRank);\n        this.honorRankNode.active = isOpen && FengyunRankData.ins.isOpenActivity(101);\n    }\n    checkOpenFuncPop() {\n        let list = OpenFunctionMgr.ins.waitPopOpenName;\n        if (list.length === 0) {\n\n            // EventMgr.emitLocal(LocalEvent.hidePop);\n\n            this.scheduleOnce(() => {\n                EventMgr.emitLocal(LocalEvent.hidePop);\n            })\n        }\n        if (list.length > 0) {\n            let name = list.shift();\n            this.scheduleOnce(() => {\n                UIMgr.ins.show({ viewName: ViewName.FunctionUnlockPop, data: { \"functionName\": name } })\n            })\n        }\n    }\n    updateGiftBtn() {\n        RedMgr.refreshEvent(RedDotType.Seven_Gift_Pack);\n        const nowDay = Math.floor((RoleData.ins.getServerUtcTime() - Number(RoleData.ins.createTime)) / 86400) + 1;\n        const heroNode = this.node_day_gift_btn.getChildByName(\"hero_img\");\n        const weaponNode = this.node_day_gift_btn.getChildByName(\"weapon_img\");\n        weaponNode.active = nowDay > 7;\n        heroNode.active = !weaponNode.active;\n        const Map = ActivityData.ins.get7GiftPackBuyState();\n        const isOpen = OpenFunctionMgr.ins.checkFunctionIsOpen(tab.OpenFunctionName.OpenFunctionName_Hero7GiftPack);\n        this.node_day_gift_btn.active = (Map.get(DEVELOPTYPE.HERO) || Map.get(DEVELOPTYPE.BOOK)) && isOpen;\n\n        this.node_signing_gift.active = !SignInGiftData.ins.checkActivityEnd();\n    }\n    // 显示小手\n    showFinger() {\n        if (RoleData.ins.clientData.failTimes === \"true\") {\n            this.node_finger.active = true;\n        } else {\n            this.node_finger.active = false;\n        }\n    }\n    checkMainView() {\n        console.log(\"cocos 当前的uiNode = \", UIMgr.ins.uiNode.children.length);\n        if (UIMgr.ins.uiNode.children.length === 1) {\n            if (!RoleData.ins.IsGuideFinished()) {\n                EventMgr.emitLocal(LocalEvent.checkMainView);\n            }\n            // 如果首冲功能开启 且没有弹出过 弹出首冲按钮\n            const isOpen = OpenFunctionMgr.ins.checkFunctionIsOpen(tab.OpenFunctionName.OpenFunctionName_FirstRecharge);\n            const openFirstRecharge = Boolean(Number(RoleData.ins.clientData.openFirstRecharge));\n            if (isOpen && !openFirstRecharge && RoleData.ins.IsGuideFinished()) {\n                UIMgr.ins.jumpLayer(tab.Module.Module_FirstRechargePop);\n            }\n        }\n    }\n    // 刷新红点数据\n    refreshRed() {\n        RedMgr.refreshEvent(RedDotType.Feng_Yun_Rank);\n        RedMgr.refreshEvent(RedDotType.Guild_Skill);\n        // 获取已经申请的公会信息\n        AssociationControl.ins.reqGetJoinGuildRequests(0);\n        RedMgr.refreshEvent(RedDotType.Guild_Sign);\n        RedMgr.refreshEvent(RedDotType.Guild_Activity);\n    }\n\n    on_s2c_BuyFixedShopCommodityRsp(msg: proto.Msg_BuyFixedShopCommodityRsp) {\n        if (msg.error && msg.error.code != proto.CommonErrorCode.Succeed) return;\n        UIMgr.ins.show({ viewName: ViewName.CongratulationPop, data: msg.rewards })\n        const mallName = tab.getData().MallItemTabeById.getValue(msg.commodityId).MallId\n        MallDataMgr.ins.getFixedShopData(mallName).set(msg.commodityId, msg.boughtCount);\n        if (mallName == MALLNAME.NewPlayerMall || mallName == MALLNAME.NewPlayerMall2) {\n            this.updateActivityRed();\n        }\n    }\n    /* 刷新一下精彩活动礼包 */\n    updateActivityRed() {\n        const dailyRed = RedMgr.ins.isRed(RedDotType.GachaAds, \"11\");\n        const weekRed = RedMgr.ins.isRed(RedDotType.GachaAds, \"12\");\n        const MonthRed = RedMgr.ins.isRed(RedDotType.GachaAds, \"13\");\n        // 精英新手的免费礼包\n        const newBoughtCount = MallDataMgr.ins.getFixedShopData(MALLNAME.NewPlayerMall).get(7001);\n        const newBoughtCount2 = MallDataMgr.ins.getFixedShopData(MALLNAME.NewPlayerMall2).get(7101);\n        const mallItemTab = tab.getData().MallItemTabeById.getValue(7001);\n        const mallItemTab2 = tab.getData().MallItemTabeById.getValue(7101);\n        const red_NewPlayerMall = newBoughtCount < mallItemTab.LimitCount && MallDataMgr.ins.getFixedShopExpireTime(MALLNAME.NewPlayerMall) > 0;\n        const red_NewPlayerMall2 = newBoughtCount2 < mallItemTab2.LimitCount && MallDataMgr.ins.getFixedShopExpireTime(MALLNAME.NewPlayerMall2) > 0;\n        this.node_activity_red.active = dailyRed || weekRed || MonthRed || red_NewPlayerMall || red_NewPlayerMall2;\n    }\n    checkAutoPop() {\n        if (!GuideController.ins.isGuiding()) {\n            EventMgr.emitLocal(LocalEvent.LocalMsg_QueueUI_check);\n        }\n    }\n    // 刷新活动组按钮\n    refreshActivityGroup() {\n        const groups = ActivityData.ins.getAllActivityGroup();\n        if (groups.length <= 0) {\n            this.node_activity_group.active = false;\n            return;\n        }\n        const content = this.node_activity_group.parent;\n        for (let i = content.children.length - 1; i >= 0; i--) {\n            let ch = content.children[i];\n            if (ch.name === \"ActivityGroup\") {\n                ch.removeFromParent();\n                ch.destroy();\n                ch = null;\n            }\n        }\n        for (let i = 0; i < groups.length; i++) {\n            const info = groups[i];\n            const tabData = info.activityTable;\n            let btnNode: Node = null;\n            if (i === 0) {\n                // 设置groupBtn\n                btnNode = this.node_activity_group\n            } else {\n                btnNode = instantiate(this.node_activity_group);\n                btnNode.name = \"ActivityGroup\";\n                content.addChild(btnNode);\n            }\n\n            // 增加红点\n            const redDot = btnNode.getChildByName(\"redDot\")\n            let com = redDot.addComponent(RedComp);\n            com.redNode = redDot;\n            let evet1 = new RedEventComp();\n            evet1.event = RedDotType.Combine_Pass;\n            evet1.child = String(info.TabId);\n            com.types.push(evet1);\n\n            let evet2 = new RedEventComp();\n            evet2.event = RedDotType.Combine_Grow;\n            evet2.child = String(info.TabId);\n            com.types.push(evet2);\n\n            let evet3 = new RedEventComp();\n            evet3.event = RedDotType.Combine_Shop;\n            evet3.child = String(info.TabId);\n            com.types.push(evet3);\n\n            let evet4 = new RedEventComp();\n            evet4.event = RedDotType.Combine_Recharge;\n            evet4.child = String(info.TabId);\n            com.types.push(evet4);\n\n            com.addRed();\n\n            btnNode.active = info.isOpen();\n            if (info.isOpen()) {\n                const sp = btnNode.getComponent(Sprite);\n                sp.setTexture(tabData.ButtonIconUrl);\n                const btn: Button = btnNode.getComponent(Button);\n                btn.node.on(Button.EventType.CLICK, (() => {\n                    UIMgr.ins.show({ viewName: ViewName.CombineActivityMainView, data: info.TabId })\n                }), this);\n                // 显示倒计时\n                let countDown = Number(info.endTime) - RoleData.ins.getServerUtcTime();\n                const timeUpdate = (() => {\n                    countDown--;\n                    if (countDown <= 0) {\n                        btnNode.active = false;\n                        this.unschedule(timeUpdate);\n                    } else {\n                        btnNode.getChildByName(\"time_txt\").getComponent(Label).string = setTextTime(countDown);\n                    }\n                })\n                timeUpdate();\n                this.unschedule(timeUpdate);\n                this.schedule(timeUpdate, 1);\n            }\n        }\n        const gachaUpData = ActivityData.ins.getAllUpData()\n        if (gachaUpData.length > 0) {\n            const upActInfo: ActivityOpenInfo = ActivityData.ins.getAllUpData()[0];\n            const gachaUpTab = tab.getData().GachaUpTableById.getValue(upActInfo.activityTable.Param1);\n            this.sp_activity_combine.setTexture(gachaUpTab.IconUrl);\n        }\n\n        RedMgr.refreshEvent(RedDotType.Combine_Pass);\n        RedMgr.refreshEvent(RedDotType.Combine_Grow);\n        RedMgr.refreshEvent(RedDotType.Combine_Shop);\n    }\n    onClickGachaBtn() {\n        if (ActivityData.ins.GachaUpIsOpen() && RoleData.ins.IsGuideFinished()) {\n            UIMgr.ins.show({ viewName: ViewName.RecruitLimitView })\n        } else {\n            UIMgr.ins.jumpLayer(tab.Module.Module_RecruitView);\n        }\n    }\n}\n\n"]}