{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/jade/JadeSelectPop.ts"],"names":["_decorator","instantiate","Node","Prefab","ViewPop","JadeSelectItem","EquipData","GuideController","EventMgr","LocalEvent","ccclass","property","JadeSelectPop","currHeroClass","register","start","openData","initView","ins","isGuiding","emitLocal","ShowPop","list","getJadeEquipInfos","currInfo","index","key","heroClass","item","itemPrefab","parent","contentNode","name","getComponent","initData","currItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;;AAC1CC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,S,iBAAAA,S;;AAEAC,MAAAA,e,iBAAAA,e;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBX,U;;+BAGjBY,a,WADZF,OAAO,CAAC,eAAD,C,UAEHC,QAAQ,CAACT,IAAD,C,UAERS,QAAQ;AAAA;AAAA,2C,UAERA,QAAQ,CAACR,MAAD,C,2BANb,MACaS,aADb;AAAA;AAAA,8BAC2C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAO/BC,aAP+B;AAAA;;AAQvCC,QAAAA,QAAQ,GAAS,CAGhB;;AACDC,QAAAA,KAAK,GAAS;AACV,eAAKF,aAAL,GAAmB,KAAKG,QAAL,CAAc,WAAd,CAAnB;AACA,eAAKC,QAAL;;AACA,cAAI;AAAA;AAAA,kDAAgBC,GAAhB,CAAoBC,SAApB,EAAJ,EAAqC;AACjC;AAAA;AAAA,sCAASC,SAAT,CAAmB;AAAA;AAAA,0CAAWC,OAA9B;AACH;AACJ;;AACDJ,QAAAA,QAAQ,GAAE;AACN,cAAIK,IAAI,GAAC;AAAA;AAAA,sCAAUJ,GAAV,CAAcK,iBAAd,EAAT;AACA,cAAIC,QAAkB,GAAC,IAAvB;AACA,cAAIC,KAAK,GAAG,CAAZ;;AACA,eAAI,IAAIC,GAAR,IAAeJ,IAAf,EAAoB;AAChB,gBAAGA,IAAI,CAACI,GAAD,CAAJ,CAAUC,SAAV,IAAqB,KAAKd,aAA7B,EAA2C;AACvCW,cAAAA,QAAQ,GAACF,IAAI,CAACI,GAAD,CAAb;AACH,aAFD,MAEK;AACD,kBAAIE,IAAS,GAAC3B,WAAW,CAAC,KAAK4B,UAAN,CAAzB;AACAD,cAAAA,IAAI,CAACE,MAAL,GAAY,KAAKC,WAAjB;AACAH,cAAAA,IAAI,CAACI,IAAL,GAAY,SAAOP,KAAnB;AACAG,cAAAA,IAAI,CAACK,YAAL;AAAA;AAAA,oDAAkCC,QAAlC,CAA2CZ,IAAI,CAACI,GAAD,CAA/C,EAAqD,KAAKb,aAA1D;AACAY,cAAAA,KAAK;AACR;AACJ;;AACD,eAAKU,QAAL,CAAcD,QAAd,CAAuBV,QAAvB,EAAgC,KAAKX,aAArC;AACH;;AAnCsC,O;;;;;iBAEZ,I;;;;;;;iBAEH,I;;;;;;;iBAEN,I","sourcesContent":["import { _decorator, Component, instantiate, Node, Prefab } from 'cc';\r\nimport { ViewPop } from '../../../framework/base/ViewPop';\r\nimport { JadeSelectItem } from './JadeSelectItem';\r\nimport { EquipData } from '../equip/EquipData';\r\nimport { EquipInfo } from '../equip/EquipInfo';\r\nimport { GuideController } from '../../guide/GuideController';\r\nimport { EventMgr } from '../../mgr/EventMgr';\r\nimport { LocalEvent } from '../../define/LocalEvent';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('JadeSelectPop')\r\nexport class JadeSelectPop extends ViewPop {\r\n    @property(Node)\r\n    public contentNode: Node = null;\r\n    @property(JadeSelectItem)\r\n    currItem:JadeSelectItem=null;\r\n    @property(Prefab)\r\n    itemPrefab:Prefab=null;\r\n    private currHeroClass:number;\r\n    register(): void {\r\n\r\n\r\n    }\r\n    start(): void {\r\n        this.currHeroClass=this.openData[\"heroClass\"]\r\n        this.initView();\r\n        if (GuideController.ins.isGuiding()) {\r\n            EventMgr.emitLocal(LocalEvent.ShowPop);\r\n        }\r\n    }\r\n    initView(){\r\n        let list=EquipData.ins.getJadeEquipInfos();\r\n        let currInfo:EquipInfo=null;\r\n        let index = 0;\r\n        for(let key in list){\r\n            if(list[key].heroClass==this.currHeroClass){\r\n                currInfo=list[key];\r\n            }else{\r\n                let item:Node=instantiate(this.itemPrefab);\r\n                item.parent=this.contentNode;\r\n                item.name = \"item\"+index;\r\n                item.getComponent(JadeSelectItem).initData(list[key],this.currHeroClass);\r\n                index++;\r\n            }\r\n        }\r\n        this.currItem.initData(currInfo,this.currHeroClass);\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n"]}