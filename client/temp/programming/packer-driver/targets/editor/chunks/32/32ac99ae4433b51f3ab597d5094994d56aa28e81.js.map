{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/guide/LoadGuide.ts"],"names":["_decorator","Camera","Component","director","instantiate","Prefab","sys","GuideController","ccclass","property","LoadGuide","onLoad","ins","node","GuidePrefab","comp","getComponent","isNative","addPersistRootNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAgBC,MAAAA,W,OAAAA,W;AAAmBC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,G,OAAAA,G;;AAC1EC,MAAAA,e,iBAAAA,e;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;2BAGjBU,S,WADZF,OAAO,CAAC,WAAD,C,UAEHC,QAAQ,CAACJ,MAAD,C,UAERI,QAAQ,CAACR,MAAD,C,2BAJb,MACaS,SADb,SAC+BR,SAD/B,CACyC;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAKrCS,QAAAA,MAAM,GAAS;AACX,cAAG,CAAC;AAAA;AAAA,kDAAgBC,GAApB,EAAwB;AACpB,kBAAMC,IAAI,GAAGT,WAAW,CAAC,KAAKU,WAAN,CAAxB;AACA,kBAAMC,IAAI,GAAGF,IAAI,CAACG,YAAL;AAAA;AAAA,mDAAb;;AACA,gBAAG,CAACD,IAAJ,EAAS;AACL,kBAAI,CAACT,GAAG,CAACW,QAAT,EAAmB;AACf,sBAAM,2CAAN;AACH;AACJ;;AACDd,YAAAA,QAAQ,CAACe,kBAAT,CAA4BL,IAA5B;AACA;AAAA;AAAA,oDAAgBD,GAAhB,GAAsBG,IAAtB;AACH;AACJ;;AAjBoC,O;;;;;iBAEhB,I;;;;;;;iBAEH,I","sourcesContent":["import { _decorator, Camera, Component, director, game, instantiate, Node, Prefab, sys, Vec3 } from 'cc';\r\nimport { GuideController } from './GuideController';\r\nimport { Func } from '../utils/Func';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('LoadGuide')\r\nexport class LoadGuide extends Component {\r\n    @property(Prefab)\r\n    GuidePrefab:Prefab = null;\r\n    @property(Camera)\r\n    camera2d:Camera = null\r\n    onLoad(): void {\r\n        if(!GuideController.ins){\r\n            const node = instantiate(this.GuidePrefab);\r\n            const comp = node.getComponent(GuideController);\r\n            if(!comp){\r\n                if (!sys.isNative) {\r\n                    throw 'cannot create GuideController from prefab';\r\n                }\r\n            }\r\n            director.addPersistRootNode(node);\r\n            GuideController.ins = comp;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}