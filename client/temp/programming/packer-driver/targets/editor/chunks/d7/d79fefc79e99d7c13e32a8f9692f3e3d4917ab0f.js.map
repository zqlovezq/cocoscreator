{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/activity/vip/VipLvBtnItem.ts"],"names":["_decorator","Component","Label","Node","LangMgr","tab","RedComp","RedEventComp","RedDotType","ccclass","property","VipLvBtnItem","callBack","vipTable","initView","vipLab","string","getCombineString","VipLv","bgNode","active","checkNode","redPoint","getComponent","com","addComponent","redNode","type1","event","Vip_Buy","child","types","addRed","onEnable","DropTable","setSelectState","b","onClickItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AAC9BC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,G,iBAAAA,G;;AACFC,MAAAA,O;;AACAC,MAAAA,Y;;AACEC,MAAAA,U,iBAAAA,U;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;8BAGaW,Y,WADZF,OAAO,CAAC,cAAD,C,UAEHC,QAAQ,CAACP,IAAD,C,UAERO,QAAQ,CAACP,IAAD,C,UAERO,QAAQ,CAACR,KAAD,C,UAERQ,QAAQ,CAACP,IAAD,C,2BARb,MACaQ,YADb,SACkCV,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAWhCW,QAXgC;AAAA,eAYjCC,QAZiC;AAAA;;AAexCC,QAAAA,QAAQ,CAACD,QAAD,EAAuBD,QAAvB,EAAyC;AAC7C,eAAKC,QAAL,GAAcA,QAAd;AACA,eAAKE,MAAL,CAAYC,MAAZ,GAAmB;AAAA;AAAA,kCAAQC,gBAAR,CAAyB,UAAzB,EAAoC,CAAC,KAAKJ,QAAL,CAAcK,KAAf,CAApC,CAAnB;AACA,eAAKN,QAAL,GAAcA,QAAd;AACA,eAAKO,MAAL,CAAYC,MAAZ,GAAmB,IAAnB;AACA,eAAKC,SAAL,CAAeD,MAAf,GAAsB,KAAtB;;AACA,cAAG,CAAC,KAAKE,QAAL,CAAcC,YAAd;AAAA;AAAA,iCAAJ,EAAwC;AACpC,gBAAIC,GAAG,GAAC,KAAKF,QAAL,CAAcG,YAAd;AAAA;AAAA,mCAAR;AACAD,YAAAA,GAAG,CAACE,OAAJ,GAAc,KAAKJ,QAAnB;AACA,gBAAIK,KAAmB,GAAG;AAAA;AAAA,+CAA1B;AACAA,YAAAA,KAAK,CAACC,KAAN,GAAc;AAAA;AAAA,0CAAWC,OAAzB;AACAF,YAAAA,KAAK,CAACG,KAAN,GAAYjB,QAAQ,CAACK,KAAT,GAAe,EAA3B;AACAM,YAAAA,GAAG,CAACO,KAAJ,GAAY,CAACJ,KAAD,CAAZ;AACAH,YAAAA,GAAG,CAACQ,MAAJ,GAPoC,CAQpC;AACH;AACJ;;AACSC,QAAAA,QAAQ,GAAS;AACvB,cAAG,KAAKpB,QAAR,EAAiB;AACb;AAAA;AAAA,4BAAIqB,SAAJ;AACA,iBAAKnB,MAAL,CAAYC,MAAZ,GAAmB;AAAA;AAAA,oCAAQC,gBAAR,CAAyB,UAAzB,EAAoC,CAAC,KAAKJ,QAAL,CAAcK,KAAf,CAApC,CAAnB;AACH;AAEJ;;AACDiB,QAAAA,cAAc,CAACC,CAAD,EAAW;AACrB,eAAKjB,MAAL,CAAYC,MAAZ,GAAmB,CAACgB,CAApB;AACA,eAAKf,SAAL,CAAeD,MAAf,GAAsBgB,CAAtB;AACH;;AACDC,QAAAA,WAAW,GAAE;AACT,cAAG,KAAKzB,QAAR,EAAiB;AACb,iBAAKA,QAAL,CAAc,IAAd;AACH;AACJ;;AA/CuC,O;;;;;iBAE5B,I;;;;;;;iBAEG,I;;;;;;;iBAEF,I;;;;;;;iBAEC,I","sourcesContent":["import { _decorator, Component, Label, Node, TERRAIN_HEIGHT_BASE } from 'cc';\r\nimport { LangMgr } from '../../../mgr/LangMgr';\r\nimport { tab } from '../../../../Table/table_gen';\r\nimport RedComp from '../../../../Common/component/RedComp';\r\nimport RedEventComp from '../../../../Common/component/RedEventComp';\r\nimport { RedDotType } from '../../../red/RedDotType';\r\nimport { RedMgr } from '../../../mgr/RedMgr';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * \r\n * VipLvBtnItem\r\n * zhudingchao\r\n * Tue Jul 02 2024 15:56:49 GMT+0800 (中国标准时间)\r\n * db://assets/scripts/logic/model/activity/vip/VipLvBtnItem.ts\r\n *\r\n */\r\n\r\n@ccclass('VipLvBtnItem')\r\nexport class VipLvBtnItem extends Component {\r\n    @property(Node)\r\n    bgNode:Node=null;\r\n    @property(Node)\r\n    checkNode:Node=null;\r\n    @property(Label)\r\n    vipLab:Label=null;\r\n    @property(Node)\r\n    redPoint:Node=null;\r\n    \r\n\r\n    private callBack:Function;\r\n    public vipTable:tab.VipTable;\r\n    \r\n\r\n    initView(vipTable:tab.VipTable,callBack:Function){\r\n        this.vipTable=vipTable;\r\n        this.vipLab.string=LangMgr.getCombineString(\"ui_vip_1\",[this.vipTable.VipLv]);\r\n        this.callBack=callBack;\r\n        this.bgNode.active=true;\r\n        this.checkNode.active=false;\r\n        if(!this.redPoint.getComponent(RedComp)){\r\n            let com=this.redPoint.addComponent(RedComp);\r\n            com.redNode = this.redPoint;\r\n            let type1: RedEventComp = new RedEventComp();\r\n            type1.event = RedDotType.Vip_Buy;\r\n            type1.child=vipTable.VipLv+\"\";\r\n            com.types = [type1];\r\n            com.addRed();\r\n            // RedMgr.refreshEvent(RedDotType.Vip_Buy);\r\n        }\r\n    }\r\n    protected onEnable(): void {\r\n        if(this.vipTable){\r\n            tab.DropTable\r\n            this.vipLab.string=LangMgr.getCombineString(\"ui_vip_1\",[this.vipTable.VipLv]);\r\n        }\r\n       \r\n    }\r\n    setSelectState(b:boolean){\r\n        this.bgNode.active=!b;\r\n        this.checkNode.active=b;\r\n    }\r\n    onClickItem(){\r\n        if(this.callBack){\r\n            this.callBack(this);\r\n        }\r\n    }\r\n  \r\n}"]}