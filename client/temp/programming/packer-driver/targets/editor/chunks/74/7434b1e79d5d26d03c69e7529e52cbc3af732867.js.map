{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/common/CommonJumpByItemId.ts"],"names":["_decorator","CCInteger","Component","error","Node","tab","UIMgr","ViewName","HeroDataControl","RareBookData","ccclass","property","CommonJumpByItemId","onTouchItem","itemTab","getData","ItemTableById","getValue","itemId","Type","ItemType","ItemType_Hero","ins","refreshBookData","Id","show","viewName","HeroBagView","data","viewType","zIndex","ItemType_Piece","ItemInfoPop","ItemType_Book","info","getBookInfoByItemId","RareBookInfoItemPop","onLoad","addTouchEvent","node","on","EventType","TOUCH_END"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AACzCC,MAAAA,G,iBAAAA,G;;AACAC,MAAAA,K,iBAAAA,K;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,e,iBAAAA,e;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBX,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;oCAGaY,kB,WADZF,OAAO,CAAC,oBAAD,C,UAEHC,QAAQ,CAACV,SAAD,C,2BAFb,MACaW,kBADb,SACwCV,SADxC,CACkD;AAAA;AAAA;;AAAA;;AAAA,eAU9CW,WAV8C,GAUhC,MAAM;AAChB,gBAAIC,OAAO,GAAG;AAAA;AAAA,4BAAIC,OAAJ,GAAcC,aAAd,CAA4BC,QAA5B,CAAqC,KAAKC,MAA1C,CAAd;;AACA,gBAAIJ,OAAJ,EAAa;AACT,kBAAIA,OAAO,CAACK,IAAR,IAAgB;AAAA;AAAA,8BAAIC,QAAJ,CAAaC,aAAjC,EAAgD;AAC5C;AAAA;AAAA,wDAAgBC,GAAhB,CAAoBC,eAApB,CAAoCT,OAAO,CAACU,EAA5C;AACA;AAAA;AAAA,oCAAMF,GAAN,CAAUG,IAAV,CAAe;AAAEC,kBAAAA,QAAQ,EAAE;AAAA;AAAA,4CAASC,WAArB;AAAkCC,kBAAAA,IAAI,EAAE;AAAEC,oBAAAA,QAAQ,EAAE;AAAZ,mBAAxC;AAAyDC,kBAAAA,MAAM,EAAE;AAAjE,iBAAf;AACH,eAHD,MAGO,IAAIhB,OAAO,CAACK,IAAR,IAAgB;AAAA;AAAA,8BAAIC,QAAJ,CAAaW,cAAjC,EAAiD;AACpD;AAAA;AAAA,oCAAMT,GAAN,CAAUG,IAAV,CAAe;AACXC,kBAAAA,QAAQ,EAAE;AAAA;AAAA,4CAASM,WADR;AACqBJ,kBAAAA,IAAI,EAAE;AAClCV,oBAAAA,MAAM,EAAE,KAAKA;AADqB;AAD3B,iBAAf;AAKH,eANM,MAMD,IAAGJ,OAAO,CAACK,IAAR,IAAgB;AAAA;AAAA,8BAAIC,QAAJ,CAAaa,aAAhC,EAA8C;AAChD,oBAAIC,IAAI,GAAC;AAAA;AAAA,kDAAaZ,GAAb,CAAiBa,mBAAjB,CAAqC,KAAKjB,MAA1C,CAAT;AACA;AAAA;AAAA,oCAAMI,GAAN,CAAUG,IAAV,CAAe;AAAEC,kBAAAA,QAAQ,EAAE;AAAA;AAAA,4CAASU,mBAArB;AAA0CR,kBAAAA,IAAI,EAAE;AAAE,gCAAWM;AAAb;AAAhD,iBAAf;AACH;AAGJ,aAhBD,MAgBO;AACH/B,cAAAA,KAAK,CAAC,eAAD,EAAkB,KAAKe,MAAvB,CAAL;AACH;AACJ,WA/B6C;AAAA;;AAGpCmB,QAAAA,MAAM,GAAS;AACrB,eAAKC,aAAL;AACH;;AAEOA,QAAAA,aAAa,GAAG;AACpB,eAAKC,IAAL,CAAUC,EAAV,CAAapC,IAAI,CAACqC,SAAL,CAAeC,SAA5B,EAAuC,KAAK7B,WAA5C,EAAyD,IAAzD;AACH;;AAT6C,O;;;;;iBAE7B,C","sourcesContent":["import { _decorator, CCInteger, Component, error, Node } from 'cc';\r\nimport { tab } from '../../../Table/table_gen';\r\nimport { UIMgr } from '../../mgr/UIMgr';\r\nimport { ViewName } from '../../define/ViewDefine';\r\nimport { HeroDataControl } from '../hero/herobag/HeroDataControl';\r\nimport { RareBookData } from '../rareBook/RareBookData';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * \r\n * ComminJumpByItemId\r\n * zhudingchao\r\n * Mon Jul 22 2024 19:35:46 GMT+0800 (中国标准时间)\r\n * db://assets/scripts/logic/model/common/CommonJumpByItemId.ts\r\n *\r\n */\r\n\r\n@ccclass('CommonJumpByItemId')\r\nexport class CommonJumpByItemId extends Component {\r\n    @property(CCInteger)\r\n    itemId: number = 0;\r\n    protected onLoad(): void {\r\n        this.addTouchEvent();\r\n    }\r\n\r\n    private addTouchEvent() {\r\n        this.node.on(Node.EventType.TOUCH_END, this.onTouchItem, this)\r\n    }\r\n    onTouchItem = () => {\r\n        let itemTab = tab.getData().ItemTableById.getValue(this.itemId);\r\n        if (itemTab) {\r\n            if (itemTab.Type == tab.ItemType.ItemType_Hero) {\r\n                HeroDataControl.ins.refreshBookData(itemTab.Id);\r\n                UIMgr.ins.show({ viewName: ViewName.HeroBagView, data: { viewType: 2 }, zIndex: 300 })\r\n            } else if (itemTab.Type == tab.ItemType.ItemType_Piece) {\r\n                UIMgr.ins.show({\r\n                    viewName: ViewName.ItemInfoPop, data: {\r\n                        itemId: this.itemId,\r\n                    }\r\n                })\r\n            }else if(itemTab.Type == tab.ItemType.ItemType_Book){\r\n                let info=RareBookData.ins.getBookInfoByItemId(this.itemId)\r\n                UIMgr.ins.show({ viewName: ViewName.RareBookInfoItemPop, data: { \"bookInfo\":info } });\r\n            }\r\n          \r\n\r\n        } else {\r\n            error(\"itemId错误-----\", this.itemId);\r\n        }\r\n    }\r\n}"]}