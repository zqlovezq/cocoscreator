{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/common/ResourceItem.ts"],"names":["_decorator","CCInteger","Component","instantiate","Node","Prefab","ResourceItemNode","ccclass","property","ResourceItem","type","displayName","itemNodes","start","initView","key","itemIds","node","itemNodePrb","parent","layoutNode","com","getComponent","initItemId","push","setItemIds","ids","destroyAllChildren","onDestroy"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAoBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;;AAI5DC,MAAAA,gB,iBAAAA,gB;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;8BAGjBS,Y,WADZF,OAAO,CAAC,cAAD,C,UAGHC,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAE,CAACT,SAAD,CADA;AACYU,QAAAA,WAAW,EAAE;AADzB,OAAD,C,UAIRH,QAAQ,CAACH,MAAD,C,UAERG,QAAQ,CAACJ,IAAD,C,2BATb,MACaK,YADb,SACkCP,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAUhCU,SAVgC;AAAA;;AAWxCC,QAAAA,KAAK,GAAG;AACJ,eAAKC,QAAL;AAEH;;AACDA,QAAAA,QAAQ,GAAE;AACN,eAAKF,SAAL,GAAe,EAAf;;AACA,eAAI,IAAIG,GAAR,IAAe,KAAKC,OAApB,EAA4B;AACxB,gBAAIC,IAAI,GAACd,WAAW,CAAC,KAAKe,WAAN,CAApB;AACAD,YAAAA,IAAI,CAACE,MAAL,GAAY,KAAKC,UAAjB;AACA,gBAAIC,GAAG,GAACJ,IAAI,CAACK,YAAL;AAAA;AAAA,qDAAR;AACAD,YAAAA,GAAG,CAACE,UAAJ,CAAe,KAAKP,OAAL,CAAaD,GAAb,CAAf;AACA,iBAAKH,SAAL,CAAeY,IAAf,CAAoBH,GAApB;AACH;AACJ;;AACDI,QAAAA,UAAU,CAACC,GAAD,EAAc;AACpB,eAAKN,UAAL,CAAgBO,kBAAhB;;AACA,eAAI,IAAIZ,GAAR,IAAeW,GAAf,EAAmB;AACf,gBAAIT,IAAI,GAACd,WAAW,CAAC,KAAKe,WAAN,CAApB;AACAD,YAAAA,IAAI,CAACE,MAAL,GAAY,KAAKC,UAAjB;AACA,gBAAIC,GAAG,GAACJ,IAAI,CAACK,YAAL;AAAA;AAAA,qDAAR;AACAD,YAAAA,GAAG,CAACE,UAAJ,CAAeG,GAAG,CAACX,GAAD,CAAlB;AACH;AACJ;;AACSa,QAAAA,SAAS,GAAS;AACxB,eAAKhB,SAAL,GAAe,IAAf;AACH;;AApCuC,O;;;;;iBAK1B,E;;;;;;;iBAEK,I;;;;;;;iBAEH,I","sourcesContent":["import { _decorator, CCInteger, Component, instantiate, Label, Node, Prefab, SpringJoint2D, Sprite } from 'cc';\r\nimport { ItemData } from '../item/ItemData';\r\nimport { EventMgr } from '../../mgr/EventMgr';\r\nimport { LocalEvent } from '../../define/LocalEvent';\r\nimport { ResourceItemNode } from './ResourceItemNode';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ResourceItem')\r\nexport class ResourceItem extends Component {\r\n  \r\n    @property({\r\n        type: [CCInteger],displayName: '要显示的资源ItemId数组'\r\n    })\r\n    itemIds: [] = [];\r\n    @property(Prefab)\r\n    itemNodePrb:Prefab=null;\r\n    @property(Node)\r\n    layoutNode:Node=null;\r\n    private itemNodes:Array<ResourceItemNode>;\r\n    start() {\r\n        this.initView();\r\n    \r\n    }\r\n    initView(){\r\n        this.itemNodes=[];\r\n        for(let key in this.itemIds){\r\n            let node=instantiate(this.itemNodePrb);\r\n            node.parent=this.layoutNode;\r\n            let com=node.getComponent(ResourceItemNode);\r\n            com.initItemId(this.itemIds[key]);\r\n            this.itemNodes.push(com);\r\n        }\r\n    }\r\n    setItemIds(ids:number[]){\r\n        this.layoutNode.destroyAllChildren();\r\n        for(let key in ids){\r\n            let node=instantiate(this.itemNodePrb);\r\n            node.parent=this.layoutNode;\r\n            let com=node.getComponent(ResourceItemNode);\r\n            com.initItemId(ids[key]);\r\n        }\r\n    }\r\n    protected onDestroy(): void {\r\n        this.itemNodes=null;\r\n    }\r\n\r\n}\r\n\r\n\r\n"]}