{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/fight/base/obj/role/ui/RoleHeadItem.ts"],"names":["_decorator","Component","Node","RoleHeadSkillItem","CommonItem","EventMgr","FightEvent","ccclass","property","RoleHeadItem","roleInfo","onLoad","onFight","Fight_Role_Dead","onFight_Role_Dead","Fight_Role_Revive","onFight_Role_Revive","deadNode","active","onDestroy","unTarget","setRoleInfo","info","skill1","node","skill2","item","initId","configId","setSkill","normalGroup","onClickRevive","console","log","onRevice"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;;AAEvBC,MAAAA,iB,iBAAAA,iB;;AACAC,MAAAA,U,iBAAAA,U;;AAEAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;8BAGjBS,Y,WADZF,OAAO,CAAC,cAAD,C,UAIHC,QAAQ,CAACN,IAAD,C,UAGRM,QAAQ;AAAA;AAAA,mC,UAGRA,QAAQ;AAAA;AAAA,iD,UAGRA,QAAQ;AAAA;AAAA,iD,2BAbb,MACaC,YADb,SACkCR,SADlC,CAC4C;AAAA;AAAA;AAAA,eACxCS,QADwC,GACnB,IADmB;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAe9BC,QAAAA,MAAM,GAAS;AACrB;AAAA;AAAA,oCAASC,OAAT,CAAiB;AAAA;AAAA,wCAAWC,eAA5B,EAA6C,KAAKC,iBAAlD,EAAqE,IAArE;AACA;AAAA;AAAA,oCAASF,OAAT,CAAiB;AAAA;AAAA,wCAAWG,iBAA5B,EAA+C,KAAKC,mBAApD,EAAyE,IAAzE;AACA,eAAKC,QAAL,CAAcC,MAAd,GAAuB,KAAvB;AACH;;AAESC,QAAAA,SAAS,GAAS;AACxB;AAAA;AAAA,oCAASC,QAAT,CAAkB,IAAlB;AACH;;AAEDC,QAAAA,WAAW,CAACC,IAAD,EAAiB;AACxB,eAAKZ,QAAL,GAAgBY,IAAhB;AAEA,eAAKC,MAAL,CAAYC,IAAZ,CAAiBN,MAAjB,GAA0B,KAA1B;AACA,eAAKO,MAAL,CAAYD,IAAZ,CAAiBN,MAAjB,GAA0B,KAA1B;AAEA,eAAKQ,IAAL,CAAUC,MAAV,CAAiBL,IAAI,CAACM,QAAtB,EAAgC,CAAhC;AAEA,eAAKL,MAAL,CAAYM,QAAZ,CAAqBP,IAAI,CAACQ,WAA1B;AACA,eAAKN,IAAL,CAAUN,MAAV,GAAmB,IAAnB;AACH;;AAEDJ,QAAAA,iBAAiB,CAACQ,IAAD,EAAiB;AAC9B,cAAI,KAAKZ,QAAL,IAAiBY,IAArB,EAA2B;AACvB,iBAAKL,QAAL,CAAcC,MAAd,GAAuB,IAAvB;AACH;AACJ;;AAEDF,QAAAA,mBAAmB,CAACM,IAAD,EAAiB;AAChC,cAAI,KAAKZ,QAAL,IAAiBY,IAArB,EAA2B;AACvB,iBAAKL,QAAL,CAAcC,MAAd,GAAuB,KAAvB;AACH;AACJ;;AAEDa,QAAAA,aAAa,GAAG;AACZC,UAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA,eAAKhB,QAAL,CAAcC,MAAd,GAAuB,KAAvB;AACA,eAAKR,QAAL,CAAcwB,QAAd;AAEH;;AAtDuC,O;;;;;iBAIvB,I;;;;;;;iBAGE,I;;;;;;;iBAGS,I;;;;;;;iBAGA,I","sourcesContent":["import { _decorator, Component, Node, Texture2D } from \"cc\";\nimport { Role } from \"../role/Role\";\nimport { RoleHeadSkillItem } from \"./RoleHeadSkillItem\";\nimport { CommonItem } from \"../../../../../model/item/CommonItem\";\nimport { RoleInfo } from \"../role/RoleInfo\";\nimport { EventMgr } from \"../../../../../mgr/EventMgr\";\nimport { FightEvent } from \"../../../../define/FightEvent\";\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('RoleHeadItem')\nexport class RoleHeadItem extends Component {\n    roleInfo: RoleInfo = null\n\n    @property(Node)\n    deadNode: Node = null\n\n    @property(CommonItem)\n    item: CommonItem = null\n\n    @property(RoleHeadSkillItem)\n    skill1: RoleHeadSkillItem = null\n\n    @property(RoleHeadSkillItem)\n    skill2: RoleHeadSkillItem = null\n\n    protected onLoad(): void {\n        EventMgr.onFight(FightEvent.Fight_Role_Dead, this.onFight_Role_Dead, this)\n        EventMgr.onFight(FightEvent.Fight_Role_Revive, this.onFight_Role_Revive, this)\n        this.deadNode.active = false\n    }\n\n    protected onDestroy(): void {\n        EventMgr.unTarget(this)\n    }\n\n    setRoleInfo(info: RoleInfo) {\n        this.roleInfo = info\n\n        this.skill1.node.active = false\n        this.skill2.node.active = false\n\n        this.item.initId(info.configId, 1)\n\n        this.skill1.setSkill(info.normalGroup)\n        this.node.active = true\n    }\n\n    onFight_Role_Dead(info: RoleInfo) {\n        if (this.roleInfo == info) {\n            this.deadNode.active = true\n        }\n    }\n\n    onFight_Role_Revive(info: RoleInfo) {\n        if (this.roleInfo == info) {\n            this.deadNode.active = false\n        }\n    }\n\n    onClickRevive() {\n        console.log(\"复活\")\n        this.deadNode.active = false\n        this.roleInfo.onRevice()\n\n    }\n\n}"]}