{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/activity/rookieTask/TrialToggleBtn.ts"],"names":["_decorator","Component","Node","RichText","ShowTips","LangMgr","TRIALLAYER","ccclass","property","TrialToggleBtn","mainView","layer_view","NONE","select","isLock","node_toggle","onLoad","node","on","EventType","TOUCH_END","clickBtn","initToggle","isSelect","index","getLayerType","rookieNode","getChildByName","eliteNode","active","ROOKIE","setSelect","node_lock","text1","getComponent","text2","string","getCombineString","getLab","clickSwitchDay","Number","name"],"mappings":"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","sourcesContent":["import { _decorator, Component, Label, Node, RichText } from 'cc';\r\nimport { RookieTaskPop } from './RookieTaskPop';\r\nimport { ShowTips } from '../../../mgr/UIMgr';\r\nimport { LangMgr } from '../../../mgr/LangMgr';\r\nimport { TRIALLAYER } from '../../../../Common/script/EnumTypeMgr';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('TrialToggleBtn')\r\nexport class TrialToggleBtn extends Component {\r\n    @property(Node)\r\n    node_lock: Node = null;\r\n    @property(Node)\r\n    node_red: Node = null;\r\n    private mainView: RookieTaskPop = null;\r\n    private layer_view: TRIALLAYER = TRIALLAYER.NONE\r\n    private select: boolean = false;\r\n    private isLock: boolean = false;\r\n    private node_toggle: Node = null;\r\n    protected onLoad(): void {\r\n        this.node.on(Node.EventType.TOUCH_END, this.clickBtn, this);\r\n    }\r\n    initToggle(mainView: RookieTaskPop, isSelect: boolean, isLock: boolean, index: number) {\r\n        this.mainView = mainView;\r\n        this.layer_view = this.mainView.getLayerType();\r\n        const rookieNode = this.node.getChildByName(\"rookie_node\");\r\n        const eliteNode = this.node.getChildByName(\"elite_node\");\r\n        rookieNode.active = false;\r\n        eliteNode.active = false;\r\n        this.node_toggle = this.layer_view === TRIALLAYER.ROOKIE ? rookieNode : eliteNode;\r\n        this.setSelect(isSelect)\r\n        this.isLock = isLock;\r\n        this.node_lock.active = isLock;\r\n        if (this.layer_view === TRIALLAYER.ROOKIE) {\r\n            rookieNode.active = true;\r\n            const text1 = rookieNode.getChildByName(\"richtext\").getComponent(RichText);\r\n            const text2 = rookieNode.getChildByName(\"Checkmark\").getChildByName(\"select_richtext\").getComponent(RichText);\r\n            text1.string = LangMgr.getCombineString('ui_trial_1', [index])\r\n            text2.string = LangMgr.getCombineString('ui_trial_3', [index])\r\n        } else {\r\n            eliteNode.active = true;\r\n            const text1 = eliteNode.getChildByName(\"richtext\").getComponent(RichText);\r\n            const text2 = eliteNode.getChildByName(\"Checkmark\").getChildByName(\"select_richtext\").getComponent(RichText);\r\n            text1.string = LangMgr.getCombineString('ui_trial_2', [index])\r\n            text2.string = LangMgr.getCombineString('ui_trial_3', [index])\r\n        }\r\n    }\r\n    setSelect(isSelect: boolean) {\r\n        this.select = isSelect;\r\n        this.node_toggle.getChildByName(\"Checkmark\").active = isSelect;\r\n    }\r\n    clickBtn() {\r\n        if (this.select) {\r\n            return;\r\n        } else {\r\n            if (this.isLock) {\r\n                ShowTips(LangMgr.getLab(\"ui_commondesc_85\"));\r\n                return;\r\n            } else {\r\n                // 切换天数\r\n                this.mainView.clickSwitchDay(this, Number(this.node.name));\r\n                this.setSelect(true);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}