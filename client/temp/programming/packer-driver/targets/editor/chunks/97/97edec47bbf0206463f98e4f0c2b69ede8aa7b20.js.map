{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/fight/base/obj/role/role/state/RoleState1Idle.ts"],"names":["RoleState1Idle","tab","FightData","AbsRoleState","AbsStateType","PlayerControl","constructor","roleIdle","enter","abs","info","isVertigo","changeState","RoleVertigo","boo","ins","pause","avatar","updatePause","checkEnterAttack","isRole","showShotPos","updateFrame","delteTime","isAudo","isLeader","getClicking","roleAttack","checkSkillGroupUse","AttackType","AttackType_Attack"],"mappings":";;;yFAMaA,c;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AANJC,MAAAA,G,iBAAAA,G;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,Y,iBAAAA,Y;AAAwBC,MAAAA,Y,iBAAAA,Y;;AACxBC,MAAAA,a,iBAAAA,a;;;;;;;gCAGIL,c,GAAN,MAAMA,cAAN;AAAA;AAAA,wCAA0C;AAC7CM,QAAAA,WAAW,GAAG;AACV,gBAAM;AAAA;AAAA,4CAAaC,QAAnB;AACH;;AAEDC,QAAAA,KAAK,GAAY;AACb,cAAI,KAAKC,GAAL,CAASC,IAAT,CAAcC,SAAd,EAAJ,EAA8B;AAC1B,iBAAKF,GAAL,CAASG,WAAT,CAAqB;AAAA;AAAA,8CAAaC,WAAlC;AACA,mBAAO,KAAP;AACH;;AAED,cAAIC,GAAG,GAAG,MAAMN,KAAN,EAAV;;AACA,cAAI;AAAA;AAAA,sCAAUO,GAAV,CAAcC,KAAlB,EAAyB;AACrB,iBAAKP,GAAL,CAASQ,MAAT,CAAgBC,WAAhB,CAA4B,IAA5B;AACA,mBAAO,IAAP;AACH;;AACD,cAAIJ,GAAJ,EAAS;AACL,iBAAKK,gBAAL;AACH;;AACD,cAAI,KAAKV,GAAL,CAASW,MAAT,EAAJ,EAAsB;AACjB,iBAAKX,GAAN,CAAmBY,WAAnB;AACH;;AACD,iBAAOP,GAAP;AACH;;AACDQ,QAAAA,WAAW,CAACC,SAAD,EAA0B;AACjC,gBAAMD,WAAN,CAAkBC,SAAlB;AACA,eAAKJ,gBAAL;AACH;;AAEDA,QAAAA,gBAAgB,GAAG;AACf,cAAIK,MAAM,GAAG,KAAKf,GAAL,CAASC,IAAT,CAAcc,MAA3B;;AACA,cAAK,KAAKf,GAAL,CAASC,IAAT,CAAce,QAAd,IAA0B;AAAA;AAAA,8CAAcV,GAAd,CAAkBW,WAAlB,EAA/B,EAAgE;AAC5DF,YAAAA,MAAM,GAAG,IAAT;AACA,iBAAKf,GAAL,CAASG,WAAT,CAAqB;AAAA;AAAA,8CAAae,UAAlC;AACA;AACH;;AAED,cAAIH,MAAM,IAAI,KAAKf,GAAL,CAASC,IAAT,CAAckB,kBAAd,CAAiC;AAAA;AAAA,0BAAIC,UAAJ,CAAeC,iBAAhD,CAAd,EAAkF;AAC9E,iBAAKrB,GAAL,CAASG,WAAT,CAAqB;AAAA;AAAA,8CAAae,UAAlC;AACH;AACJ;;AAxC4C,O","sourcesContent":["import { tab } from \"../../../../../../../Table/table_gen\"\nimport { FightData } from \"../../../../../data/FightData\"\nimport { AbsRoleState, AbsState, AbsStateType } from \"../../../state/AbsState\"\nimport { PlayerControl } from \"../PlayerControl\"\nimport { Role } from \"../Role\"\n\nexport class RoleState1Idle extends AbsRoleState {\n    constructor() {\n        super(AbsStateType.roleIdle)\n    }\n\n    enter(): boolean {\n        if (this.abs.info.isVertigo()){\n            this.abs.changeState(AbsStateType.RoleVertigo)\n            return false\n        }\n\n        let boo = super.enter()\n        if (FightData.ins.pause) {\n            this.abs.avatar.updatePause(true)\n            return true\n        }\n        if (boo) {\n            this.checkEnterAttack()\n        }\n        if (this.abs.isRole()){\n            (this.abs as Role).showShotPos()\n        }\n        return boo\n    }\n    updateFrame(delteTime: number): void {\n        super.updateFrame(delteTime)\n        this.checkEnterAttack()\n    }\n\n    checkEnterAttack() {\n        let isAudo = this.abs.info.isAudo\n        if ( this.abs.info.isLeader && PlayerControl.ins.getClicking()) {\n            isAudo = true\n            this.abs.changeState(AbsStateType.roleAttack)\n            return\n        }\n\n        if (isAudo && this.abs.info.checkSkillGroupUse(tab.AttackType.AttackType_Attack)) {\n            this.abs.changeState(AbsStateType.roleAttack)\n        }\n    }\n}"]}