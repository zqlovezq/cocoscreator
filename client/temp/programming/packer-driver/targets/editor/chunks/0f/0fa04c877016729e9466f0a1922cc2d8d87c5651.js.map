{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/scene/LoginScene.ts"],"names":["_decorator","Label","SpriteAtlas","SpriteFrame","SceneBase","tab","proto","ResMgr","Global","ItemPoolMgr","Sound","ccclass","property","LoginScene","onLoad","showDefaultPfb","verLab","string","getVersionStr","conf","getData","ChannelTableByChannelType","getValue","console","log","start","initLoadRes","ins","loadItemPrefab","loadBgm","addRef","testPb","Ptl","aa","Msg_LoginReq","uid","group","token","unit8","PbEncode","pb","decode","LoginReq","message","writer","constructor","encode","finish","ptl"],"mappings":"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","sourcesContent":["import { _decorator, Component, director, DynamicAtlasManager, Label, macro, Node, Prefab, ResolutionPolicy, sp, SpriteAtlas, SpriteFrame, Texture2D, view } from 'cc';\nimport { SceneBase } from './SceneBase';\nimport { GameInit } from '../GameInit';\nimport { LoadTable } from '../Table/table';\nimport { tab } from '../Table/table_gen';\nimport { proto } from 'client_protocol';\nimport { Writer } from 'protobufjs';\nimport { SceneMgr } from '../logic/mgr/SceneMgr';\nimport { ClientView } from '../logic/mgr/ClientView';\nimport { ResMgr } from '../logic/mgr/ResMgr';\nimport { Global } from '../Global';\nimport { AdMgr } from '../logic/model/AdMgr';\nimport { ItemPoolMgr } from '../logic/model/item/ItemPoolMgr';\nimport Sound from '../logic/utils/Sound';\nconst { ccclass, property } = _decorator;\n\n@ccclass('LoginScene')\nexport class LoginScene extends SceneBase {\n    @property(Label)\n    verLab: Label = null\n\n    protected onLoad(): void {\n        super.onLoad()\n\n        this.showDefaultPfb()\n\n        this.verLab.string = Global.getVersionStr()\n        let conf = tab.getData().ChannelTableByChannelType.getValue(0)\n        console.log(conf)\n\n\n    }\n    protected start(): void {\n       \n        this.initLoadRes()\n    }\n\n    initLoadRes() {\n        ItemPoolMgr.ins.loadItemPrefab();\n        Sound.ins.loadBgm();\n        ResMgr.addRef(\"textrue/bg_1\", SpriteFrame)\n        ResMgr.addRef(\"Animation/common/star_1\", SpriteFrame)\n        ResMgr.addRef(\"Animation/common/star_2\", SpriteFrame)\n        ResMgr.addRef(\"Animation/common/star_3\", SpriteAtlas)\n        ResMgr.addRef(\"Animation/common/star_4\", SpriteAtlas)\n        ResMgr.addRef(\"Animation/common/star_5\", SpriteAtlas)\n    }\n\n    testPb() {\n        console.log(\"测试打印protobuff\")\n        console.log(proto.Ptl)\n        let aa = new proto.Msg_LoginReq()\n        aa.uid = \"uid\"\n        aa.group = \"group\"\n        aa.token = \"token\"\n        // aa.PlatID = 1\n        // aa.openId = \"2\"\n        // aa.uid = \"3\"\n        console.log(aa)\n        let unit8 = this.PbEncode(aa)\n        console.log(unit8)\n        let pb = this.decode(proto.Ptl.LoginReq, unit8)\n    }\n    PbEncode(message: any): Uint8Array {\n        let writer = message.constructor.encode(message) as Writer;\n        return writer?.finish();\n    }\n\n    decode(ptl: number, unit8: Uint8Array) {\n        let pb = proto[\"Msg_\" + (proto.Ptl[ptl])].decode(unit8)\n        console.log(pb)\n        return pb\n    }\n\n}\n\n"]}