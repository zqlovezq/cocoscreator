{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/fight/base/move/bullet/BulletMoveForwardOwner.ts"],"names":["BulletMoveForwardOwner","Vec3","BulletMoveLine","tempPos","ownerAbs","init","abs","owner","fly","dt","isDead","x","getPosition","info","configTab","BulletOffset","y","setAbsPos","checkComplete"],"mappings":";;;qGAQaA,sB;;;;;;;;;;;;;;;;;;;AARJC,MAAAA,I,OAAAA,I;;AAEAC,MAAAA,c,iBAAAA,c;;;;;;;;;AAIHC,MAAAA,O,GAAU,IAAIF,IAAJ,E;AAChB;;wCACaD,sB,GAAN,MAAMA,sBAAN;AAAA;AAAA,4CAAoD;AAAA;AAAA;AAAA,eACvDI,QADuD;AAAA;;AAEvDC,QAAAA,IAAI,GAAS;AACT,gBAAMA,IAAN;AACA,eAAKD,QAAL,GAAgB,KAAKE,GAAL,CAASC,KAAT,CAAeD,GAA/B;AACH;;AAEDE,QAAAA,GAAG,CAACC,EAAD,EAAmB;AAClB,cAAI,KAAKL,QAAL,IAAiB,CAAC,KAAKA,QAAL,CAAcM,MAApC,EAA4C;AACxCP,YAAAA,OAAO,CAACQ,CAAR,GAAY,KAAKL,GAAL,CAASC,KAAT,CAAeD,GAAf,CAAmBM,WAAnB,GAAiCD,CAAjC,GAAqC,KAAKL,GAAL,CAASO,IAAT,CAAcC,SAAd,CAAwBC,YAAxB,CAAqC,CAArC,CAArC,IAAgF,CAA5F;AACAZ,YAAAA,OAAO,CAACa,CAAR,GAAY,KAAKV,GAAL,CAASC,KAAT,CAAeD,GAAf,CAAmBM,WAAnB,GAAiCI,CAAjC,GAAqC,KAAKV,GAAL,CAASO,IAAT,CAAcC,SAAd,CAAwBC,YAAxB,CAAqC,CAArC,CAArC,IAAgF,CAA5F;AAEA,iBAAKE,SAAL,CAAed,OAAf;AACH;AACJ;AAED;;;AACAe,QAAAA,aAAa,GAAG;AACZ,cAAI,KAAKd,QAAL,IAAiB,KAAKA,QAAL,CAAcM,MAAnC,EAA2C;AACvC,mBAAO,IAAP;AACH;;AACD,iBAAO,MAAMQ,aAAN,EAAP;AACH;;AAtBsD,O","sourcesContent":["import { Vec3, math, setPropertyEnumTypeOnAttrs, v2, v3 } from \"cc\";\nimport { AbsMoveType, BulletMove } from \"../AbsMove\";\nimport { BulletMoveLine } from \"./BulletMoveLine\";\nimport { CDTime } from \"../../cd/CDTime\";\nimport { AbsRole } from \"../../obj/role/AbsRole\";\n\nconst tempPos = new Vec3();\n/** 跟随 */\nexport class BulletMoveForwardOwner extends BulletMoveLine {\n    ownerAbs: AbsRole\n    init(): void {\n        super.init()\n        this.ownerAbs = this.abs.owner.abs\n    }\n\n    fly(dt: number): void {\n        if (this.ownerAbs && !this.ownerAbs.isDead) {\n            tempPos.x = this.abs.owner.abs.getPosition().x + this.abs.info.configTab.BulletOffset[0] || 0\n            tempPos.y = this.abs.owner.abs.getPosition().y + this.abs.info.configTab.BulletOffset[1] || 0\n\n            this.setAbsPos(tempPos)\n        }\n    }\n\n    /** 检查是否完成 */\n    checkComplete() {\n        if (this.ownerAbs && this.ownerAbs.isDead) {\n            return true\n        }\n        return super.checkComplete()\n    }\n}"]}