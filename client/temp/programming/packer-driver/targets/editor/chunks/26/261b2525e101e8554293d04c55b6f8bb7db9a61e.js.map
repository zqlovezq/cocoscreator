{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/framework/editor/lang/LangLabel.ts"],"names":["_decorator","Component","Label","RichText","EDITOR","LangMgr","ccclass","property","executeInEditMode","menu","LangLabel","visible","tooltip","displayName","label","key","value","_key","render","onLoad","node","getComponent","string","getLab"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,Q,OAAAA,Q;;AAEzCC,MAAAA,M,UAAAA,M;;AAEAC,MAAAA,O,iBAAAA,O;;;;;;;AAHT;;;OAIM;AACFC,QAAAA,OADE;AAEFC,QAAAA,QAFE;AAGFC,QAAAA,iBAHE;AAIFC,QAAAA;AAJE,O,GAKFT,U;;yBAIiBU,S,WAFpBJ,OAAO,CAAC,WAAD,C,UACPE,iBAAiB,CAAC,IAAD,C,UAEbD,QAAQ,CAAC;AAAEI,QAAAA,OAAO,EAAE;AAAX,OAAD,C,UAGRJ,QAAQ,CAAC;AAAEI,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,OAAO,EAAE;AAA1B,OAAD,C,UAURL,QAAQ,CAAC;AAAEK,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,WAAW,EAAE;AAA9B,OAAD,C,0CAhBb,MAEqBH,SAFrB,SAEuCT,SAFvC,CAEiD;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAiB7Ca,KAjB6C,GAiBZ,IAjBY;AAAA;;AAKtC,YAAHC,GAAG,CAACC,KAAD,EAAgB;AACnB,eAAKC,IAAL,GAAYD,KAAZ;AACA,eAAKE,MAAL;AACH;;AAEM,YAAHH,GAAG,GAAW;AACd,iBAAO,KAAKE,IAAZ;AACH;;AAMDE,QAAAA,MAAM,GAAG;AACL,eAAKL,KAAL,GAAa,KAAKM,IAAL,CAAUC,YAAV,CAAuBnB,KAAvB,KAAiC,KAAKkB,IAAL,CAAUC,YAAV,CAAuBlB,QAAvB,CAA9C;;AACA,cAAI,CAACC,MAAL,EAAa;AACT,iBAAKW,GAAL,GAAW,KAAKE,IAAhB;AACH;AACJ;;AAEDC,QAAAA,MAAM,GAAG;AACL,cAAI,OAAO,KAAKJ,KAAZ,KAAsB,WAA1B,EAAuC;AACnC;AACH;;AACD,cAAIV,MAAJ,EAAY;AACR,iBAAKU,KAAL,CAAWQ,MAAX,GAAoB,KAAKP,GAAzB;AACH,WAFD,MAEO;AACH,iBAAKD,KAAL,CAAWQ,MAAX,GAAoB;AAAA;AAAA,oCAAQC,MAAR,CAAe,KAAKR,GAApB,CAApB;AACH;AACJ;;AAlC4C,O;;;;;iBAEtC,E;;;;;;;iBAaQ,E","sourcesContent":["import { _decorator, CCInteger, Component, Label, RichText } from 'cc';\n// @ts-ignore\nimport { EDITOR } from 'cc/env';\nimport { UIMgr } from '../../../logic/mgr/UIMgr';\nimport { LangMgr } from '../../../logic/mgr/LangMgr';\nconst {\n    ccclass,\n    property,\n    executeInEditMode,\n    menu,\n} = _decorator;\n\n@ccclass('LangLabel')\n@executeInEditMode(true)\nexport default class LangLabel extends Component {\n    @property({ visible: false })\n    _key = '';\n\n    @property({ visible: true, tooltip: '语言key' })\n    set key(value: string) {\n        this._key = value;\n        this.render();\n    }\n\n    get key(): string {\n        return this._key;\n    }\n\n    @property({ tooltip: \"备注\", displayName: \"备注\" })\n    desc: string = \"\"\n\n    label: Label | RichText | null = null;\n    onLoad() {\n        this.label = this.node.getComponent(Label) || this.node.getComponent(RichText)\n        if (!EDITOR) {\n            this.key = this._key\n        }\n    }\n\n    render() {\n        if (typeof this.label === 'undefined') {\n            return;\n        }\n        if (EDITOR) {\n            this.label.string = this.key\n        } else {\n            this.label.string = LangMgr.getLab(this.key)\n        }\n    }\n}\n"]}