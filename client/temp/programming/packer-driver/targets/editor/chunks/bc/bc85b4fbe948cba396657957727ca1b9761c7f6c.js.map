{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/utils/Func.ts"],"names":["Func","Color","Graphics","Layers","Node","Rect","native","sp","sys","ResMgr","MathAngle","ShowTips","LangMgr","checkInt","value","Number","isNaN","setItem","key","localStorage","getItem","removeBy","list","cId","v","index","length","splice","remove","item","getValuesByKey","tables","push","cocosNodeZIndex","node","zindex","parent","NodeSort","children","concat","sort","a","b","maxIndex","nodeItem","setSiblingIndex","setzIndex","drawRect","box_rect","color","layer","newctx","ctx","line","Enum","UI_2D","addComponent","lineWidth","clear","strokeColor","RED","rect","x","y","width","height","stroke","drawCircle","r","pos","circle","drawArc","angle","heading","arc","Math","PI","moveTo","v3","angleToDirection","multiplyScalar","lineTo","createSpine","path","nn","spineComp","Skeleton","spData","get","SkeletonData","addRef","skeletonData","enableBatch","random","min","max","ceil","floor","copyTab","_obj","toObj","hasOwnProperty","copyText","text","input","isNative","copyTextToClipboard","el","document","createElement","setAttribute","style","position","left","fontSize","selection","getSelection","originalRange","rangeCount","getRangeAt","body","appendChild","select","selectionStart","selectionEnd","success","execCommand","err","console","log","removeChild","removeAllRanges","addRange","getLab","getStrZhLen","str","len","reg","RegExp","japaneseRegex","element","charAt","test","getStrZhWidth","pattern_Num","pattern_Sy","pattern_En1","pattern_En2","pattern_Ch","compareVersion","versionA","versionB","vA","split","vB","i","parseInt","forBy","type","forBy2","key2","cId2"],"mappings":"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","sourcesContent":["import { Color, Graphics, Layers, Node, Rect, Vec2, Vec3, native, sp, sys } from \"cc\";\nimport { LoadResAsync, ResMgr } from \"../mgr/ResMgr\";\nimport { MathAngle } from \"../../framework/collision/Maths\";\nimport { Long } from \"protobufjs\";\nimport { ShowTips } from \"../mgr/UIMgr\";\nimport { LangMgr } from \"../mgr/LangMgr\";\n\nexport class Func {\n\n    /**\n     * 检测转换int\n     * @param value \n     * @returns \n     */\n    static checkInt(value: any): number {\n        value = Number(value)\n        return isNaN(value) ? 0 : value\n    }\n\n\n    static setItem(key: string, value: any) {\n        sys.localStorage.setItem(key, value)\n    }\n\n    static getItem(key: string, value?: any) {\n        return sys.localStorage.getItem(key)\n    }\n\n    static forBy = function <T extends any>(list: any, key: string, cId: any, type?: T): T {\n        if (list) {\n            var v\n            for (let index = 0; index < list.length; index++) {\n                v = list[index];\n                if (v[key] == cId) {\n                    return v\n                }\n            }\n        }\n        return null\n    }\n    static forBy2 = function <T extends any>(list: any, key: string, cId: any, key2: string, cId2: any, type?: T): T {\n        if (list) {\n            var v\n            for (let index = 0; index < list.length; index++) {\n                v = list[index];\n                if (v[key] == cId && v[key2] == cId2) {\n                    return v\n                }\n            }\n        }\n        return null\n    }\n\n    static removeBy(list: any, key: string, cId: any) {\n        if (list) {\n            var v\n            for (let index = 0; index < list.length; index++) {\n                v = list[index];\n                if (v[key] == cId) {\n                    list.splice(index, 1)\n                }\n            }\n        }\n    }\n\n    static remove(list: any, item: any) {\n        if (list) {\n            var v\n            for (let index = 0; index < list.length; index++) {\n                v = list[index];\n                if (v == item) {\n                    list.splice(index, 1)\n                }\n            }\n        }\n    }\n\n    static getValuesByKey(tables: any, key: string, value: any) {\n        var list = []\n        tables = tables || []\n        if (tables) {\n            var v\n            for (let index = 0; index < tables.length; index++) {\n                v = tables[index];\n                if (v[key] == value) {\n                    list.push(v)\n                }\n            }\n        }\n        return list\n    }\n\n    /**\n    * 通过zIndex维护2D渲染顺序，(3.x后没有zIndex, 3.4没有priority)\n    * 更改层级之前， 一定要先加到父对象内\n    */\n    static cocosNodeZIndex(node: Node, zindex: number) {\n        node[\"zIndex\"] = zindex\n        if (node.parent) {\n            Func.NodeSort(node.parent)\n        }\n    }\n\n    static NodeSort(node: Node) {\n        let children = node.children.concat();\n        children.sort((a, b): number => {\n            if (a['zIndex'] == null) {\n                a['zIndex'] = 0;\n            }\n            if (b['zIndex'] == null) {\n                b['zIndex'] = 0;\n            }\n            return a['zIndex'] - b['zIndex'];\n        });\n        let maxIndex = children.length;\n        for (const nodeItem of children) {\n            nodeItem.setSiblingIndex(maxIndex);\n        }\n    }\n\n    static setzIndex(node: Node, zindex: number) {\n        node[\"zIndex\"] = zindex\n    }\n\n\n    static drawRect(box_rect: Rect, parent: Node, color?: Color, layer?: Layers.Enum, newctx?: Graphics) {\n        let ctx = newctx\n        if (ctx == null) {\n            let line = new Node();\n            line.layer = layer || Layers.Enum.UI_2D\n            line.parent = parent\n            ctx = line.addComponent(Graphics);\n            ctx.lineWidth = 3;\n\n        }\n\n        ctx.clear()\n\n        ctx.strokeColor = color || Color.RED;\n\n        box_rect = box_rect || new Rect(-50, -50, 100, 100)\n        ctx.rect(box_rect.x, box_rect.y, box_rect.width, box_rect.height);\n        ctx.stroke();\n        return ctx\n    }\n\n    static drawCircle(r: number, pos: Vec3 | Vec2, parent: Node, color?: Color, layer?: Layers.Enum, newctx?: Graphics) {\n        let ctx = newctx\n\n        if (ctx == null) {\n            let line = new Node();\n            line.layer = layer || Layers.Enum.UI_2D\n            line.parent = parent\n            ctx = line.addComponent(Graphics);\n            ctx.lineWidth = 3;\n            ctx.strokeColor = color || Color.RED;\n        }\n\n        ctx.clear()\n\n        ctx.strokeColor = color || Color.RED;\n        ctx.circle(pos.x, pos.y, r || 50)\n        ctx.stroke();\n        return ctx\n    }\n\n    static drawArc(r: number, angle: number, heading: number, parent: Node, color?: Color, layer?: Layers.Enum, newctx?: Graphics) {\n        let ctx = newctx\n\n        if (ctx == null) {\n            let line = new Node();\n            line.layer = layer || Layers.Enum.UI_2D\n            line.parent = parent\n            ctx = line.addComponent(Graphics);\n            ctx.lineWidth = 3;\n            ctx.strokeColor = color || Color.RED;\n        }\n\n        ctx.clear()\n\n        ctx.strokeColor = color || Color.RED;\n        ctx.arc(0, 0, r, heading * Math.PI / 180, (angle + heading) * Math.PI / 180, true)\n        ctx.moveTo(0, 0)\n        let v3 = MathAngle.angleToDirection(heading).multiplyScalar(r)\n        ctx.lineTo(v3.x, v3.y)\n        ctx.moveTo(0, 0)\n\n        v3 = MathAngle.angleToDirection(angle + heading, v3).multiplyScalar(r)\n        ctx.lineTo(v3.x, v3.y)\n\n        ctx.stroke();\n        return ctx\n    }\n\n\n\n    static createSpine(path: string) {\n        let nn = new Node(\"spine\")\n        let spineComp = nn.addComponent(sp.Skeleton)\n        let spData: sp.SkeletonData = ResMgr.get(path, sp.SkeletonData);\n        spData.addRef()\n        spineComp.skeletonData = spData\n        spineComp.enableBatch = true\n        return spineComp\n    }\n\n    /**\n        获取随机整数\n        @param min 随机的最小值\n        @param max 随机的最大值(包括该值)\n        @returns 返回一个整数，范围是 [min, max)\n    */\n    static random(min: number, max: number): number {\n        min = Math.ceil(min);\n        max = Math.floor(max + 1);\n        return Math.floor(Math.random() * (max - min)) + min;\n    }\n\n\n    /**\n     * 深度复制表数据（只可复制表内结构）\n     * @param _obj 原始obj\n     * @param toObj 目标obj\n     * @returns \n     */\n    static copyTab(_obj: any, toObj: any) {\n        for (let key in _obj) {\n            if (_obj.hasOwnProperty(key)) {\n                if (typeof _obj[key] == \"object\") {\n                    if (toObj[key] == null) {\n                        toObj[key] = []\n                    }\n                    Func.copyTab(_obj[key], toObj[key])\n                } else {\n                    toObj[key] = _obj[key]\n                }\n            }\n        }\n        return toObj\n    }\n    static copyText(text: string) {\n        var input = text || \"\"\n        // if (isWechat()) {\n        //     wx.setClipboardData({\n        //         data: input,\n        //         success(res) {\n        //             console.log(\"复制成功\")\n        //             ShowTips(\"复制成功\")\n        //         },\n        //         fail(res) {\n        //             console.log(\"复制失败\", res)\n        //         }\n        //     })\n        // }\n        // else if (cc.sys.isNative) {\n        //     // writeToClipboard\n        //     // jsb.\n        //     // jsb[\"Device\"].copyTextToClipboard(text)\n        //     jsb.copyTextToClipboard(text)\n        //     ShowTips(\"复制成功\")\n        // } else {\n\n        if (sys.isNative) {\n            native.copyTextToClipboard(input)\n        } else {\n            const el = document.createElement('textarea');\n            el.value = input\n            el.setAttribute('readonly', '');\n            el.style.position = 'absolute';\n            el.style.left = '-9999px';\n            el.style.fontSize = '12pt';\n\n            const selection = getSelection();\n            var originalRange: Range;\n            if (selection.rangeCount > 0) {\n                originalRange = selection.getRangeAt(0);\n            }\n            document.body.appendChild(el);\n            el.select();\n            el.selectionStart = 0;\n            el.selectionEnd = input.length;\n\n            var success = false;\n            try {\n                success = document.execCommand('copy');\n            } catch (err) {\n                console.log(err)\n            }\n\n            document.body.removeChild(el);\n\n            if (originalRange) {\n                selection.removeAllRanges();\n                selection.addRange(originalRange);\n            }\n        }\n\n\n        ShowTips(LangMgr.getLab(\"Tips_copysuccess\"));\n    }\n\n    static getStrZhLen(str: string = \"\") {\n        let len = 0\n        var reg = new RegExp(\"([\\u4E00-\\u9FFF]|[\\u3002\\uff1b\\uff0c\\uff1a\\u201c\\u201d\\uff08\\uff09\\u3001\\uff1f\\u300a\\u300b\\uff01\\u3010\\u3011\\uffe5])+\");\n\n        const japaneseRegex = /[\\u3040-\\u309F\\u30A0-\\u30FF\\u4E00-\\u9FAF]/;\n\n        for (let index = 0; index < str.length; index++) {\n            const element = str.charAt(index)\n            if (reg.test(element)||japaneseRegex.test(element)) {\n                len = len + 1\n            } else {\n                len = len + 0.5\n            }\n\n        }\n        return len\n    }\n\n    static getStrZhWidth(str: string = \"\") {\n        let len = 0;\n        var pattern_Num = new RegExp(\"[0-9]\");\n        var pattern_Sy = new RegExp(\"[`~!@#$^&*()=|{}':;',\\\\[\\\\].<>《》/\\?~！@#￥……&*（）——|{}【】‘；：”“'。，、？+-/ ]|[\\\\\\\\/]\");\n        var pattern_En1 = new RegExp(\"[A-Z]\");\n        var pattern_En2 = new RegExp(\"[a-z]\");\n        var pattern_Ch = new RegExp(\"[\\u4E00-\\u9FA5]\");\n\n        // var reg = new RegExp(\"([\\u4E00-\\u9FFF]|[\\u3002\\uff1b\\uff0c\\uff1a\\u201c\\u201d\\uff08\\uff09\\u3001\\uff1f\\u300a\\u300b\\uff01\\u3010\\u3011\\uffe5])+\");\n        for (let index = 0; index < str.length; index++) {\n            const element = str.charAt(index)\n            if (pattern_Ch.test(element)) {\n                //中文\n                len = len + 1\n            } else if (pattern_Num.test(element)) {\n                //数字\n                len = len + 0.53;\n            } else if (pattern_En1.test(element)) {\n                //大写字母\n                len = len + 0.8;\n            } else if (pattern_En2.test(element)) {\n                //小写字母\n                len = len + 0.56;\n            } else {\n                len = len + 0.28;\n            }\n\n        }\n        return len;\n    }\n\n    /**\n     * 版本号比较\n     * @param versionA \n     * @param versionB \n     * @returns -1 b 大 0 相等 1 a 大\n     */\n    static compareVersion(versionA: string, versionB: string) {\n        var vA = versionA.split('.');\n        var vB = versionB.split('.');\n        for (var i = 0; i < vA.length; ++i) {\n            var a = parseInt(vA[i]);\n            var b = parseInt(vB[i] || '0');\n            if (a === b) {\n                continue;\n            }\n            else {\n                return a - b;\n            }\n        }\n        if (vB.length > vA.length) {\n            return -1;\n        }\n        else {\n            return 0;\n        }\n\n    }\n\n}\n\n"]}