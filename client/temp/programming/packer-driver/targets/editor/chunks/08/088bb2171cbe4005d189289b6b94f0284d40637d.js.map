{"version":3,"sources":["file:///C:/chickenStarClient/client/assets/scripts/logic/model/fincaFight/FincaFightTeamItem.ts"],"names":["_decorator","Component","FincaFightTeamState","createAnimation","FincaFightData","HeroData","ShowTips","LangMgr","ccclass","property","FincaFightTeamItem","emptyNode","lockNode","heroNode","heroSpine","heroInfo","curIndex","setData","index","heroId","ins","heroIds","getById","node","getChildByName","state","getState","refreshItemState","HERO","heroTable","Born","Idle","active","EMPTY","LOCK","onClickLockBtn","level","getUnLockLevel","getCombineString"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,mB,iBAAAA,mB;;AACAC,MAAAA,e,iBAAAA,e;;AACAC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,Q,iBAAAA,Q;;AAEAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,O,iBAAAA,O;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;oCAGjBU,kB,WADZF,OAAO,CAAC,oBAAD,C,gBAAR,MACaE,kBADb,SACwCT,SADxC,CACkD;AAAA;AAAA;AAAA,eACtCU,SADsC,GACpB,IADoB;AAAA,eAEtCC,QAFsC,GAErB,IAFqB;AAAA,eAGtCC,QAHsC,GAGrB,IAHqB;AAAA,eAItCC,SAJsC,GAIpB,IAJoB;AAAA,eAKtCC,QALsC,GAKjB,IALiB;AAAA,eAOtCC,QAPsC,GAOpB,CAPoB;AAAA;;AAQ9CC,QAAAA,OAAO,CAACC,KAAD,EAAgB;AACnB,eAAKF,QAAL,GAAgBE,KAAhB;AACA,cAAIC,MAAM,GAAG;AAAA;AAAA,gDAAeC,GAAf,CAAmBC,OAAnB,CAA2BH,KAA3B,CAAb;AACA,eAAKH,QAAL,GAAgB;AAAA;AAAA,oCAASK,GAAT,CAAaE,OAAb,CAAqBH,MAArB,CAAhB;AACA,eAAKR,SAAL,GAAiB,KAAKY,IAAL,CAAUC,cAAV,CAAyB,YAAzB,CAAjB;AACA,eAAKZ,QAAL,GAAgB,KAAKW,IAAL,CAAUC,cAAV,CAAyB,WAAzB,CAAhB;AACA,eAAKX,QAAL,GAAgB,KAAKU,IAAL,CAAUC,cAAV,CAAyB,aAAzB,CAAhB;AACA,eAAKV,SAAL,GAAiB,KAAKD,QAAL,CAAcW,cAAd,CAA6B,YAA7B,CAAjB;AAEA,gBAAMC,KAAK,GAAG;AAAA;AAAA,gDAAeL,GAAf,CAAmBM,QAAnB,CAA4BR,KAAK,GAAG,CAApC,CAAd;AACA,eAAKS,gBAAL,CAAsBF,KAAtB;;AACA,cAAIA,KAAK,KAAK;AAAA;AAAA,0DAAoBG,IAAlC,EAAwC;AACpC;AAAA;AAAA,oDAAgB,KAAKd,SAArB,EAAgC,KAAKC,QAAL,CAAcc,SAAd,CAAwBC,IAAxD,EAA8D,KAAKf,QAAL,CAAcc,SAAd,CAAwBE,IAAtF;AACH;AACJ;;AACDJ,QAAAA,gBAAgB,CAACF,KAAD,EAA6B;AACzC,eAAKd,SAAL,CAAeqB,MAAf,GAAwBP,KAAK,KAAK;AAAA;AAAA,0DAAoBQ,KAAtD;AACA,eAAKrB,QAAL,CAAcoB,MAAd,GAAuBP,KAAK,KAAK;AAAA;AAAA,0DAAoBS,IAArD;AACA,eAAKrB,QAAL,CAAcmB,MAAd,GAAuBP,KAAK,KAAK;AAAA;AAAA,0DAAoBG,IAArD;AACH;;AACDO,QAAAA,cAAc,GAAE;AACZ,gBAAMC,KAAK,GAAG;AAAA;AAAA,gDAAehB,GAAf,CAAmBiB,cAAnB,CAAkC,KAAKrB,QAAL,GAAc,CAAhD,EAAkD,IAAlD,CAAd;AACA;AAAA;AAAA,oCAAS;AAAA;AAAA,kCAAQsB,gBAAR,CAAyB,cAAzB,EAAwC,CAACF,KAAD,CAAxC,CAAT;AACH;;AA/B6C,O","sourcesContent":["import { _decorator, Component, Label, Node, sp } from 'cc';\r\nimport { FincaFightTeamState } from '../../../Common/script/EnumTypeMgr';\r\nimport { createAnimation } from '../../utils/GameUtil';\r\nimport { FincaFightData } from './FincaFightData';\r\nimport { HeroData } from '../hero/HeroData';\r\nimport { HeroInfo } from '../hero/HeroInfo';\r\nimport { ShowTips } from '../../mgr/UIMgr';\r\nimport { LangMgr } from '../../mgr/LangMgr';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('FincaFightTeamItem')\r\nexport class FincaFightTeamItem extends Component {\r\n    private emptyNode: Node = null;\r\n    private lockNode: Node = null;\r\n    private heroNode: Node = null;\r\n    private heroSpine: Node = null;\r\n    private heroInfo: HeroInfo = null;\r\n\r\n    private curIndex:number = 0;\r\n    setData(index: number) {\r\n        this.curIndex = index;\r\n        let heroId = FincaFightData.ins.heroIds[index];\r\n        this.heroInfo = HeroData.ins.getById(heroId);\r\n        this.emptyNode = this.node.getChildByName(\"empty_node\");\r\n        this.lockNode = this.node.getChildByName(\"lock_node\");\r\n        this.heroNode = this.node.getChildByName(\"common_node\");\r\n        this.heroSpine = this.heroNode.getChildByName(\"hero_spine\");\r\n\r\n        const state = FincaFightData.ins.getState(index + 1);\r\n        this.refreshItemState(state);\r\n        if (state === FincaFightTeamState.HERO) {\r\n            createAnimation(this.heroSpine, this.heroInfo.heroTable.Born, this.heroInfo.heroTable.Idle);\r\n        }\r\n    }\r\n    refreshItemState(state: FincaFightTeamState) {\r\n        this.emptyNode.active = state === FincaFightTeamState.EMPTY;\r\n        this.lockNode.active = state === FincaFightTeamState.LOCK;\r\n        this.heroNode.active = state === FincaFightTeamState.HERO;\r\n    }\r\n    onClickLockBtn(){\r\n        const level = FincaFightData.ins.getUnLockLevel(this.curIndex+1,true);\r\n        ShowTips(LangMgr.getCombineString(\"Tips_finca_3\",[level]))\r\n    }\r\n}\r\n\r\n\r\n"]}