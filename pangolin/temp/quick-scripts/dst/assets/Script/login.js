
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/login.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6b7cdHix81Ol6r4h+cnHYQh', 'login');
// Script/login.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {},
  // LIFE-CYCLE CALLBACKS:
  // onLoad () {},
  start: function start() {
    this.protocol = false; // this.needLogin = true;

    this.time = 0; // 注册一个事件 监听微信返回的code

    cc.Tools.Event = new cc.EventTarget();
    cc.Tools.Event.on('getCode', this.getCode, this);

    if (!cc.sys.isNative) {
      cc.sys.localStorage.setItem("token", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxMDAxMjQxLCJvcGVuX2lkIjoib1FXNFI1OVVSRlF1YTNSWjlvX3lfdGJ6UEdLNCIsIm5pY2tfbmFtZSI6Iua1t-ebl-iIuemVvzIuMCIsImdlbmRlciI6MSwiYXZhdGFyIjoiaHR0cHM6Ly90aGlyZHd4LnFsb2dvLmNuL21tb3Blbi92aV8zMi9mR0xkR1pneG5wVmtJQldjaWEzeWljaWJ6aWJFQ0J0VzFhQkhEbUdhWmV6cTAycWdQUUN3STN5OGljVE5nWEtCcDBOcExBNUJFdDZ6UEdsSG1VTWY5bHd4Qk1nLzEzMiIsImNyZWF0ZV90aW1lIjoxNjM0MTk4ODUyLCJjaGFubmVsIjoid2FsayIsImRpc3RpbmN0X2lkIjoiYmFlNGY0N2MtZmZiMy00MGIxLWJhMzYtZTc0NjlkMTU0ODk4In0.u5sj49OYNGfbxzA4rM3CJfKqBjEYSZAN-mXVJOQ-U4M");
    }

    if (cc.sys.localStorage.getItem("token")) {
      // this.needLogin = false;
      this.protocol = true;
      cc.wxToken = cc.sys.localStorage.getItem("token");
      console.log("cocos--token---", cc.wxToken);

      if (cc.sys.isNative) {
        cc.beginCountTime = new Date().getTime();
        cc.director.loadScene('Index'); // if (cc.sys.localStorage.getItem("realName")) {
        //     cc.beginCountTime = new Date().getTime();
        //     cc.director.loadScene('Index');
        // } else {
        //     this.showRealLayer();
        // }
      } else {
        cc.beginCountTime = new Date().getTime();
        cc.director.loadScene('Index');
      }
    }

    Date.prototype.Format = function (fmt) {
      var o = {
        "M+": this.getMonth() + 1,
        //月份 
        "d+": this.getDate(),
        //日 
        "H+": this.getHours(),
        //小时 
        "m+": this.getMinutes(),
        //分 
        "s+": this.getSeconds(),
        //秒 
        "q+": Math.floor((this.getMonth() + 3) / 3),
        //季度 
        "S": this.getMilliseconds() //毫秒 

      };
      if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));

      for (var k in o) {
        if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ("00" + o[k]).substr(("" + o[k]).length));
      }

      return fmt;
    };
  },
  onLoginWX: function onLoginWX() {
    if (cc.sys.isNative) {
      if (this.protocol) {
        cc.Tools.wxLogin();
      } else {
        cc.Tools.showTips(this.node, "请先同意用户协议和隐私政策");
      }
    }
  },
  // 选择用户协议
  clickProtocol: function clickProtocol(e) {
    var target = e.target;
    var right = target.getChildByName("right");

    if (this.protocol) {
      right.active = false;
      this.protocol = false;
    } else {
      right.active = true;
      this.protocol = true;
    }
  },
  getCode: function getCode() {
    this.protocol = false; // {"channel":"walk","imei":"","android_id":"8bacfc24ece79979","mac":"02:00:00:00:00:00","uid":"3b0fe5ec-050d-46bf-aac6-0dc5aa5889c4","oaid":"fbf75dfb-fffd-7f02-6ef6-f7ffbfad8da6"}

    var data = {
      "channel": cc.Tools.DeviceInfo.channel ? cc.Tools.DeviceInfo.channel : "",
      "imei": cc.Tools.DeviceInfo.imei ? cc.Tools.DeviceInfo.imei : "",
      "mac": cc.Tools.DeviceInfo.mac ? cc.Tools.DeviceInfo.mac : "",
      "distinct_id": cc.Tools.DeviceInfo.uid ? cc.Tools.DeviceInfo.uid : "",
      "oaid": cc.Tools.DeviceInfo.oaid ? cc.Tools.DeviceInfo.oaid : "",
      "android_id": cc.Tools.DeviceInfo.android_id ? cc.Tools.DeviceInfo.android_id : "",
      "code": cc.wxLoginResultcode
    };
    cc.Tools.sendRequest("pit.v1/register", "POST", data).then(function (res) {
      cc.wxToken = res.data.token;
      cc.sys.localStorage.setItem("token", res.data.token);

      var _dotTime = new Date().Format("yyyy-MM-dd HH:mm:ss");

      cc.Tools.dot("register", {
        register_time: _dotTime,
        channel: cc.Tools.DeviceInfo.channel ? cc.Tools.DeviceInfo.channel : ""
      }); // if (cc.sys.localStorage.getItem("realName")) {

      cc.beginCountTime = new Date().getTime();
      cc.director.loadScene('Index'); // } else {
      //     this.showRealLayer();
      // }
    });
  },
  // 显示用户协议
  showUserProtocol: function showUserProtocol() {
    var protocol = this.node.getChildByName("user_protocol");
    protocol.active = true;
  },
  hideUserProtocol: function hideUserProtocol() {
    var protocol = this.node.getChildByName("user_protocol");
    protocol.active = false;
  },
  // 显示隐私政策
  showUserPrivacy: function showUserPrivacy() {
    var privacy = this.node.getChildByName("user_privacy");
    privacy.active = true;
  },
  hideUserPrivacy: function hideUserPrivacy() {
    var privacy = this.node.getChildByName("user_privacy");
    privacy.active = false;
  },
  // 实名认证
  showRealLayer: function showRealLayer() {
    this.realNameLayer = this.node.getChildByName("RealName");
    this.realNameLayer.active = true;
  },
  // 实名认证点击
  clickRealLayer: function clickRealLayer(e) {
    var target = e.target;
    var _realName = this.realNameLayer.getChildByName("edit1").getComponent(cc.EditBox).string;
    var _realNumber = this.realNameLayer.getChildByName("edit2").getComponent(cc.EditBox).string; // 用local记录 是否实名

    if (this.regYourName(_realName) && this.regYourNumber(_realNumber)) {
      cc.sys.localStorage.setItem("realName", true);
      cc.beginCountTime = new Date().getTime();
      cc.director.loadScene('Index');
    }
  },
  // 判断真实姓名
  regYourName: function regYourName(name) {
    var regName = /^[\u4e00-\u9fa5]{2,4}$/;

    if (!regName.test(name)) {
      cc.Tools.showTips(this.node, "真实姓名填写有误");
      return false;
    }

    return true;
  },
  // 判断身份证号
  regYourNumber: function regYourNumber(num) {
    var regIdNo = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;

    if (!regIdNo.test(num)) {
      cc.Tools.showTips(this.node, '身份证号填写有误');
      return false;
    }

    return true;
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvbG9naW4uanMiXSwibmFtZXMiOlsiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJzdGFydCIsInByb3RvY29sIiwidGltZSIsIlRvb2xzIiwiRXZlbnQiLCJFdmVudFRhcmdldCIsIm9uIiwiZ2V0Q29kZSIsInN5cyIsImlzTmF0aXZlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImdldEl0ZW0iLCJ3eFRva2VuIiwiY29uc29sZSIsImxvZyIsImJlZ2luQ291bnRUaW1lIiwiRGF0ZSIsImdldFRpbWUiLCJkaXJlY3RvciIsImxvYWRTY2VuZSIsInByb3RvdHlwZSIsIkZvcm1hdCIsImZtdCIsIm8iLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiTWF0aCIsImZsb29yIiwiZ2V0TWlsbGlzZWNvbmRzIiwidGVzdCIsInJlcGxhY2UiLCJSZWdFeHAiLCIkMSIsImdldEZ1bGxZZWFyIiwic3Vic3RyIiwibGVuZ3RoIiwiayIsIm9uTG9naW5XWCIsInd4TG9naW4iLCJzaG93VGlwcyIsIm5vZGUiLCJjbGlja1Byb3RvY29sIiwiZSIsInRhcmdldCIsInJpZ2h0IiwiZ2V0Q2hpbGRCeU5hbWUiLCJhY3RpdmUiLCJkYXRhIiwiRGV2aWNlSW5mbyIsImNoYW5uZWwiLCJpbWVpIiwibWFjIiwidWlkIiwib2FpZCIsImFuZHJvaWRfaWQiLCJ3eExvZ2luUmVzdWx0Y29kZSIsInNlbmRSZXF1ZXN0IiwidGhlbiIsInJlcyIsInRva2VuIiwiX2RvdFRpbWUiLCJkb3QiLCJyZWdpc3Rlcl90aW1lIiwic2hvd1VzZXJQcm90b2NvbCIsImhpZGVVc2VyUHJvdG9jb2wiLCJzaG93VXNlclByaXZhY3kiLCJwcml2YWN5IiwiaGlkZVVzZXJQcml2YWN5Iiwic2hvd1JlYWxMYXllciIsInJlYWxOYW1lTGF5ZXIiLCJjbGlja1JlYWxMYXllciIsIl9yZWFsTmFtZSIsImdldENvbXBvbmVudCIsIkVkaXRCb3giLCJzdHJpbmciLCJfcmVhbE51bWJlciIsInJlZ1lvdXJOYW1lIiwicmVnWW91ck51bWJlciIsIm5hbWUiLCJyZWdOYW1lIiwibnVtIiwicmVnSWRObyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQUEsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDTCxhQUFTRCxFQUFFLENBQUNFLFNBRFA7QUFHTEMsRUFBQUEsVUFBVSxFQUFFLEVBSFA7QUFPTDtBQUVBO0FBRUFDLEVBQUFBLEtBWEssbUJBV0c7QUFDSixTQUFLQyxRQUFMLEdBQWdCLEtBQWhCLENBREksQ0FFSjs7QUFDQSxTQUFLQyxJQUFMLEdBQVksQ0FBWixDQUhJLENBSUo7O0FBQ0FOLElBQUFBLEVBQUUsQ0FBQ08sS0FBSCxDQUFTQyxLQUFULEdBQWlCLElBQUlSLEVBQUUsQ0FBQ1MsV0FBUCxFQUFqQjtBQUNBVCxJQUFBQSxFQUFFLENBQUNPLEtBQUgsQ0FBU0MsS0FBVCxDQUFlRSxFQUFmLENBQWtCLFNBQWxCLEVBQTZCLEtBQUtDLE9BQWxDLEVBQTJDLElBQTNDOztBQUNBLFFBQUksQ0FBQ1gsRUFBRSxDQUFDWSxHQUFILENBQU9DLFFBQVosRUFBc0I7QUFDbEJiLE1BQUFBLEVBQUUsQ0FBQ1ksR0FBSCxDQUFPRSxZQUFQLENBQW9CQyxPQUFwQixDQUE0QixPQUE1QixFQUFxQywwaEJBQXJDO0FBQ0g7O0FBQ0QsUUFBSWYsRUFBRSxDQUFDWSxHQUFILENBQU9FLFlBQVAsQ0FBb0JFLE9BQXBCLENBQTRCLE9BQTVCLENBQUosRUFBMEM7QUFDdEM7QUFDQSxXQUFLWCxRQUFMLEdBQWdCLElBQWhCO0FBQ0FMLE1BQUFBLEVBQUUsQ0FBQ2lCLE9BQUgsR0FBYWpCLEVBQUUsQ0FBQ1ksR0FBSCxDQUFPRSxZQUFQLENBQW9CRSxPQUFwQixDQUE0QixPQUE1QixDQUFiO0FBQ0FFLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaLEVBQThCbkIsRUFBRSxDQUFDaUIsT0FBakM7O0FBQ0Es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S0UsV0FBTCxDQUFpQkwsU0FBakIsS0FBK0IsS0FBS00sYUFBTCxDQUFtQkYsV0FBbkIsQ0FBbkMsRUFBb0U7QUFDaEVuRixNQUFBQSxFQUFFLENBQUNZLEdBQUgsQ0FBT0UsWUFBUCxDQUFvQkMsT0FBcEIsQ0FBNEIsVUFBNUIsRUFBd0MsSUFBeEM7QUFDQWYsTUFBQUEsRUFBRSxDQUFDb0IsY0FBSCxHQUFvQixJQUFJQyxJQUFKLEdBQVdDLE9BQVgsRUFBcEI7QUFDQXRCLE1BQUFBLEVBQUUsQ0FBQ3VCLFFBQUgsQ0FBWUMsU0FBWixDQUFzQixPQUF0QjtBQUNIO0FBQ0osR0F4SUk7QUF5SUw7QUFDQTRELEVBQUFBLFdBMUlLLHVCQTBJT0UsSUExSVAsRUEwSWE7QUFDZCxRQUFJQyxPQUFPLEdBQUcsd0JBQWQ7O0FBQ0EsUUFBSSxDQUFDQSxPQUFPLENBQUNsRCxJQUFSLENBQWFpRCxJQUFiLENBQUwsRUFBeUI7QUFDckJ0RixNQUFBQSxFQUFFLENBQUNPLEtBQUgsQ0FBU3dDLFFBQVQsQ0FBa0IsS0FBS0MsSUFBdkIsRUFBNkIsVUFBN0I7QUFDQSxhQUFPLEtBQVA7QUFDSDs7QUFDRCxXQUFPLElBQVA7QUFDSCxHQWpKSTtBQWtKTDtBQUNBcUMsRUFBQUEsYUFuSksseUJBbUpTRyxHQW5KVCxFQW1KYztBQUNmLFFBQUlDLE9BQU8sR0FBRywwQ0FBZDs7QUFDQSxRQUFJLENBQUNBLE9BQU8sQ0FBQ3BELElBQVIsQ0FBYW1ELEdBQWIsQ0FBTCxFQUF3QjtBQUNwQnhGLE1BQUFBLEVBQUUsQ0FBQ08sS0FBSCxDQUFTd0MsUUFBVCxDQUFrQixLQUFLQyxJQUF2QixFQUE2QixVQUE3QjtBQUNBLGFBQU8sS0FBUDtBQUNIOztBQUNELFdBQU8sSUFBUDtBQUNIO0FBMUpJLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNjLkNsYXNzKHtcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXG5cbiAgICBwcm9wZXJ0aWVzOiB7XG5cbiAgICB9LFxuXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XG5cbiAgICAvLyBvbkxvYWQgKCkge30sXG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5wcm90b2NvbCA9IGZhbHNlO1xuICAgICAgICAvLyB0aGlzLm5lZWRMb2dpbiA9IHRydWU7XG4gICAgICAgIHRoaXMudGltZSA9IDA7XG4gICAgICAgIC8vIOazqOWGjOS4gOS4quS6i+S7tiDnm5HlkKzlvq7kv6Hov5Tlm57nmoRjb2RlXG4gICAgICAgIGNjLlRvb2xzLkV2ZW50ID0gbmV3IGNjLkV2ZW50VGFyZ2V0KCk7XG4gICAgICAgIGNjLlRvb2xzLkV2ZW50Lm9uKCdnZXRDb2RlJywgdGhpcy5nZXRDb2RlLCB0aGlzKTtcbiAgICAgICAgaWYgKCFjYy5zeXMuaXNOYXRpdmUpIHtcbiAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRva2VuXCIsIFwiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SjFjMlZ5WDJsa0lqb3hNREF4TWpReExDSnZjR1Z1WDJsa0lqb2liMUZYTkZJMU9WVlNSbEYxWVROU1dqbHZYM2xmZEdKNlVFZExOQ0lzSW01cFkydGZibUZ0WlNJNkl1YTF0LWVibC1pSXVlbVZ2ekl1TUNJc0ltZGxibVJsY2lJNk1Td2lZWFpoZEdGeUlqb2lhSFIwY0hNNkx5OTBhR2x5WkhkNExuRnNiMmR2TG1OdUwyMXRiM0JsYmk5MmFWOHpNaTltUjB4a1IxcG5lRzV3Vm10SlFsZGphV0V6ZVdsamFXSjZhV0pGUTBKMFZ6RmhRa2hFYlVkaFdtVjZjVEF5Y1dkUVVVTjNTVE41T0dsalZFNW5XRXRDY0RCT2NFeEJOVUpGZERaNlVFZHNTRzFWVFdZNWJIZDRRazFuTHpFek1pSXNJbU55WldGMFpWOTBhVzFsSWpveE5qTTBNVGs0T0RVeUxDSmphR0Z1Ym1Wc0lqb2lkMkZzYXlJc0ltUnBjM1JwYm1OMFgybGtJam9pWW1GbE5HWTBOMk10Wm1aaU15MDBNR0l4TFdKaE16WXRaVGMwTmpsa01UVTBPRGs0SW4wLnU1c2o0OU9ZTkdmYnh6QTRyTTNDSmZLcUJqRVlTWkFOLW1YVkpPUS1VNE1cIilcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9rZW5cIikpIHtcbiAgICAgICAgICAgIC8vIHRoaXMubmVlZExvZ2luID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnByb3RvY29sID0gdHJ1ZTtcbiAgICAgICAgICAgIGNjLnd4VG9rZW4gPSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b2tlblwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY29jb3MtLXRva2VuLS0tXCIsY2Mud3hUb2tlbik7XG4gICAgICAgICAgICBpZiAoY2Muc3lzLmlzTmF0aXZlKSB7XG4gICAgICAgICAgICAgICAgY2MuYmVnaW5Db3VudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoJ0luZGV4Jyk7XG4gICAgICAgICAgICAgICAgLy8gaWYgKGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInJlYWxOYW1lXCIpKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIGNjLmJlZ2luQ291bnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgLy8gICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZSgnSW5kZXgnKTtcbiAgICAgICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnNob3dSZWFsTGF5ZXIoKTtcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNjLmJlZ2luQ291bnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKCdJbmRleCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIERhdGUucHJvdG90eXBlLkZvcm1hdCA9IGZ1bmN0aW9uIChmbXQpIHtcbiAgICAgICAgICAgIHZhciBvID0ge1xuICAgICAgICAgICAgICAgIFwiTStcIjogdGhpcy5nZXRNb250aCgpICsgMSwgLy/mnIjku70gXG4gICAgICAgICAgICAgICAgXCJkK1wiOiB0aGlzLmdldERhdGUoKSwgLy/ml6UgXG4gICAgICAgICAgICAgICAgXCJIK1wiOiB0aGlzLmdldEhvdXJzKCksIC8v5bCP5pe2IFxuICAgICAgICAgICAgICAgIFwibStcIjogdGhpcy5nZXRNaW51dGVzKCksIC8v5YiGIFxuICAgICAgICAgICAgICAgIFwicytcIjogdGhpcy5nZXRTZWNvbmRzKCksIC8v56eSIFxuICAgICAgICAgICAgICAgIFwicStcIjogTWF0aC5mbG9vcigodGhpcy5nZXRNb250aCgpICsgMykgLyAzKSwgLy/lraPluqYgXG4gICAgICAgICAgICAgICAgXCJTXCI6IHRoaXMuZ2V0TWlsbGlzZWNvbmRzKCkgLy/mr6vnp5IgXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKC8oeSspLy50ZXN0KGZtdCkpIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKHRoaXMuZ2V0RnVsbFllYXIoKSArIFwiXCIpLnN1YnN0cig0IC0gUmVnRXhwLiQxLmxlbmd0aCkpO1xuICAgICAgICAgICAgZm9yICh2YXIgayBpbiBvKVxuICAgICAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKFwiKFwiICsgayArIFwiKVwiKS50ZXN0KGZtdCkpIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKFJlZ0V4cC4kMS5sZW5ndGggPT0gMSkgPyAob1trXSkgOiAoKFwiMDBcIiArIG9ba10pLnN1YnN0cigoXCJcIiArIG9ba10pLmxlbmd0aCkpKTtcbiAgICAgICAgICAgIHJldHVybiBmbXQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9uTG9naW5XWCgpIHtcbiAgICAgICAgaWYgKGNjLnN5cy5pc05hdGl2ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvdG9jb2wpIHtcbiAgICAgICAgICAgICAgICBjYy5Ub29scy53eExvZ2luKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNjLlRvb2xzLnNob3dUaXBzKHRoaXMubm9kZSwgXCLor7flhYjlkIzmhI/nlKjmiLfljY/orq7lkozpmpDnp4HmlL/nrZZcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8g6YCJ5oup55So5oi35Y2P6K6uXG4gICAgY2xpY2tQcm90b2NvbChlKSB7XG4gICAgICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgbGV0IHJpZ2h0ID0gdGFyZ2V0LmdldENoaWxkQnlOYW1lKFwicmlnaHRcIik7XG4gICAgICAgIGlmICh0aGlzLnByb3RvY29sKSB7XG4gICAgICAgICAgICByaWdodC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucHJvdG9jb2wgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJpZ2h0LmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnByb3RvY29sID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Q29kZSgpIHtcbiAgICAgICAgdGhpcy5wcm90b2NvbCA9IGZhbHNlO1xuICAgICAgICAvLyB7XCJjaGFubmVsXCI6XCJ3YWxrXCIsXCJpbWVpXCI6XCJcIixcImFuZHJvaWRfaWRcIjpcIjhiYWNmYzI0ZWNlNzk5NzlcIixcIm1hY1wiOlwiMDI6MDA6MDA6MDA6MDA6MDBcIixcInVpZFwiOlwiM2IwZmU1ZWMtMDUwZC00NmJmLWFhYzYtMGRjNWFhNTg4OWM0XCIsXCJvYWlkXCI6XCJmYmY3NWRmYi1mZmZkLTdmMDItNmVmNi1mN2ZmYmZhZDhkYTZcIn1cbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBcImNoYW5uZWxcIjogY2MuVG9vbHMuRGV2aWNlSW5mby5jaGFubmVsID8gY2MuVG9vbHMuRGV2aWNlSW5mby5jaGFubmVsIDogXCJcIixcbiAgICAgICAgICAgIFwiaW1laVwiOiBjYy5Ub29scy5EZXZpY2VJbmZvLmltZWkgPyBjYy5Ub29scy5EZXZpY2VJbmZvLmltZWkgOiBcIlwiLFxuICAgICAgICAgICAgXCJtYWNcIjogY2MuVG9vbHMuRGV2aWNlSW5mby5tYWMgPyBjYy5Ub29scy5EZXZpY2VJbmZvLm1hYyA6IFwiXCIsXG4gICAgICAgICAgICBcImRpc3RpbmN0X2lkXCI6IGNjLlRvb2xzLkRldmljZUluZm8udWlkID8gY2MuVG9vbHMuRGV2aWNlSW5mby51aWQgOiBcIlwiLFxuICAgICAgICAgICAgXCJvYWlkXCI6IGNjLlRvb2xzLkRldmljZUluZm8ub2FpZCA/IGNjLlRvb2xzLkRldmljZUluZm8ub2FpZCA6IFwiXCIsXG4gICAgICAgICAgICBcImFuZHJvaWRfaWRcIjogY2MuVG9vbHMuRGV2aWNlSW5mby5hbmRyb2lkX2lkID8gY2MuVG9vbHMuRGV2aWNlSW5mby5hbmRyb2lkX2lkIDogXCJcIixcbiAgICAgICAgICAgIFwiY29kZVwiOiBjYy53eExvZ2luUmVzdWx0Y29kZVxuICAgICAgICB9XG4gICAgICAgIGNjLlRvb2xzLnNlbmRSZXF1ZXN0KFwicGl0LnYxL3JlZ2lzdGVyXCIsIFwiUE9TVFwiLCBkYXRhKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGNjLnd4VG9rZW4gPSByZXMuZGF0YS50b2tlbjtcbiAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRva2VuXCIsIHJlcy5kYXRhLnRva2VuKTtcbiAgICAgICAgICAgIGxldCBfZG90VGltZSA9IG5ldyBEYXRlKCkuRm9ybWF0KFwieXl5eS1NTS1kZCBISDptbTpzc1wiKVxuICAgICAgICAgICAgY2MuVG9vbHMuZG90KFwicmVnaXN0ZXJcIiwgeyByZWdpc3Rlcl90aW1lOiBfZG90VGltZSwgY2hhbm5lbDogY2MuVG9vbHMuRGV2aWNlSW5mby5jaGFubmVsID8gY2MuVG9vbHMuRGV2aWNlSW5mby5jaGFubmVsIDogXCJcIiB9KVxuICAgICAgICAgICAgLy8gaWYgKGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInJlYWxOYW1lXCIpKSB7XG4gICAgICAgICAgICBjYy5iZWdpbkNvdW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKCdJbmRleCcpO1xuICAgICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnNob3dSZWFsTGF5ZXIoKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfSlcbiAgICB9LFxuICAgIC8vIOaYvuekuueUqOaIt+WNj+iurlxuICAgIHNob3dVc2VyUHJvdG9jb2woKSB7XG4gICAgICAgIGxldCBwcm90b2NvbCA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInVzZXJfcHJvdG9jb2xcIik7XG4gICAgICAgIHByb3RvY29sLmFjdGl2ZSA9IHRydWU7XG4gICAgfSxcbiAgICBoaWRlVXNlclByb3RvY29sKCkge1xuICAgICAgICBsZXQgcHJvdG9jb2wgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ1c2VyX3Byb3RvY29sXCIpO1xuICAgICAgICBwcm90b2NvbC5hY3RpdmUgPSBmYWxzZTtcbiAgICB9LFxuICAgIC8vIOaYvuekuumakOengeaUv+etllxuICAgIHNob3dVc2VyUHJpdmFjeSgpIHtcbiAgICAgICAgbGV0IHByaXZhY3kgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ1c2VyX3ByaXZhY3lcIik7XG4gICAgICAgIHByaXZhY3kuYWN0aXZlID0gdHJ1ZTtcbiAgICB9LFxuICAgIGhpZGVVc2VyUHJpdmFjeSgpIHtcbiAgICAgICAgbGV0IHByaXZhY3kgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ1c2VyX3ByaXZhY3lcIik7XG4gICAgICAgIHByaXZhY3kuYWN0aXZlID0gZmFsc2U7XG4gICAgfSxcbiAgICAvLyDlrp7lkI3orqTor4FcbiAgICBzaG93UmVhbExheWVyKCkge1xuICAgICAgICB0aGlzLnJlYWxOYW1lTGF5ZXIgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJSZWFsTmFtZVwiKTtcbiAgICAgICAgdGhpcy5yZWFsTmFtZUxheWVyLmFjdGl2ZSA9IHRydWU7XG4gICAgfSxcbiAgICAvLyDlrp7lkI3orqTor4Hngrnlh7tcbiAgICBjbGlja1JlYWxMYXllcihlKSB7XG4gICAgICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgbGV0IF9yZWFsTmFtZSA9IHRoaXMucmVhbE5hbWVMYXllci5nZXRDaGlsZEJ5TmFtZShcImVkaXQxXCIpLmdldENvbXBvbmVudChjYy5FZGl0Qm94KS5zdHJpbmc7XG4gICAgICAgIGxldCBfcmVhbE51bWJlciA9IHRoaXMucmVhbE5hbWVMYXllci5nZXRDaGlsZEJ5TmFtZShcImVkaXQyXCIpLmdldENvbXBvbmVudChjYy5FZGl0Qm94KS5zdHJpbmc7XG4gICAgICAgIC8vIOeUqGxvY2Fs6K6w5b2VIOaYr+WQpuWunuWQjVxuICAgICAgICBpZiAodGhpcy5yZWdZb3VyTmFtZShfcmVhbE5hbWUpICYmIHRoaXMucmVnWW91ck51bWJlcihfcmVhbE51bWJlcikpIHtcbiAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInJlYWxOYW1lXCIsIHRydWUpXG4gICAgICAgICAgICBjYy5iZWdpbkNvdW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKCdJbmRleCcpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyDliKTmlq3nnJ/lrp7lp5PlkI1cbiAgICByZWdZb3VyTmFtZShuYW1lKSB7XG4gICAgICAgIHZhciByZWdOYW1lID0gL15bXFx1NGUwMC1cXHU5ZmE1XXsyLDR9JC87XG4gICAgICAgIGlmICghcmVnTmFtZS50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICBjYy5Ub29scy5zaG93VGlwcyh0aGlzLm5vZGUsIFwi55yf5a6e5aeT5ZCN5aGr5YaZ5pyJ6K+vXCIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuICAgIC8vIOWIpOaWrei6q+S7veivgeWPt1xuICAgIHJlZ1lvdXJOdW1iZXIobnVtKSB7XG4gICAgICAgIHZhciByZWdJZE5vID0gLyheXFxkezE1fSQpfCheXFxkezE4fSQpfCheXFxkezE3fShcXGR8WHx4KSQpLztcbiAgICAgICAgaWYgKCFyZWdJZE5vLnRlc3QobnVtKSkge1xuICAgICAgICAgICAgY2MuVG9vbHMuc2hvd1RpcHModGhpcy5ub2RlLCAn6Lqr5Lu96K+B5Y+35aGr5YaZ5pyJ6K+vJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG59KTtcblxuXG4iXX0=